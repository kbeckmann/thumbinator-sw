ARM GAS  /tmp/ccce1JxS.s 			page 1


   1              		.cpu cortex-m0
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 4
   9              		.eabi_attribute 34, 0
  10              		.eabi_attribute 18, 4
  11              		.file	"stm32f0xx_hal_pcd.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.HAL_PCD_MspInit,"ax",%progbits
  16              		.align	1
  17              		.weak	HAL_PCD_MspInit
  18              		.syntax unified
  19              		.code	16
  20              		.thumb_func
  21              		.fpu softvfp
  23              	HAL_PCD_MspInit:
  24              	.LFB93:
  25              		.cfi_startproc
  26              		@ sp needed
  27 0000 7047     		bx	lr
  28              		.cfi_endproc
  29              	.LFE93:
  31              		.section	.text.HAL_PCD_Init,"ax",%progbits
  32              		.align	1
  33              		.global	HAL_PCD_Init
  34              		.syntax unified
  35              		.code	16
  36              		.thumb_func
  37              		.fpu softvfp
  39              	HAL_PCD_Init:
  40              	.LFB35:
  41              		.file 1 "Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c"
   1:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
   2:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ******************************************************************************
   3:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @file    stm32f0xx_hal_pcd.c
   4:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @author  MCD Application Team
   5:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @version V1.4.0
   6:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @date    27-May-2016
   7:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief   PCD HAL module driver.
   8:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   *          This file provides firmware functions to manage the following 
   9:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   *          functionalities of the USB Peripheral Controller:
  10:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   *           + Initialization and de-initialization functions
  11:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   *           + IO operation functions
  12:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   *           + Peripheral Control functions 
  13:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   *           + Peripheral State functions
  14:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   *         
  15:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   @verbatim
  16:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ==============================================================================
  17:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****                     ##### How to use this driver #####
  18:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ==============================================================================
  19:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     [..]
ARM GAS  /tmp/ccce1JxS.s 			page 2


  20:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       The PCD HAL driver can be used as follows:
  21:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
  22:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****      (#) Declare a PCD_HandleTypeDef handle structure, for example:
  23:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****          PCD_HandleTypeDef  hpcd;
  24:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         
  25:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****      (#) Fill parameters of Init structure in HCD handle
  26:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
  27:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****      (#) Call HAL_PCD_Init() API to initialize the HCD peripheral (Core, Device core, ...) 
  28:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
  29:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****      (#) Initialize the PCD low level resources through the HAL_PCD_MspInit() API:
  30:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****          (##) Enable the PCD/USB Low Level interface clock using 
  31:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****               (+++) __HAL_RCC_USB_CLK_ENABLE);
  32:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****            
  33:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****          (##) Initialize the related GPIO clocks
  34:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****          (##) Configure PCD pin-out
  35:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****          (##) Configure PCD NVIC interrupt
  36:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     
  37:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****      (#)Associate the Upper USB device stack to the HAL PCD Driver:
  38:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****          (##) hpcd.pData = pdev;
  39:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
  40:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****      (#)Enable HCD transmission and reception:
  41:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****          (##) HAL_PCD_Start();
  42:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
  43:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   @endverbatim
  44:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ******************************************************************************
  45:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @attention
  46:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   *
  47:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * <h2><center>&copy; COPYRIGHT(c) 2016 STMicroelectronics</center></h2>
  48:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   *
  49:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * Redistribution and use in source and binary forms, with or without modification,
  50:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * are permitted provided that the following conditions are met:
  51:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   *   1. Redistributions of source code must retain the above copyright notice,
  52:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   *      this list of conditions and the following disclaimer.
  53:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
  54:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   *      this list of conditions and the following disclaimer in the documentation
  55:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   *      and/or other materials provided with the distribution.
  56:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
  57:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   *      may be used to endorse or promote products derived from this software
  58:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   *      without specific prior written permission.
  59:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   *
  60:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  61:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  62:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  63:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  64:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  65:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  66:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  67:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  68:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  69:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  70:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   *
  71:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ******************************************************************************
  72:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
  73:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
  74:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /* Includes ------------------------------------------------------------------*/
  75:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** #include "stm32f0xx_hal.h"
  76:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
ARM GAS  /tmp/ccce1JxS.s 			page 3


  77:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /** @addtogroup STM32F0xx_HAL_Driver
  78:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @{
  79:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
  80:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
  81:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** #ifdef HAL_PCD_MODULE_ENABLED
  82:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
  83:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** #if defined(STM32F042x6) || defined(STM32F048xx) || defined(STM32F072xB) || defined(STM32F078xx) ||
  84:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
  85:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /** @defgroup PCD PCD
  86:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief PCD HAL module driver
  87:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @{
  88:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
  89:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
  90:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /* Private typedef -----------------------------------------------------------*/
  91:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /* Private define ------------------------------------------------------------*/
  92:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
  93:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /** @defgroup PCD_Private_Define PCD Private Define
  94:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @{
  95:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
  96:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** #define BTABLE_ADDRESS                  (0x000)  
  97:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
  98:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @}
  99:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */ 
 100:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 101:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /* Private macro -------------------------------------------------------------*/
 102:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /* Private variables ---------------------------------------------------------*/
 103:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /* Private function prototypes -----------------------------------------------*/
 104:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /** @defgroup PCD_Private_Functions PCD Private Functions
 105:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @{
 106:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 107:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** static HAL_StatusTypeDef PCD_EP_ISR_Handler(PCD_HandleTypeDef *hpcd);
 108:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** void PCD_WritePMA(USB_TypeDef  *USBx, uint8_t *pbUsrBuf, uint16_t wPMABufAddr, uint16_t wNBytes);
 109:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** void PCD_ReadPMA(USB_TypeDef  *USBx, uint8_t *pbUsrBuf, uint16_t wPMABufAddr, uint16_t wNBytes);
 110:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 111:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @}
 112:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */ 
 113:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 114:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /* Exported functions --------------------------------------------------------*/
 115:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /** @defgroup PCD_Exported_Functions PCD Exported Functions
 116:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @{
 117:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 118:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 119:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /** @defgroup PCD_Exported_Functions_Group1 Initialization and de-initialization functions 
 120:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  *  @brief    Initialization and Configuration functions 
 121:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  *
 122:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** @verbatim
 123:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  ===============================================================================
 124:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             ##### Initialization and de-initialization functions #####
 125:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  ===============================================================================
 126:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     [..]  This section provides functions allowing to:
 127:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  
 128:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** @endverbatim
 129:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @{
 130:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 131:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 132:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 133:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Initializes the PCD according to the specified
ARM GAS  /tmp/ccce1JxS.s 			page 4


 134:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   *         parameters in the PCD_InitTypeDef and create the associated handle.
 135:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 136:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval HAL status
 137:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 138:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_Init(PCD_HandleTypeDef *hpcd)
 139:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** { 
  42              		.loc 1 139 0
  43              		.cfi_startproc
  44              	.LVL0:
  45              		.loc 1 139 0
  46 0000 70B5     		push	{r4, r5, r6, lr}
  47              	.LCFI0:
  48              		.cfi_def_cfa_offset 16
  49              		.cfi_offset 4, -16
  50              		.cfi_offset 5, -12
  51              		.cfi_offset 6, -8
  52              		.cfi_offset 14, -4
  53              		.loc 1 139 0
  54 0002 0400     		movs	r4, r0
 140:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   uint32_t i = 0;
 141:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 142:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   uint32_t wInterrupt_Mask = 0;
 143:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 144:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Check the PCD handle allocation */
 145:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if(hpcd == NULL)
 146:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 147:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     return HAL_ERROR;
  55              		.loc 1 147 0
  56 0004 0120     		movs	r0, #1
  57              	.LVL1:
 145:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
  58              		.loc 1 145 0
  59 0006 002C     		cmp	r4, #0
  60 0008 2BD0     		beq	.L3
 148:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 149:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 150:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Check the parameters */
 151:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   assert_param(IS_PCD_ALL_INSTANCE(hpcd->Instance));
 152:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 153:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if(hpcd->State == HAL_PCD_STATE_RESET)
  61              		.loc 1 153 0
  62 000a EA25     		movs	r5, #234
  63 000c FF35     		adds	r5, r5, #255
  64 000e 635D     		ldrb	r3, [r4, r5]
  65 0010 DBB2     		uxtb	r3, r3
  66 0012 002B     		cmp	r3, #0
  67 0014 05D1     		bne	.L4
 154:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {  
 155:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     /* Allocate lock resource and initialize it */
 156:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     hpcd->Lock = HAL_UNLOCKED;
  68              		.loc 1 156 0
  69 0016 F422     		movs	r2, #244
  70 0018 5200     		lsls	r2, r2, #1
  71 001a A354     		strb	r3, [r4, r2]
 157:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 158:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     /* Init the low level hardware : GPIO, CLOCK, NVIC... */
 159:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     HAL_PCD_MspInit(hpcd);
ARM GAS  /tmp/ccce1JxS.s 			page 5


  72              		.loc 1 159 0
  73 001c 2000     		movs	r0, r4
  74 001e FFF7FEFF 		bl	HAL_PCD_MspInit
  75              	.LVL2:
  76              	.L4:
 160:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 161:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 162:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   hpcd->State = HAL_PCD_STATE_BUSY;
  77              		.loc 1 162 0
  78 0022 0323     		movs	r3, #3
 163:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  
 164:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  /* Init endpoints structures */
 165:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  for (i = 0; i < hpcd->Init.dev_endpoints ; i++)
  79              		.loc 1 165 0
  80 0024 0022     		movs	r2, #0
 162:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  
  81              		.loc 1 162 0
  82 0026 6355     		strb	r3, [r4, r5]
  83 0028 2300     		movs	r3, r4
  84 002a 1100     		movs	r1, r2
 166:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  {
 167:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    /* Init ep structure */
 168:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    hpcd->IN_ep[i].is_in = 1;
  85              		.loc 1 168 0
  86 002c 0126     		movs	r6, #1
 165:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  {
  87              		.loc 1 165 0
  88 002e 6068     		ldr	r0, [r4, #4]
  89 0030 2833     		adds	r3, r3, #40
  90              	.LVL3:
  91              	.L5:
 165:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  {
  92              		.loc 1 165 0 is_stmt 0 discriminator 1
  93 0032 8242     		cmp	r2, r0
  94 0034 16D1     		bne	.L6
 165:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  {
  95              		.loc 1 165 0
  96 0036 0021     		movs	r1, #0
  97 0038 2300     		movs	r3, r4
 169:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    hpcd->IN_ep[i].num = i;
 170:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    /* Control until ep is actvated */
 171:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    hpcd->IN_ep[i].type = PCD_EP_TYPE_CTRL;
 172:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    hpcd->IN_ep[i].maxpacket =  0;
 173:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    hpcd->IN_ep[i].xfer_buff = 0;
 174:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    hpcd->IN_ep[i].xfer_len = 0;
 175:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  }
 176:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  
 177:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  for (i = 0; i < hpcd->Init.dev_endpoints ; i++)
 178:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  {
 179:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    hpcd->OUT_ep[i].is_in = 0;
  98              		.loc 1 179 0 is_stmt 1
  99 003a 0800     		movs	r0, r1
 100 003c 0933     		adds	r3, r3, #9
 101 003e FF33     		adds	r3, r3, #255
 102              	.LVL4:
 103              	.L7:
 177:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  {
ARM GAS  /tmp/ccce1JxS.s 			page 6


 104              		.loc 1 177 0 discriminator 1
 105 0040 8A42     		cmp	r2, r1
 106 0042 18D1     		bne	.L8
 180:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    hpcd->OUT_ep[i].num = i;
 181:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    /* Control until ep is activated */
 182:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    hpcd->OUT_ep[i].type = PCD_EP_TYPE_CTRL;
 183:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    hpcd->OUT_ep[i].maxpacket = 0;
 184:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    hpcd->OUT_ep[i].xfer_buff = 0;
 185:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    hpcd->OUT_ep[i].xfer_len = 0;
 186:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  }
 187:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 188:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  /* Init Device */
 189:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  /*CNTR_FRES = 1*/
 190:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  hpcd->Instance->CNTR = USB_CNTR_FRES;
 191:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  
 192:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  /*CNTR_FRES = 0*/
 193:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  hpcd->Instance->CNTR = 0;
 107              		.loc 1 193 0
 108 0044 0020     		movs	r0, #0
 190:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  
 109              		.loc 1 190 0
 110 0046 0121     		movs	r1, #1
 111              	.LVL5:
 112 0048 2368     		ldr	r3, [r4]
 113 004a 9A1C     		adds	r2, r3, #2
 194:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  
 195:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  /*Clear pending interrupts*/
 196:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  hpcd->Instance->ISTR = 0;
 114              		.loc 1 196 0
 115 004c 9E1D     		adds	r6, r3, #6
 197:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  
 198:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /*Set Btable Adress*/
 199:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  hpcd->Instance->BTABLE = BTABLE_ADDRESS;
 116              		.loc 1 199 0
 117 004e 5033     		adds	r3, r3, #80
 190:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  
 118              		.loc 1 190 0
 119 0050 D187     		strh	r1, [r2, #62]
 193:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  
 120              		.loc 1 193 0
 121 0052 D087     		strh	r0, [r2, #62]
 196:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  
 122              		.loc 1 196 0
 123 0054 F087     		strh	r0, [r6, #62]
 124              		.loc 1 199 0
 125 0056 1880     		strh	r0, [r3]
 126              	.LVL6:
 200:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 201:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /*set wInterrupt_Mask global variable*/
 202:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  wInterrupt_Mask = USB_CNTR_CTRM  | USB_CNTR_WKUPM | USB_CNTR_SUSPM | USB_CNTR_ERRM \
 203:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    | USB_CNTR_SOFM | USB_CNTR_ESOFM | USB_CNTR_RESETM;
 204:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 205:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /*Set interrupt mask*/
 206:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   hpcd->Instance->CNTR = wInterrupt_Mask;
 127              		.loc 1 206 0
 128 0058 0B4B     		ldr	r3, .L10
 129 005a D387     		strh	r3, [r2, #62]
ARM GAS  /tmp/ccce1JxS.s 			page 7


 207:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 208:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   hpcd->USB_Address = 0;
 130              		.loc 1 208 0
 131 005c 631D     		adds	r3, r4, #5
 132 005e D877     		strb	r0, [r3, #31]
 209:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   hpcd->State= HAL_PCD_STATE_READY;
 133              		.loc 1 209 0
 134 0060 6155     		strb	r1, [r4, r5]
 135              	.LVL7:
 136              	.L3:
 210:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 211:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  return HAL_OK;
 212:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 137              		.loc 1 212 0
 138              		@ sp needed
 139              	.LVL8:
 140 0062 70BD     		pop	{r4, r5, r6, pc}
 141              	.LVL9:
 142              	.L6:
 169:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    /* Control until ep is actvated */
 143              		.loc 1 169 0 discriminator 3
 144 0064 1A70     		strb	r2, [r3]
 168:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    hpcd->IN_ep[i].num = i;
 145              		.loc 1 168 0 discriminator 3
 146 0066 5E70     		strb	r6, [r3, #1]
 171:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    hpcd->IN_ep[i].maxpacket =  0;
 147              		.loc 1 171 0 discriminator 3
 148 0068 D970     		strb	r1, [r3, #3]
 172:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    hpcd->IN_ep[i].xfer_buff = 0;
 149              		.loc 1 172 0 discriminator 3
 150 006a D960     		str	r1, [r3, #12]
 173:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    hpcd->IN_ep[i].xfer_len = 0;
 151              		.loc 1 173 0 discriminator 3
 152 006c 1961     		str	r1, [r3, #16]
 174:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  }
 153              		.loc 1 174 0 discriminator 3
 154 006e 5961     		str	r1, [r3, #20]
 165:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  {
 155              		.loc 1 165 0 discriminator 3
 156 0070 0132     		adds	r2, r2, #1
 157              	.LVL10:
 158 0072 1C33     		adds	r3, r3, #28
 159 0074 DDE7     		b	.L5
 160              	.LVL11:
 161              	.L8:
 180:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    /* Control until ep is activated */
 162              		.loc 1 180 0 discriminator 3
 163 0076 1970     		strb	r1, [r3]
 179:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    hpcd->OUT_ep[i].num = i;
 164              		.loc 1 179 0 discriminator 3
 165 0078 5870     		strb	r0, [r3, #1]
 182:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    hpcd->OUT_ep[i].maxpacket = 0;
 166              		.loc 1 182 0 discriminator 3
 167 007a D870     		strb	r0, [r3, #3]
 183:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    hpcd->OUT_ep[i].xfer_buff = 0;
 168              		.loc 1 183 0 discriminator 3
 169 007c D860     		str	r0, [r3, #12]
ARM GAS  /tmp/ccce1JxS.s 			page 8


 184:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    hpcd->OUT_ep[i].xfer_len = 0;
 170              		.loc 1 184 0 discriminator 3
 171 007e 1861     		str	r0, [r3, #16]
 185:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  }
 172              		.loc 1 185 0 discriminator 3
 173 0080 5861     		str	r0, [r3, #20]
 177:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  {
 174              		.loc 1 177 0 discriminator 3
 175 0082 0131     		adds	r1, r1, #1
 176              	.LVL12:
 177 0084 1C33     		adds	r3, r3, #28
 178 0086 DBE7     		b	.L7
 179              	.L11:
 180              		.align	2
 181              	.L10:
 182 0088 00BFFFFF 		.word	-16640
 183              		.cfi_endproc
 184              	.LFE35:
 186              		.section	.text.HAL_PCD_MspDeInit,"ax",%progbits
 187              		.align	1
 188              		.weak	HAL_PCD_MspDeInit
 189              		.syntax unified
 190              		.code	16
 191              		.thumb_func
 192              		.fpu softvfp
 194              	HAL_PCD_MspDeInit:
 195              	.LFB91:
 196              		.cfi_startproc
 197              		@ sp needed
 198 0000 7047     		bx	lr
 199              		.cfi_endproc
 200              	.LFE91:
 202              		.section	.text.HAL_PCD_Start,"ax",%progbits
 203              		.align	1
 204              		.global	HAL_PCD_Start
 205              		.syntax unified
 206              		.code	16
 207              		.thumb_func
 208              		.fpu softvfp
 210              	HAL_PCD_Start:
 211              	.LFB39:
 213:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 214:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 215:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  DeInitializes the PCD peripheral 
 216:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 217:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval HAL status
 218:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 219:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_DeInit(PCD_HandleTypeDef *hpcd)
 220:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 221:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Check the PCD handle allocation */
 222:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if(hpcd == NULL)
 223:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 224:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     return HAL_ERROR;
 225:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 226:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 227:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   hpcd->State = HAL_PCD_STATE_BUSY;
 228:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
ARM GAS  /tmp/ccce1JxS.s 			page 9


 229:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Stop Device */
 230:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   HAL_PCD_Stop(hpcd);
 231:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     
 232:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* DeInit the low level hardware */
 233:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   HAL_PCD_MspDeInit(hpcd);
 234:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 235:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   hpcd->State = HAL_PCD_STATE_RESET; 
 236:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 237:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   return HAL_OK;
 238:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 239:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 240:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 241:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Initializes the PCD MSP.
 242:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 243:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval None
 244:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 245:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** __weak void HAL_PCD_MspInit(PCD_HandleTypeDef *hpcd)
 246:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 247:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 248:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   UNUSED(hpcd);
 249:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 250:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
 251:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             the HAL_PCD_MspInit could be implemented in the user file
 252:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    */
 253:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 254:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 255:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 256:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  DeInitializes PCD MSP.
 257:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 258:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval None
 259:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 260:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** __weak void HAL_PCD_MspDeInit(PCD_HandleTypeDef *hpcd)
 261:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 262:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 263:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   UNUSED(hpcd);
 264:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 265:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
 266:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             the HAL_PCD_MspDeInit could be implemented in the user file
 267:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    */
 268:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 269:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 270:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 271:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @}
 272:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 273:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 274:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /** @defgroup PCD_Exported_Functions_Group2 IO operation functions 
 275:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  *  @brief   Data transfers functions 
 276:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  *
 277:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** @verbatim   
 278:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  ===============================================================================
 279:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****                       ##### IO operation functions #####
 280:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  ===============================================================================  
 281:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     [..]
 282:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     This subsection provides a set of functions allowing to manage the PCD data 
 283:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     transfers.
 284:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 285:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** @endverbatim
ARM GAS  /tmp/ccce1JxS.s 			page 10


 286:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @{
 287:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 288:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 289:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 290:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Start the USB device.
 291:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 292:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval HAL status
 293:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 294:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_Start(PCD_HandleTypeDef *hpcd)
 295:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** { 
 212              		.loc 1 295 0
 213              		.cfi_startproc
 214              	.LVL13:
 296:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Enabling DP Pull-Down bit to Connect internal pull-up on USB DP line */
 297:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   hpcd->Instance->BCDR |= USB_BCDR_DPPU;
 215              		.loc 1 297 0
 216 0000 8021     		movs	r1, #128
 217 0002 0368     		ldr	r3, [r0]
 218 0004 0902     		lsls	r1, r1, #8
 219 0006 5833     		adds	r3, r3, #88
 220 0008 1A88     		ldrh	r2, [r3]
 298:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 299:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   return HAL_OK;
 300:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 221              		.loc 1 300 0
 222 000a 0020     		movs	r0, #0
 223              	.LVL14:
 297:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 224              		.loc 1 297 0
 225 000c 0A43     		orrs	r2, r1
 226 000e 1A80     		strh	r2, [r3]
 227              		.loc 1 300 0
 228              		@ sp needed
 229 0010 7047     		bx	lr
 230              		.cfi_endproc
 231              	.LFE39:
 233              		.section	.text.HAL_PCD_Stop,"ax",%progbits
 234              		.align	1
 235              		.global	HAL_PCD_Stop
 236              		.syntax unified
 237              		.code	16
 238              		.thumb_func
 239              		.fpu softvfp
 241              	HAL_PCD_Stop:
 242              	.LFB40:
 301:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 302:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 303:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Stop the USB device.
 304:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 305:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval HAL status
 306:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 307:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_Stop(PCD_HandleTypeDef *hpcd)
 308:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** { 
 243              		.loc 1 308 0
 244              		.cfi_startproc
 245              	.LVL15:
 309:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_LOCK(hpcd); 
ARM GAS  /tmp/ccce1JxS.s 			page 11


 246              		.loc 1 309 0
 247 0000 F421     		movs	r1, #244
 308:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_LOCK(hpcd); 
 248              		.loc 1 308 0
 249 0002 10B5     		push	{r4, lr}
 250              	.LCFI1:
 251              		.cfi_def_cfa_offset 8
 252              		.cfi_offset 4, -8
 253              		.cfi_offset 14, -4
 254              		.loc 1 309 0
 255 0004 4900     		lsls	r1, r1, #1
 256 0006 425C     		ldrb	r2, [r0, r1]
 257 0008 0223     		movs	r3, #2
 258 000a 012A     		cmp	r2, #1
 259 000c 09D0     		beq	.L15
 260              	.LVL16:
 261              	.LBB4:
 262              	.LBB5:
 310:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 311:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     /* disable all interrupts and force USB reset */
 312:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   hpcd->Instance->CNTR = USB_CNTR_FRES;
 263              		.loc 1 312 0
 264 000e 0122     		movs	r2, #1
 265 0010 0368     		ldr	r3, [r0]
 266 0012 9C1C     		adds	r4, r3, #2
 267 0014 E287     		strh	r2, [r4, #62]
 313:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 314:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* clear interrupt status register */
 315:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   hpcd->Instance->ISTR = 0;
 268              		.loc 1 315 0
 269 0016 9A1D     		adds	r2, r3, #6
 270 0018 0023     		movs	r3, #0
 271 001a D387     		strh	r3, [r2, #62]
 316:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 317:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* switch-off device */
 318:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   hpcd->Instance->CNTR = (USB_CNTR_FRES | USB_CNTR_PDWN);
 272              		.loc 1 318 0
 273 001c 0322     		movs	r2, #3
 274 001e E287     		strh	r2, [r4, #62]
 319:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 320:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd); 
 275              		.loc 1 320 0
 276 0020 4354     		strb	r3, [r0, r1]
 277              	.LVL17:
 278              	.L15:
 279              	.LBE5:
 280              	.LBE4:
 321:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   return HAL_OK;
 322:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 281              		.loc 1 322 0
 282 0022 1800     		movs	r0, r3
 283              	.LVL18:
 284              		@ sp needed
 285 0024 10BD     		pop	{r4, pc}
 286              		.cfi_endproc
 287              	.LFE40:
 289              		.section	.text.HAL_PCD_DeInit,"ax",%progbits
ARM GAS  /tmp/ccce1JxS.s 			page 12


 290              		.align	1
 291              		.global	HAL_PCD_DeInit
 292              		.syntax unified
 293              		.code	16
 294              		.thumb_func
 295              		.fpu softvfp
 297              	HAL_PCD_DeInit:
 298              	.LFB36:
 220:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Check the PCD handle allocation */
 299              		.loc 1 220 0
 300              		.cfi_startproc
 301              	.LVL19:
 302 0000 70B5     		push	{r4, r5, r6, lr}
 303              	.LCFI2:
 304              		.cfi_def_cfa_offset 16
 305              		.cfi_offset 4, -16
 306              		.cfi_offset 5, -12
 307              		.cfi_offset 6, -8
 308              		.cfi_offset 14, -4
 220:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Check the PCD handle allocation */
 309              		.loc 1 220 0
 310 0002 0400     		movs	r4, r0
 224:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 311              		.loc 1 224 0
 312 0004 0120     		movs	r0, #1
 313              	.LVL20:
 222:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 314              		.loc 1 222 0
 315 0006 002C     		cmp	r4, #0
 316 0008 0BD0     		beq	.L19
 227:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 317              		.loc 1 227 0
 318 000a EA25     		movs	r5, #234
 319 000c 0323     		movs	r3, #3
 320 000e FF35     		adds	r5, r5, #255
 321 0010 6355     		strb	r3, [r4, r5]
 230:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     
 322              		.loc 1 230 0
 323 0012 2000     		movs	r0, r4
 324 0014 FFF7FEFF 		bl	HAL_PCD_Stop
 325              	.LVL21:
 233:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 326              		.loc 1 233 0
 327 0018 2000     		movs	r0, r4
 328 001a FFF7FEFF 		bl	HAL_PCD_MspDeInit
 329              	.LVL22:
 235:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 330              		.loc 1 235 0
 331 001e 0020     		movs	r0, #0
 332 0020 6055     		strb	r0, [r4, r5]
 333              	.L19:
 238:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 334              		.loc 1 238 0
 335              		@ sp needed
 336              	.LVL23:
 337 0022 70BD     		pop	{r4, r5, r6, pc}
 338              		.cfi_endproc
ARM GAS  /tmp/ccce1JxS.s 			page 13


 339              	.LFE36:
 341              		.section	.text.HAL_PCD_DataOutStageCallback,"ax",%progbits
 342              		.align	1
 343              		.weak	HAL_PCD_DataOutStageCallback
 344              		.syntax unified
 345              		.code	16
 346              		.thumb_func
 347              		.fpu softvfp
 349              	HAL_PCD_DataOutStageCallback:
 350              	.LFB77:
 351              		.cfi_startproc
 352              		@ sp needed
 353 0000 7047     		bx	lr
 354              		.cfi_endproc
 355              	.LFE77:
 357              		.section	.text.HAL_PCD_DataInStageCallback,"ax",%progbits
 358              		.align	1
 359              		.weak	HAL_PCD_DataInStageCallback
 360              		.syntax unified
 361              		.code	16
 362              		.thumb_func
 363              		.fpu softvfp
 365              	HAL_PCD_DataInStageCallback:
 366              	.LFB75:
 367              		.cfi_startproc
 368              		@ sp needed
 369 0000 7047     		bx	lr
 370              		.cfi_endproc
 371              	.LFE75:
 373              		.section	.text.HAL_PCD_SetupStageCallback,"ax",%progbits
 374              		.align	1
 375              		.weak	HAL_PCD_SetupStageCallback
 376              		.syntax unified
 377              		.code	16
 378              		.thumb_func
 379              		.fpu softvfp
 381              	HAL_PCD_SetupStageCallback:
 382              	.LFB89:
 383              		.cfi_startproc
 384              		@ sp needed
 385 0000 7047     		bx	lr
 386              		.cfi_endproc
 387              	.LFE89:
 389              		.section	.text.HAL_PCD_SOFCallback,"ax",%progbits
 390              		.align	1
 391              		.weak	HAL_PCD_SOFCallback
 392              		.syntax unified
 393              		.code	16
 394              		.thumb_func
 395              		.fpu softvfp
 397              	HAL_PCD_SOFCallback:
 398              	.LFB87:
 399              		.cfi_startproc
 400              		@ sp needed
 401 0000 7047     		bx	lr
 402              		.cfi_endproc
 403              	.LFE87:
ARM GAS  /tmp/ccce1JxS.s 			page 14


 405              		.section	.text.HAL_PCD_ResetCallback,"ax",%progbits
 406              		.align	1
 407              		.weak	HAL_PCD_ResetCallback
 408              		.syntax unified
 409              		.code	16
 410              		.thumb_func
 411              		.fpu softvfp
 413              	HAL_PCD_ResetCallback:
 414              	.LFB85:
 415              		.cfi_startproc
 416              		@ sp needed
 417 0000 7047     		bx	lr
 418              		.cfi_endproc
 419              	.LFE85:
 421              		.section	.text.HAL_PCD_SuspendCallback,"ax",%progbits
 422              		.align	1
 423              		.weak	HAL_PCD_SuspendCallback
 424              		.syntax unified
 425              		.code	16
 426              		.thumb_func
 427              		.fpu softvfp
 429              	HAL_PCD_SuspendCallback:
 430              	.LFB83:
 431              		.cfi_startproc
 432              		@ sp needed
 433 0000 7047     		bx	lr
 434              		.cfi_endproc
 435              	.LFE83:
 437              		.section	.text.HAL_PCD_ResumeCallback,"ax",%progbits
 438              		.align	1
 439              		.weak	HAL_PCD_ResumeCallback
 440              		.syntax unified
 441              		.code	16
 442              		.thumb_func
 443              		.fpu softvfp
 445              	HAL_PCD_ResumeCallback:
 446              	.LFB81:
 447              		.cfi_startproc
 448              		@ sp needed
 449 0000 7047     		bx	lr
 450              		.cfi_endproc
 451              	.LFE81:
 453              		.section	.text.HAL_PCD_ISOOUTIncompleteCallback,"ax",%progbits
 454              		.align	1
 455              		.weak	HAL_PCD_ISOOUTIncompleteCallback
 456              		.syntax unified
 457              		.code	16
 458              		.thumb_func
 459              		.fpu softvfp
 461              	HAL_PCD_ISOOUTIncompleteCallback:
 462              	.LFB73:
 463              		.cfi_startproc
 464              		@ sp needed
 465 0000 7047     		bx	lr
 466              		.cfi_endproc
 467              	.LFE73:
 469              		.section	.text.HAL_PCD_ISOINIncompleteCallback,"ax",%progbits
ARM GAS  /tmp/ccce1JxS.s 			page 15


 470              		.align	1
 471              		.weak	HAL_PCD_ISOINIncompleteCallback
 472              		.syntax unified
 473              		.code	16
 474              		.thumb_func
 475              		.fpu softvfp
 477              	HAL_PCD_ISOINIncompleteCallback:
 478              	.LFB50:
 323:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 324:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 325:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  This function handles PCD interrupt request.
 326:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 327:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval HAL status
 328:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 329:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** void HAL_PCD_IRQHandler(PCD_HandleTypeDef *hpcd)
 330:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 331:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   uint32_t wInterrupt_Mask = 0;
 332:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 333:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_CTR))
 334:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 335:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     /* servicing of the endpoint correct transfer interrupt */
 336:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     /* clear of the CTR flag into the sub */
 337:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_EP_ISR_Handler(hpcd);
 338:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 339:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 340:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_RESET))
 341:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 342:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     __HAL_PCD_CLEAR_FLAG(hpcd, USB_ISTR_RESET);
 343:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     HAL_PCD_ResetCallback(hpcd);
 344:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     HAL_PCD_SetAddress(hpcd, 0);
 345:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 346:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 347:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_PMAOVR))
 348:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 349:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     __HAL_PCD_CLEAR_FLAG(hpcd, USB_ISTR_PMAOVR);    
 350:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 351:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 352:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_ERR))
 353:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 354:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     __HAL_PCD_CLEAR_FLAG(hpcd, USB_ISTR_ERR); 
 355:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 356:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 357:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_WKUP))
 358:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 359:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     
 360:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     hpcd->Instance->CNTR &= (uint16_t)(~(USB_CNTR_LPMODE));
 361:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 362:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     /*set wInterrupt_Mask global variable*/
 363:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     wInterrupt_Mask = USB_CNTR_CTRM  | USB_CNTR_WKUPM | USB_CNTR_SUSPM | USB_CNTR_ERRM \
 364:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       | USB_CNTR_ESOFM | USB_CNTR_RESETM;
 365:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     
 366:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     /*Set interrupt mask*/
 367:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     hpcd->Instance->CNTR = wInterrupt_Mask;
 368:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     
 369:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     HAL_PCD_ResumeCallback(hpcd);
 370:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     
 371:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     __HAL_PCD_CLEAR_FLAG(hpcd, USB_ISTR_WKUP);     
ARM GAS  /tmp/ccce1JxS.s 			page 16


 372:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 373:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 374:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_SUSP))
 375:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {    
 376:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     /* clear of the ISTR bit must be done after setting of CNTR_FSUSP */
 377:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     __HAL_PCD_CLEAR_FLAG(hpcd, USB_ISTR_SUSP);  
 378:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     
 379:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     /* Force low-power mode in the macrocell */
 380:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     hpcd->Instance->CNTR |= USB_CNTR_FSUSP;
 381:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     hpcd->Instance->CNTR |= USB_CNTR_LPMODE;
 382:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 383:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_WKUP) == 0)
 384:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
 385:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       HAL_PCD_SuspendCallback(hpcd);
 386:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 387:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 388:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 389:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_SOF))
 390:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 391:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     __HAL_PCD_CLEAR_FLAG(hpcd, USB_ISTR_SOF); 
 392:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     HAL_PCD_SOFCallback(hpcd);
 393:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 394:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 395:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if (__HAL_PCD_GET_FLAG (hpcd, USB_ISTR_ESOF))
 396:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 397:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     /* clear ESOF flag in ISTR */
 398:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     __HAL_PCD_CLEAR_FLAG(hpcd, USB_ISTR_ESOF); 
 399:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 400:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 401:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 402:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 403:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Data out stage callbacks
 404:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 405:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  epnum: endpoint number
 406:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval None
 407:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 408:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  __weak void HAL_PCD_DataOutStageCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
 409:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 410:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 411:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   UNUSED(hpcd);
 412:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   UNUSED(epnum);
 413:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 414:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
 415:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             the HAL_PCD_DataOutStageCallback could be implemented in the user file
 416:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    */ 
 417:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 418:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 419:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 420:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Data IN stage callbacks
 421:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 422:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  epnum: endpoint number
 423:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval None
 424:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 425:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  __weak void HAL_PCD_DataInStageCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
 426:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 427:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 428:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   UNUSED(hpcd);
ARM GAS  /tmp/ccce1JxS.s 			page 17


 429:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   UNUSED(epnum);
 430:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 431:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
 432:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             the HAL_PCD_DataInStageCallback could be implemented in the user file
 433:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    */ 
 434:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 435:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 436:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Setup stage callback
 437:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 438:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval None
 439:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 440:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  __weak void HAL_PCD_SetupStageCallback(PCD_HandleTypeDef *hpcd)
 441:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 442:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 443:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   UNUSED(hpcd);
 444:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 445:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
 446:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             the HAL_PCD_SetupStageCallback could be implemented in the user file
 447:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    */ 
 448:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 449:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 450:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 451:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  USB Start Of Frame callbacks
 452:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 453:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval None
 454:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 455:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  __weak void HAL_PCD_SOFCallback(PCD_HandleTypeDef *hpcd)
 456:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 457:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 458:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   UNUSED(hpcd);
 459:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 460:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
 461:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             the HAL_PCD_SOFCallback could be implemented in the user file
 462:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    */ 
 463:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 464:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 465:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 466:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  USB Reset callbacks
 467:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 468:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval None
 469:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 470:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  __weak void HAL_PCD_ResetCallback(PCD_HandleTypeDef *hpcd)
 471:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 472:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 473:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   UNUSED(hpcd);
 474:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 475:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
 476:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             the HAL_PCD_ResetCallback could be implemented in the user file
 477:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    */ 
 478:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 479:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 480:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 481:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Suspend event callbacks
 482:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 483:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval None
 484:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 485:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  __weak void HAL_PCD_SuspendCallback(PCD_HandleTypeDef *hpcd)
ARM GAS  /tmp/ccce1JxS.s 			page 18


 486:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 487:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 488:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   UNUSED(hpcd);
 489:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 490:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
 491:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             the HAL_PCD_SuspendCallback could be implemented in the user file
 492:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    */ 
 493:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 494:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 495:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 496:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Resume event callbacks
 497:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 498:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval None
 499:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 500:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  __weak void HAL_PCD_ResumeCallback(PCD_HandleTypeDef *hpcd)
 501:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 502:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 503:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   UNUSED(hpcd);
 504:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 505:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
 506:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             the HAL_PCD_ResumeCallback could be implemented in the user file
 507:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    */ 
 508:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 509:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 510:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 511:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Incomplete ISO OUT callbacks
 512:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 513:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  epnum: endpoint number
 514:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval None
 515:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 516:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  __weak void HAL_PCD_ISOOUTIncompleteCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
 517:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 518:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 519:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   UNUSED(hpcd);
 520:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   UNUSED(epnum);
 521:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 522:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
 523:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             the HAL_PCD_ISOOUTIncompleteCallback could be implemented in the user file
 524:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    */ 
 525:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 526:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 527:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 528:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Incomplete ISO IN  callbacks
 529:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 530:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  epnum: endpoint number
 531:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval None
 532:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 533:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  __weak void HAL_PCD_ISOINIncompleteCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
 534:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 479              		.loc 1 534 0
 480              		.cfi_startproc
 481              	.LVL24:
 535:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 536:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   UNUSED(hpcd);
 537:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   UNUSED(epnum);
 538:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 539:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
ARM GAS  /tmp/ccce1JxS.s 			page 19


 540:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             the HAL_PCD_ISOINIncompleteCallback could be implemented in the user file
 541:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    */ 
 542:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 482              		.loc 1 542 0
 483              		@ sp needed
 484 0000 7047     		bx	lr
 485              		.cfi_endproc
 486              	.LFE50:
 488              		.section	.text.HAL_PCD_ConnectCallback,"ax",%progbits
 489              		.align	1
 490              		.weak	HAL_PCD_ConnectCallback
 491              		.syntax unified
 492              		.code	16
 493              		.thumb_func
 494              		.fpu softvfp
 496              	HAL_PCD_ConnectCallback:
 497              	.LFB79:
 498              		.cfi_startproc
 499              		@ sp needed
 500 0000 7047     		bx	lr
 501              		.cfi_endproc
 502              	.LFE79:
 504              		.section	.text.HAL_PCD_DisconnectCallback,"ax",%progbits
 505              		.align	1
 506              		.weak	HAL_PCD_DisconnectCallback
 507              		.syntax unified
 508              		.code	16
 509              		.thumb_func
 510              		.fpu softvfp
 512              	HAL_PCD_DisconnectCallback:
 513              	.LFB52:
 543:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 544:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 545:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Connection event callbacks
 546:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 547:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval None
 548:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 549:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  __weak void HAL_PCD_ConnectCallback(PCD_HandleTypeDef *hpcd)
 550:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 551:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 552:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   UNUSED(hpcd);
 553:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 554:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
 555:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             the HAL_PCD_ConnectCallback could be implemented in the user file
 556:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    */ 
 557:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 558:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 559:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 560:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Disconnection event callbacks
 561:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 562:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval None
 563:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 564:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  __weak void HAL_PCD_DisconnectCallback(PCD_HandleTypeDef *hpcd)
 565:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 514              		.loc 1 565 0
 515              		.cfi_startproc
 516              	.LVL25:
ARM GAS  /tmp/ccce1JxS.s 			page 20


 566:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Prevent unused argument(s) compilation warning */
 567:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   UNUSED(hpcd);
 568:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 569:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* NOTE : This function Should not be modified, when the callback is needed,
 570:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             the HAL_PCD_DisconnectCallback could be implemented in the user file
 571:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    */ 
 572:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 517              		.loc 1 572 0
 518              		@ sp needed
 519 0000 7047     		bx	lr
 520              		.cfi_endproc
 521              	.LFE52:
 523              		.section	.text.HAL_PCD_DevConnect,"ax",%progbits
 524              		.align	1
 525              		.global	HAL_PCD_DevConnect
 526              		.syntax unified
 527              		.code	16
 528              		.thumb_func
 529              		.fpu softvfp
 531              	HAL_PCD_DevConnect:
 532              	.LFB53:
 573:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 574:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @}
 575:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 576:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     
 577:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /** @defgroup PCD_Exported_Functions_Group3 Peripheral Control functions 
 578:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  *  @brief   management functions 
 579:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  *
 580:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** @verbatim   
 581:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  ===============================================================================
 582:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****                       ##### Peripheral Control functions #####
 583:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  ===============================================================================  
 584:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     [..]
 585:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     This subsection provides a set of functions allowing to control the PCD data 
 586:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     transfers.
 587:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 588:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** @endverbatim
 589:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @{
 590:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 591:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 592:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 593:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Connect the USB device 
 594:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 595:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval HAL status
 596:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 597:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_DevConnect(PCD_HandleTypeDef *hpcd)
 598:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 533              		.loc 1 598 0
 534              		.cfi_startproc
 535              	.LVL26:
 536 0000 10B5     		push	{r4, lr}
 537              	.LCFI3:
 538              		.cfi_def_cfa_offset 8
 539              		.cfi_offset 4, -8
 540              		.cfi_offset 14, -4
 599:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_LOCK(hpcd); 
 541              		.loc 1 599 0
ARM GAS  /tmp/ccce1JxS.s 			page 21


 542 0002 F424     		movs	r4, #244
 543 0004 6400     		lsls	r4, r4, #1
 544 0006 035D     		ldrb	r3, [r0, r4]
 598:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_LOCK(hpcd); 
 545              		.loc 1 598 0
 546 0008 0200     		movs	r2, r0
 547              		.loc 1 599 0
 548 000a 0220     		movs	r0, #2
 549              	.LVL27:
 550 000c 012B     		cmp	r3, #1
 551 000e 08D0     		beq	.L33
 600:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 601:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Enabling DP Pull-Down bit to Connect internal pull-up on USB DP line */
 602:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   hpcd->Instance->BCDR |= USB_BCDR_DPPU;
 552              		.loc 1 602 0 discriminator 2
 553 0010 8020     		movs	r0, #128
 554 0012 1368     		ldr	r3, [r2]
 555 0014 0002     		lsls	r0, r0, #8
 556 0016 5833     		adds	r3, r3, #88
 557 0018 1988     		ldrh	r1, [r3]
 558 001a 0143     		orrs	r1, r0
 603:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 604:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd); 
 559              		.loc 1 604 0 discriminator 2
 560 001c 0020     		movs	r0, #0
 602:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 561              		.loc 1 602 0 discriminator 2
 562 001e 1980     		strh	r1, [r3]
 563              		.loc 1 604 0 discriminator 2
 564 0020 1055     		strb	r0, [r2, r4]
 565              	.L33:
 605:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   return HAL_OK;
 606:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 566              		.loc 1 606 0
 567              		@ sp needed
 568 0022 10BD     		pop	{r4, pc}
 569              		.cfi_endproc
 570              	.LFE53:
 572              		.section	.text.HAL_PCD_DevDisconnect,"ax",%progbits
 573              		.align	1
 574              		.global	HAL_PCD_DevDisconnect
 575              		.syntax unified
 576              		.code	16
 577              		.thumb_func
 578              		.fpu softvfp
 580              	HAL_PCD_DevDisconnect:
 581              	.LFB54:
 607:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 608:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 609:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Disconnect the USB device 
 610:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 611:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval HAL status
 612:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 613:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_DevDisconnect(PCD_HandleTypeDef *hpcd)
 614:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 582              		.loc 1 614 0
 583              		.cfi_startproc
ARM GAS  /tmp/ccce1JxS.s 			page 22


 584              	.LVL28:
 585 0000 10B5     		push	{r4, lr}
 586              	.LCFI4:
 587              		.cfi_def_cfa_offset 8
 588              		.cfi_offset 4, -8
 589              		.cfi_offset 14, -4
 615:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_LOCK(hpcd); 
 590              		.loc 1 615 0
 591 0002 F424     		movs	r4, #244
 592 0004 6400     		lsls	r4, r4, #1
 593 0006 035D     		ldrb	r3, [r0, r4]
 614:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_LOCK(hpcd); 
 594              		.loc 1 614 0
 595 0008 0100     		movs	r1, r0
 596              		.loc 1 615 0
 597 000a 0220     		movs	r0, #2
 598              	.LVL29:
 599 000c 012B     		cmp	r3, #1
 600 000e 07D0     		beq	.L37
 616:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 617:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Disable DP Pull-Down bit*/
 618:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    hpcd->Instance->BCDR &= (uint16_t)(~(USB_BCDR_DPPU));
 619:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 620:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd); 
 601              		.loc 1 620 0 discriminator 2
 602 0010 0020     		movs	r0, #0
 618:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 603              		.loc 1 618 0 discriminator 2
 604 0012 0A68     		ldr	r2, [r1]
 605 0014 5832     		adds	r2, r2, #88
 606 0016 1388     		ldrh	r3, [r2]
 607 0018 5B04     		lsls	r3, r3, #17
 608 001a 5B0C     		lsrs	r3, r3, #17
 609 001c 1380     		strh	r3, [r2]
 610              		.loc 1 620 0 discriminator 2
 611 001e 0855     		strb	r0, [r1, r4]
 612              	.L37:
 621:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   return HAL_OK;
 622:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 613              		.loc 1 622 0
 614              		@ sp needed
 615 0020 10BD     		pop	{r4, pc}
 616              		.cfi_endproc
 617              	.LFE54:
 619              		.section	.text.HAL_PCD_SetAddress,"ax",%progbits
 620              		.align	1
 621              		.global	HAL_PCD_SetAddress
 622              		.syntax unified
 623              		.code	16
 624              		.thumb_func
 625              		.fpu softvfp
 627              	HAL_PCD_SetAddress:
 628              	.LFB55:
 623:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 624:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 625:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Set the USB Device address 
 626:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
ARM GAS  /tmp/ccce1JxS.s 			page 23


 627:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  address: new device address
 628:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval HAL status
 629:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 630:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_SetAddress(PCD_HandleTypeDef *hpcd, uint8_t address)
 631:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 629              		.loc 1 631 0
 630              		.cfi_startproc
 631              	.LVL30:
 632:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    __HAL_LOCK(hpcd); 
 632              		.loc 1 632 0
 633 0000 F422     		movs	r2, #244
 631:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    __HAL_LOCK(hpcd); 
 634              		.loc 1 631 0
 635 0002 10B5     		push	{r4, lr}
 636              	.LCFI5:
 637              		.cfi_def_cfa_offset 8
 638              		.cfi_offset 4, -8
 639              		.cfi_offset 14, -4
 640              		.loc 1 632 0
 641 0004 5200     		lsls	r2, r2, #1
 642 0006 835C     		ldrb	r3, [r0, r2]
 631:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    __HAL_LOCK(hpcd); 
 643              		.loc 1 631 0
 644 0008 0400     		movs	r4, r0
 645              		.loc 1 632 0
 646 000a 0220     		movs	r0, #2
 647              	.LVL31:
 648 000c 012B     		cmp	r3, #1
 649 000e 09D0     		beq	.L41
 650              	.LVL32:
 651              	.LBB8:
 652              	.LBB9:
 653 0010 0123     		movs	r3, #1
 654 0012 A354     		strb	r3, [r4, r2]
 633:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 634:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    if(address == 0) 
 655              		.loc 1 634 0
 656 0014 0029     		cmp	r1, #0
 657 0016 06D1     		bne	.L42
 635:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    {
 636:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****      /* set device address and enable function */
 637:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****      hpcd->Instance->DADDR = USB_DADDR_EF;
 658              		.loc 1 637 0
 659 0018 2368     		ldr	r3, [r4]
 660 001a 8031     		adds	r1, r1, #128
 661              	.LVL33:
 662 001c 4C33     		adds	r3, r3, #76
 663 001e 1980     		strh	r1, [r3]
 664              	.L43:
 638:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    }
 639:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    else /* USB Address will be applied later */
 640:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    {
 641:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****      hpcd->USB_Address = address;
 642:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    }
 643:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 644:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd);   
 665              		.loc 1 644 0
ARM GAS  /tmp/ccce1JxS.s 			page 24


 666 0020 0020     		movs	r0, #0
 667 0022 A054     		strb	r0, [r4, r2]
 668              	.LVL34:
 669              	.L41:
 670              	.LBE9:
 671              	.LBE8:
 645:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   return HAL_OK;
 646:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 672              		.loc 1 646 0
 673              		@ sp needed
 674              	.LVL35:
 675 0024 10BD     		pop	{r4, pc}
 676              	.LVL36:
 677              	.L42:
 678              	.LBB11:
 679              	.LBB10:
 641:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    }
 680              		.loc 1 641 0
 681 0026 631D     		adds	r3, r4, #5
 682 0028 D977     		strb	r1, [r3, #31]
 683 002a F9E7     		b	.L43
 684              	.LBE10:
 685              	.LBE11:
 686              		.cfi_endproc
 687              	.LFE55:
 689              		.section	.text.HAL_PCD_EP_Open,"ax",%progbits
 690              		.align	1
 691              		.global	HAL_PCD_EP_Open
 692              		.syntax unified
 693              		.code	16
 694              		.thumb_func
 695              		.fpu softvfp
 697              	HAL_PCD_EP_Open:
 698              	.LFB56:
 647:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 648:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Open and configure an endpoint
 649:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 650:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
 651:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  ep_mps: endpoint max packert size
 652:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  ep_type: endpoint type   
 653:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval HAL status
 654:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 655:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_EP_Open(PCD_HandleTypeDef *hpcd, uint8_t ep_addr, uint16_t ep_mps, uint8_
 656:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 699              		.loc 1 656 0
 700              		.cfi_startproc
 701              	.LVL37:
 702 0000 F7B5     		push	{r0, r1, r2, r4, r5, r6, r7, lr}
 703              	.LCFI6:
 704              		.cfi_def_cfa_offset 32
 705              		.cfi_offset 0, -32
 706              		.cfi_offset 1, -28
 707              		.cfi_offset 2, -24
 708              		.cfi_offset 4, -20
 709              		.cfi_offset 5, -16
 710              		.cfi_offset 6, -12
 711              		.cfi_offset 7, -8
ARM GAS  /tmp/ccce1JxS.s 			page 25


 712              		.cfi_offset 14, -4
 713              		.loc 1 656 0
 714 0002 0500     		movs	r5, r0
 657:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   HAL_StatusTypeDef  ret = HAL_OK;
 658:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   PCD_EPTypeDef *ep;
 659:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 660:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if ((ep_addr & 0x80) == 0x80)
 715              		.loc 1 660 0
 716 0004 48B2     		sxtb	r0, r1
 717              	.LVL38:
 718 0006 1C24     		movs	r4, #28
 719 0008 0028     		cmp	r0, #0
 720 000a 20DA     		bge	.L47
 661:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 662:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     ep = &hpcd->IN_ep[ep_addr & 0x7F];
 721              		.loc 1 662 0
 722 000c 7F26     		movs	r6, #127
 723 000e 0E40     		ands	r6, r1
 724 0010 7443     		muls	r4, r6
 725 0012 2834     		adds	r4, r4, #40
 726              	.L93:
 663:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 664:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   else
 665:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 666:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     ep = &hpcd->OUT_ep[ep_addr & 0x7F];
 727              		.loc 1 666 0
 728 0014 2C19     		adds	r4, r5, r4
 729              	.LVL39:
 667:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 668:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->num   = ep_addr & 0x7F;
 730              		.loc 1 668 0
 731 0016 7F26     		movs	r6, #127
 669:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 670:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->is_in = (0x80 & ep_addr) != 0;
 671:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->maxpacket = ep_mps;
 672:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->type = ep_type;
 732              		.loc 1 672 0
 733 0018 E370     		strb	r3, [r4, #3]
 673:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 674:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_LOCK(hpcd); 
 734              		.loc 1 674 0
 735 001a F423     		movs	r3, #244
 736              	.LVL40:
 668:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 737              		.loc 1 668 0
 738 001c 3140     		ands	r1, r6
 739              	.LVL41:
 670:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->maxpacket = ep_mps;
 740              		.loc 1 670 0
 741 001e C00F     		lsrs	r0, r0, #31
 742              	.LVL42:
 743 0020 6070     		strb	r0, [r4, #1]
 668:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 744              		.loc 1 668 0
 745 0022 2170     		strb	r1, [r4]
 671:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->type = ep_type;
 746              		.loc 1 671 0
ARM GAS  /tmp/ccce1JxS.s 			page 26


 747 0024 E260     		str	r2, [r4, #12]
 748              		.loc 1 674 0
 749 0026 5B00     		lsls	r3, r3, #1
 750 0028 E95C     		ldrb	r1, [r5, r3]
 751 002a 0220     		movs	r0, #2
 752 002c 0129     		cmp	r1, #1
 753 002e 00D1     		bne	.LCB583
 754 0030 EFE0     		b	.L49	@long jump
 755              	.LCB583:
 756              		.loc 1 674 0 is_stmt 0 discriminator 2
 757 0032 0121     		movs	r1, #1
 758 0034 E954     		strb	r1, [r5, r3]
 759              	.LVL43:
 675:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 676:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* initialize Endpoint */
 677:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   switch (ep->type)
 760              		.loc 1 677 0 is_stmt 1 discriminator 2
 761 0036 E078     		ldrb	r0, [r4, #3]
 762 0038 2B68     		ldr	r3, [r5]
 763 003a 0328     		cmp	r0, #3
 764 003c 14D8     		bhi	.L50
 765 003e 2178     		ldrb	r1, [r4]
 766 0040 8A4E     		ldr	r6, .L100
 678:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 679:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   case PCD_EP_TYPE_CTRL:
 680:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_SET_EPTYPE(hpcd->Instance, ep->num, USB_EP_CONTROL);
 681:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     break;
 682:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   case PCD_EP_TYPE_BULK:
 683:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_SET_EPTYPE(hpcd->Instance, ep->num, USB_EP_BULK);
 684:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     break;
 685:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   case PCD_EP_TYPE_INTR:
 686:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_SET_EPTYPE(hpcd->Instance, ep->num, USB_EP_INTERRUPT);
 767              		.loc 1 686 0 discriminator 2
 768 0042 8900     		lsls	r1, r1, #2
 769 0044 5918     		adds	r1, r3, r1
 677:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 770              		.loc 1 677 0 discriminator 2
 771 0046 FFF7FEFF 		bl	__gnu_thumb1_case_uqi
 772              	.L52:
 773 004a 06       		.byte	(.L51-.L52)/2
 774 004b 50       		.byte	(.L53-.L52)/2
 775 004c 0C       		.byte	(.L54-.L52)/2
 776 004d 4B       		.byte	(.L55-.L52)/2
 777              	.LVL44:
 778              		.p2align 1
 779              	.L47:
 666:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 780              		.loc 1 666 0
 781 004e 4C43     		muls	r4, r1
 782 0050 0934     		adds	r4, r4, #9
 783 0052 FF34     		adds	r4, r4, #255
 784 0054 DEE7     		b	.L93
 785              	.LVL45:
 786              	.L51:
 680:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     break;
 787              		.loc 1 680 0
 788 0056 0888     		ldrh	r0, [r1]
ARM GAS  /tmp/ccce1JxS.s 			page 27


 789 0058 3040     		ands	r0, r6
 790 005a 8026     		movs	r6, #128
 791 005c B600     		lsls	r6, r6, #2
 792              	.L94:
 687:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     break;
 688:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   case PCD_EP_TYPE_ISOC:
 689:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_SET_EPTYPE(hpcd->Instance, ep->num, USB_EP_ISOCHRONOUS);
 793              		.loc 1 689 0
 794 005e 0643     		orrs	r6, r0
 795 0060 01E0     		b	.L96
 796              	.L54:
 683:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     break;
 797              		.loc 1 683 0
 798 0062 0888     		ldrh	r0, [r1]
 799 0064 0640     		ands	r6, r0
 800              	.L96:
 801              		.loc 1 689 0
 802 0066 0E80     		strh	r6, [r1]
 803              	.L50:
 690:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     break;
 691:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   default:
 692:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     break;
 693:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
 694:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 695:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   PCD_SET_EP_ADDRESS(hpcd->Instance, ep->num, ep->num);
 804              		.loc 1 695 0
 805 0068 2178     		ldrb	r1, [r4]
 806 006a 814E     		ldr	r6, .L100+4
 807 006c 8C46     		mov	ip, r1
 808 006e 6746     		mov	r7, ip
 809 0070 8800     		lsls	r0, r1, #2
 810 0072 1818     		adds	r0, r3, r0
 811 0074 0188     		ldrh	r1, [r0]
 812 0076 3140     		ands	r1, r6
 813 0078 7E4E     		ldr	r6, .L100+8
 814 007a 3743     		orrs	r7, r6
 815 007c 3943     		orrs	r1, r7
 816 007e 0180     		strh	r1, [r0]
 696:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 697:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if (ep->doublebuffer == 0) 
 817              		.loc 1 697 0
 818 0080 A07A     		ldrb	r0, [r4, #10]
 819 0082 7B4F     		ldr	r7, .L100+4
 820 0084 2178     		ldrb	r1, [r4]
 821 0086 BC46     		mov	ip, r7
 822 0088 0196     		str	r6, [sp, #4]
 823 008a 0028     		cmp	r0, #0
 824 008c 66D1     		bne	.L56
 825 008e 1E00     		movs	r6, r3
 698:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 699:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     if (ep->is_in)
 826              		.loc 1 699 0
 827 0090 6078     		ldrb	r0, [r4, #1]
 828 0092 5036     		adds	r6, r6, #80
 829 0094 0700     		movs	r7, r0
 830 0096 A088     		ldrh	r0, [r4, #4]
 831 0098 002F     		cmp	r7, #0
ARM GAS  /tmp/ccce1JxS.s 			page 28


 832 009a 2AD0     		beq	.L57
 700:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
 701:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /*Set the endpoint Transmit buffer address */
 702:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_TX_ADDRESS(hpcd->Instance, ep->num, ep->pmaadress);
 833              		.loc 1 702 0
 834 009c 3288     		ldrh	r2, [r6]
 835              	.LVL46:
 836 009e C900     		lsls	r1, r1, #3
 837 00a0 5918     		adds	r1, r3, r1
 838 00a2 8918     		adds	r1, r1, r2
 839 00a4 8022     		movs	r2, #128
 840 00a6 D200     		lsls	r2, r2, #3
 841 00a8 8918     		adds	r1, r1, r2
 842 00aa 0122     		movs	r2, #1
 843 00ac 9043     		bics	r0, r2
 844 00ae 0880     		strh	r0, [r1]
 703:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_TX_DTOG(hpcd->Instance, ep->num)
 845              		.loc 1 703 0
 846 00b0 2278     		ldrb	r2, [r4]
 847 00b2 9200     		lsls	r2, r2, #2
 848 00b4 9A18     		adds	r2, r3, r2
 849 00b6 1188     		ldrh	r1, [r2]
 850 00b8 4806     		lsls	r0, r1, #25
 851 00ba 04D5     		bpl	.L58
 852              		.loc 1 703 0 is_stmt 0 discriminator 1
 853 00bc 6746     		mov	r7, ip
 854 00be 0F40     		ands	r7, r1
 855 00c0 6D49     		ldr	r1, .L100+12
 856 00c2 0F43     		orrs	r7, r1
 857 00c4 1780     		strh	r7, [r2]
 858              	.L58:
 859              	.LBB12:
 704:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* Configure NAK status for the Endpoint*/
 705:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_TX_STATUS(hpcd->Instance, ep->num, USB_EP_TX_NAK) 
 860              		.loc 1 705 0 is_stmt 1
 861 00c6 2278     		ldrb	r2, [r4]
 862 00c8 6C49     		ldr	r1, .L100+16
 863 00ca 9200     		lsls	r2, r2, #2
 864 00cc 9B18     		adds	r3, r3, r2
 865 00ce 1A88     		ldrh	r2, [r3]
 866 00d0 1140     		ands	r1, r2
 867              	.LVL47:
 868 00d2 2022     		movs	r2, #32
 869              	.LVL48:
 870              	.L99:
 871              	.LBE12:
 872              	.LBB13:
 706:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 707:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     else
 708:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
 709:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /*Set the endpoint Receive buffer address */
 710:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_RX_ADDRESS(hpcd->Instance, ep->num, ep->pmaadress);
 711:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /*Set the endpoint Receive buffer counter*/
 712:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_RX_CNT(hpcd->Instance, ep->num, ep->maxpacket)
 713:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_RX_DTOG(hpcd->Instance, ep->num)
 714:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* Configure VALID status for the Endpoint*/
 715:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_RX_STATUS(hpcd->Instance, ep->num, USB_EP_RX_VALID)
ARM GAS  /tmp/ccce1JxS.s 			page 29


 873              		.loc 1 715 0
 874 00d4 4A40     		eors	r2, r1
 875 00d6 0199     		ldr	r1, [sp, #4]
 876 00d8 1143     		orrs	r1, r2
 877 00da 0A00     		movs	r2, r1
 878              	.L98:
 879              	.LBE13:
 880              	.LBB14:
 716:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 717:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 718:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /*Double Buffer*/
 719:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   else
 720:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 721:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     /*Set the endpoint as double buffered*/
 722:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_SET_EP_DBUF(hpcd->Instance, ep->num);
 723:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     /*Set buffer address for double buffered mode*/
 724:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_SET_EP_DBUF_ADDR(hpcd->Instance, ep->num,ep->pmaaddr0, ep->pmaaddr1)
 725:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     
 726:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     if (ep->is_in==0)
 727:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
 728:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* Clear the data toggle bits for the endpoint IN/OUT*/
 729:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_RX_DTOG(hpcd->Instance, ep->num)
 730:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_TX_DTOG(hpcd->Instance, ep->num)
 731:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       
 732:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* Reset value of the data toggle bits for the endpoint out*/
 733:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_TX_DTOG(hpcd->Instance, ep->num);
 734:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       
 735:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_RX_STATUS(hpcd->Instance, ep->num, USB_EP_RX_VALID)
 736:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_TX_STATUS(hpcd->Instance, ep->num, USB_EP_TX_DIS)
 737:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 738:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     else
 739:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
 740:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* Clear the data toggle bits for the endpoint IN/OUT*/
 741:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_RX_DTOG(hpcd->Instance, ep->num)
 742:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_TX_DTOG(hpcd->Instance, ep->num)
 743:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_RX_DTOG(hpcd->Instance, ep->num);
 744:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* Configure DISABLE status for the Endpoint*/
 745:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_TX_STATUS(hpcd->Instance, ep->num, USB_EP_TX_DIS)
 746:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_RX_STATUS(hpcd->Instance, ep->num, USB_EP_RX_DIS)
 881              		.loc 1 746 0
 882 00dc 1A80     		strh	r2, [r3]
 883 00de 94E0     		b	.L59
 884              	.LVL49:
 885              	.L55:
 886              	.LBE14:
 686:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     break;
 887              		.loc 1 686 0
 888 00e0 0888     		ldrh	r0, [r1]
 889 00e2 3040     		ands	r0, r6
 890 00e4 C026     		movs	r6, #192
 891              	.L95:
 689:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     break;
 892              		.loc 1 689 0
 893 00e6 F600     		lsls	r6, r6, #3
 894 00e8 B9E7     		b	.L94
 895              	.L53:
 896 00ea 0888     		ldrh	r0, [r1]
ARM GAS  /tmp/ccce1JxS.s 			page 30


 897 00ec 3040     		ands	r0, r6
 898 00ee 8026     		movs	r6, #128
 899 00f0 F9E7     		b	.L95
 900              	.L57:
 710:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /*Set the endpoint Receive buffer counter*/
 901              		.loc 1 710 0
 902 00f2 3788     		ldrh	r7, [r6]
 903 00f4 C900     		lsls	r1, r1, #3
 904 00f6 C919     		adds	r1, r1, r7
 905 00f8 614F     		ldr	r7, .L100+20
 906 00fa 5918     		adds	r1, r3, r1
 907 00fc C919     		adds	r1, r1, r7
 908 00fe 0127     		movs	r7, #1
 909 0100 B843     		bics	r0, r7
 910 0102 0880     		strh	r0, [r1]
 911              	.LBB15:
 712:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_RX_DTOG(hpcd->Instance, ep->num)
 912              		.loc 1 712 0
 913 0104 2178     		ldrb	r1, [r4]
 914 0106 3088     		ldrh	r0, [r6]
 915 0108 C900     		lsls	r1, r1, #3
 916 010a 0918     		adds	r1, r1, r0
 917 010c 5D48     		ldr	r0, .L100+24
 918 010e 1818     		adds	r0, r3, r0
 919 0110 0918     		adds	r1, r1, r0
 920              	.LVL50:
 921              	.LBB16:
 922 0112 3E2A     		cmp	r2, #62
 923 0114 1CD9     		bls	.L60
 712:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_RX_DTOG(hpcd->Instance, ep->num)
 924              		.loc 1 712 0 is_stmt 0 discriminator 1
 925 0116 5009     		lsrs	r0, r2, #5
 926              	.LVL51:
 927 0118 D206     		lsls	r2, r2, #27
 928 011a 01D1     		bne	.L61
 929              	.LVL52:
 712:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_RX_DTOG(hpcd->Instance, ep->num)
 930              		.loc 1 712 0 discriminator 3
 931 011c 0138     		subs	r0, r0, #1
 932              	.LVL53:
 933 011e 80B2     		uxth	r0, r0
 934              	.LVL54:
 935              	.L61:
 712:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_RX_DTOG(hpcd->Instance, ep->num)
 936              		.loc 1 712 0 discriminator 5
 937 0120 594A     		ldr	r2, .L100+28
 938 0122 8002     		lsls	r0, r0, #10
 939              	.LVL55:
 940 0124 1043     		orrs	r0, r2
 941              	.L97:
 712:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_RX_DTOG(hpcd->Instance, ep->num)
 942              		.loc 1 712 0 discriminator 8
 943 0126 0880     		strh	r0, [r1]
 944              	.LBE16:
 945              	.LBE15:
 713:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* Configure VALID status for the Endpoint*/
 946              		.loc 1 713 0 is_stmt 1 discriminator 8
ARM GAS  /tmp/ccce1JxS.s 			page 31


 947 0128 2278     		ldrb	r2, [r4]
 948 012a 9200     		lsls	r2, r2, #2
 949 012c 9A18     		adds	r2, r3, r2
 950 012e 1188     		ldrh	r1, [r2]
 951              	.LVL56:
 952 0130 4804     		lsls	r0, r1, #17
 953 0132 04D5     		bpl	.L64
 713:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* Configure VALID status for the Endpoint*/
 954              		.loc 1 713 0 is_stmt 0 discriminator 1
 955 0134 6046     		mov	r0, ip
 956 0136 0140     		ands	r1, r0
 957 0138 5448     		ldr	r0, .L100+32
 958 013a 0143     		orrs	r1, r0
 959 013c 1180     		strh	r1, [r2]
 960              	.L64:
 961              	.LBB18:
 715:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 962              		.loc 1 715 0 is_stmt 1
 963 013e 2278     		ldrb	r2, [r4]
 964 0140 5349     		ldr	r1, .L100+36
 965 0142 9200     		lsls	r2, r2, #2
 966 0144 9B18     		adds	r3, r3, r2
 967 0146 1A88     		ldrh	r2, [r3]
 968 0148 1140     		ands	r1, r2
 969              	.LVL57:
 970 014a C022     		movs	r2, #192
 971 014c 9201     		lsls	r2, r2, #6
 972 014e C1E7     		b	.L99
 973              	.LVL58:
 974              	.L60:
 975              	.LBE18:
 976              	.LBB19:
 977              	.LBB17:
 712:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_RX_DTOG(hpcd->Instance, ep->num)
 978              		.loc 1 712 0 discriminator 2
 979 0150 5008     		lsrs	r0, r2, #1
 980              	.LVL59:
 981 0152 3A42     		tst	r2, r7
 982 0154 00D0     		beq	.L63
 712:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_RX_DTOG(hpcd->Instance, ep->num)
 983              		.loc 1 712 0 is_stmt 0 discriminator 6
 984 0156 0130     		adds	r0, r0, #1
 985              	.LVL60:
 986              	.L63:
 712:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_RX_DTOG(hpcd->Instance, ep->num)
 987              		.loc 1 712 0 discriminator 8
 988 0158 8002     		lsls	r0, r0, #10
 989              	.LVL61:
 990 015a E4E7     		b	.L97
 991              	.LVL62:
 992              	.L56:
 993              	.LBE17:
 994              	.LBE19:
 722:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     /*Set buffer address for double buffered mode*/
 995              		.loc 1 722 0 is_stmt 1
 996 015c 8900     		lsls	r1, r1, #2
 997 015e 5918     		adds	r1, r3, r1
ARM GAS  /tmp/ccce1JxS.s 			page 32


 998 0160 0A88     		ldrh	r2, [r1]
 999              	.LVL63:
 1000 0162 4C48     		ldr	r0, .L100+40
 1001 0164 454F     		ldr	r7, .L100+16
 1002 0166 1040     		ands	r0, r2
 1003 0168 4B4A     		ldr	r2, .L100+44
 1004 016a 0243     		orrs	r2, r0
 724:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     
 1005              		.loc 1 724 0
 1006 016c 1800     		movs	r0, r3
 722:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     /*Set buffer address for double buffered mode*/
 1007              		.loc 1 722 0
 1008 016e 0A80     		strh	r2, [r1]
 724:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     
 1009              		.loc 1 724 0
 1010 0170 2278     		ldrb	r2, [r4]
 1011 0172 5030     		adds	r0, r0, #80
 1012 0174 0188     		ldrh	r1, [r0]
 1013 0176 D200     		lsls	r2, r2, #3
 1014 0178 5218     		adds	r2, r2, r1
 1015 017a 8021     		movs	r1, #128
 1016 017c 9A18     		adds	r2, r3, r2
 1017 017e C900     		lsls	r1, r1, #3
 1018 0180 5218     		adds	r2, r2, r1
 1019 0182 0121     		movs	r1, #1
 1020 0184 E688     		ldrh	r6, [r4, #6]
 1021 0186 8E43     		bics	r6, r1
 1022 0188 1680     		strh	r6, [r2]
 1023 018a 8026     		movs	r6, #128
 1024 018c 2278     		ldrb	r2, [r4]
 1025 018e 0088     		ldrh	r0, [r0]
 1026 0190 D200     		lsls	r2, r2, #3
 1027 0192 9A18     		adds	r2, r3, r2
 1028 0194 1218     		adds	r2, r2, r0
 1029 0196 3A48     		ldr	r0, .L100+20
 1030 0198 F601     		lsls	r6, r6, #7
 1031 019a 1218     		adds	r2, r2, r0
 1032 019c 2089     		ldrh	r0, [r4, #8]
 1033 019e 8843     		bics	r0, r1
 1034 01a0 1080     		strh	r0, [r2]
 1035 01a2 2278     		ldrb	r2, [r4]
 726:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
 1036              		.loc 1 726 0
 1037 01a4 6178     		ldrb	r1, [r4, #1]
 729:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_TX_DTOG(hpcd->Instance, ep->num)
 1038              		.loc 1 729 0
 1039 01a6 9200     		lsls	r2, r2, #2
 1040 01a8 9A18     		adds	r2, r3, r2
 726:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
 1041              		.loc 1 726 0
 1042 01aa 0029     		cmp	r1, #0
 1043 01ac 32D1     		bne	.L65
 729:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_TX_DTOG(hpcd->Instance, ep->num)
 1044              		.loc 1 729 0
 1045 01ae 1188     		ldrh	r1, [r2]
 1046 01b0 3142     		tst	r1, r6
 1047 01b2 04D0     		beq	.L66
ARM GAS  /tmp/ccce1JxS.s 			page 33


 729:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_TX_DTOG(hpcd->Instance, ep->num)
 1048              		.loc 1 729 0 is_stmt 0 discriminator 1
 1049 01b4 6046     		mov	r0, ip
 1050 01b6 0140     		ands	r1, r0
 1051 01b8 3448     		ldr	r0, .L100+32
 1052 01ba 0143     		orrs	r1, r0
 1053 01bc 1180     		strh	r1, [r2]
 1054              	.L66:
 730:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       
 1055              		.loc 1 730 0 is_stmt 1
 1056 01be 2278     		ldrb	r2, [r4]
 1057 01c0 2D49     		ldr	r1, .L100+12
 1058 01c2 9200     		lsls	r2, r2, #2
 1059 01c4 9A18     		adds	r2, r3, r2
 1060 01c6 1088     		ldrh	r0, [r2]
 1061 01c8 4606     		lsls	r6, r0, #25
 1062 01ca 03D5     		bpl	.L67
 730:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       
 1063              		.loc 1 730 0 is_stmt 0 discriminator 1
 1064 01cc 6646     		mov	r6, ip
 1065 01ce 3040     		ands	r0, r6
 1066 01d0 0843     		orrs	r0, r1
 1067 01d2 1080     		strh	r0, [r2]
 1068              	.L67:
 733:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       
 1069              		.loc 1 733 0 is_stmt 1
 1070 01d4 6646     		mov	r6, ip
 1071 01d6 2278     		ldrb	r2, [r4]
 1072 01d8 9200     		lsls	r2, r2, #2
 1073 01da 9A18     		adds	r2, r3, r2
 1074 01dc 1088     		ldrh	r0, [r2]
 1075 01de 3040     		ands	r0, r6
 1076 01e0 0143     		orrs	r1, r0
 1077 01e2 1180     		strh	r1, [r2]
 1078              	.LBB20:
 735:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_TX_STATUS(hpcd->Instance, ep->num, USB_EP_TX_DIS)
 1079              		.loc 1 735 0
 1080 01e4 2278     		ldrb	r2, [r4]
 1081 01e6 2A49     		ldr	r1, .L100+36
 1082 01e8 9200     		lsls	r2, r2, #2
 1083 01ea 9A18     		adds	r2, r3, r2
 1084 01ec 1088     		ldrh	r0, [r2]
 1085 01ee 0840     		ands	r0, r1
 1086              	.LVL64:
 1087 01f0 C021     		movs	r1, #192
 1088 01f2 8901     		lsls	r1, r1, #6
 1089 01f4 4140     		eors	r1, r0
 1090 01f6 0198     		ldr	r0, [sp, #4]
 1091              	.LVL65:
 1092 01f8 0143     		orrs	r1, r0
 1093 01fa 1180     		strh	r1, [r2]
 1094              	.LVL66:
 1095              	.LBE20:
 1096              	.LBB21:
 736:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 1097              		.loc 1 736 0
 1098 01fc 2278     		ldrb	r2, [r4]
ARM GAS  /tmp/ccce1JxS.s 			page 34


 1099 01fe 9200     		lsls	r2, r2, #2
 1100 0200 9B18     		adds	r3, r3, r2
 1101              	.LVL67:
 1102 0202 1A88     		ldrh	r2, [r3]
 1103 0204 1740     		ands	r7, r2
 1104 0206 0743     		orrs	r7, r0
 1105 0208 1F80     		strh	r7, [r3]
 1106              	.LVL68:
 1107              	.L59:
 1108              	.LBE21:
 747:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 748:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
 749:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 750:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd);   
 1109              		.loc 1 750 0
 1110 020a F423     		movs	r3, #244
 1111 020c 0020     		movs	r0, #0
 1112 020e 5B00     		lsls	r3, r3, #1
 1113 0210 E854     		strb	r0, [r5, r3]
 1114              	.L49:
 751:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   return ret;
 752:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 1115              		.loc 1 752 0
 1116              		@ sp needed
 1117              	.LVL69:
 1118              	.LVL70:
 1119 0212 FEBD     		pop	{r1, r2, r3, r4, r5, r6, r7, pc}
 1120              	.LVL71:
 1121              	.L65:
 741:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_TX_DTOG(hpcd->Instance, ep->num)
 1122              		.loc 1 741 0
 1123 0214 1188     		ldrh	r1, [r2]
 1124 0216 1D48     		ldr	r0, .L100+32
 1125 0218 3142     		tst	r1, r6
 1126 021a 03D0     		beq	.L68
 741:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_TX_DTOG(hpcd->Instance, ep->num)
 1127              		.loc 1 741 0 is_stmt 0 discriminator 1
 1128 021c 6646     		mov	r6, ip
 1129 021e 3140     		ands	r1, r6
 1130 0220 0143     		orrs	r1, r0
 1131 0222 1180     		strh	r1, [r2]
 1132              	.L68:
 742:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_RX_DTOG(hpcd->Instance, ep->num);
 1133              		.loc 1 742 0 is_stmt 1
 1134 0224 2278     		ldrb	r2, [r4]
 1135 0226 9200     		lsls	r2, r2, #2
 1136 0228 9A18     		adds	r2, r3, r2
 1137 022a 1188     		ldrh	r1, [r2]
 1138 022c 4E06     		lsls	r6, r1, #25
 1139 022e 04D5     		bpl	.L69
 742:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_RX_DTOG(hpcd->Instance, ep->num);
 1140              		.loc 1 742 0 is_stmt 0 discriminator 1
 1141 0230 6646     		mov	r6, ip
 1142 0232 3140     		ands	r1, r6
 1143 0234 104E     		ldr	r6, .L100+12
 1144 0236 3143     		orrs	r1, r6
 1145 0238 1180     		strh	r1, [r2]
ARM GAS  /tmp/ccce1JxS.s 			page 35


 1146              	.L69:
 743:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* Configure DISABLE status for the Endpoint*/
 1147              		.loc 1 743 0 is_stmt 1
 1148 023a 6646     		mov	r6, ip
 1149 023c 2278     		ldrb	r2, [r4]
 1150 023e 9200     		lsls	r2, r2, #2
 1151 0240 9A18     		adds	r2, r3, r2
 1152 0242 1188     		ldrh	r1, [r2]
 1153 0244 3140     		ands	r1, r6
 1154 0246 0843     		orrs	r0, r1
 1155 0248 1080     		strh	r0, [r2]
 1156              	.LBB22:
 745:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_RX_STATUS(hpcd->Instance, ep->num, USB_EP_RX_DIS)
 1157              		.loc 1 745 0
 1158 024a 2278     		ldrb	r2, [r4]
 1159 024c 9200     		lsls	r2, r2, #2
 1160 024e 9A18     		adds	r2, r3, r2
 1161              	.LVL72:
 1162 0250 1188     		ldrh	r1, [r2]
 1163 0252 0F40     		ands	r7, r1
 1164 0254 0199     		ldr	r1, [sp, #4]
 1165 0256 0F43     		orrs	r7, r1
 1166 0258 1780     		strh	r7, [r2]
 1167              	.LVL73:
 1168              	.LBE22:
 1169              	.LBB23:
 746:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 1170              		.loc 1 746 0
 1171 025a 2278     		ldrb	r2, [r4]
 1172 025c 0C49     		ldr	r1, .L100+36
 1173 025e 9200     		lsls	r2, r2, #2
 1174 0260 9B18     		adds	r3, r3, r2
 1175              	.LVL74:
 1176 0262 1A88     		ldrh	r2, [r3]
 1177 0264 0A40     		ands	r2, r1
 1178 0266 0199     		ldr	r1, [sp, #4]
 1179 0268 0A43     		orrs	r2, r1
 1180 026a 37E7     		b	.L98
 1181              	.L101:
 1182              		.align	2
 1183              	.L100:
 1184 026c 8F89FFFF 		.word	-30321
 1185 0270 0F0F0000 		.word	3855
 1186 0274 8080FFFF 		.word	-32640
 1187 0278 C080FFFF 		.word	-32576
 1188 027c BF8FFFFF 		.word	-28737
 1189 0280 04040000 		.word	1028
 1190 0284 06040000 		.word	1030
 1191 0288 0080FFFF 		.word	-32768
 1192 028c 80C0FFFF 		.word	-16256
 1193 0290 8FBFFFFF 		.word	-16497
 1194 0294 0F0E0000 		.word	3599
 1195 0298 8081FFFF 		.word	-32384
 1196              	.LBE23:
 1197              		.cfi_endproc
 1198              	.LFE56:
 1200              		.section	.text.HAL_PCD_EP_Close,"ax",%progbits
ARM GAS  /tmp/ccce1JxS.s 			page 36


 1201              		.align	1
 1202              		.global	HAL_PCD_EP_Close
 1203              		.syntax unified
 1204              		.code	16
 1205              		.thumb_func
 1206              		.fpu softvfp
 1208              	HAL_PCD_EP_Close:
 1209              	.LFB57:
 753:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 754:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 755:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 756:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Deactivate an endpoint
 757:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 758:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
 759:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval HAL status
 760:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 761:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_EP_Close(PCD_HandleTypeDef *hpcd, uint8_t ep_addr)
 762:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {  
 1210              		.loc 1 762 0
 1211              		.cfi_startproc
 1212              	.LVL75:
 763:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   PCD_EPTypeDef *ep;
 764:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 765:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if ((ep_addr & 0x80) == 0x80)
 1213              		.loc 1 765 0
 1214 0000 4AB2     		sxtb	r2, r1
 762:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   PCD_EPTypeDef *ep;
 1215              		.loc 1 762 0
 1216 0002 F0B5     		push	{r4, r5, r6, r7, lr}
 1217              	.LCFI7:
 1218              		.cfi_def_cfa_offset 20
 1219              		.cfi_offset 4, -20
 1220              		.cfi_offset 5, -16
 1221              		.cfi_offset 6, -12
 1222              		.cfi_offset 7, -8
 1223              		.cfi_offset 14, -4
 1224 0004 1C23     		movs	r3, #28
 762:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   PCD_EPTypeDef *ep;
 1225              		.loc 1 762 0
 1226 0006 0500     		movs	r5, r0
 1227              		.loc 1 765 0
 1228 0008 002A     		cmp	r2, #0
 1229 000a 31DA     		bge	.L103
 766:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 767:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     ep = &hpcd->IN_ep[ep_addr & 0x7F];
 1230              		.loc 1 767 0
 1231 000c 7F20     		movs	r0, #127
 1232              	.LVL76:
 1233 000e 0840     		ands	r0, r1
 1234 0010 4343     		muls	r3, r0
 1235 0012 2833     		adds	r3, r3, #40
 1236              	.L136:
 768:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 769:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   else
 770:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 771:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     ep = &hpcd->OUT_ep[ep_addr & 0x7F];
 1237              		.loc 1 771 0
ARM GAS  /tmp/ccce1JxS.s 			page 37


 1238 0014 EB18     		adds	r3, r5, r3
 1239              	.LVL77:
 772:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 773:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->num   = ep_addr & 0x7F;
 1240              		.loc 1 773 0
 1241 0016 7F20     		movs	r0, #127
 774:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 775:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->is_in = (0x80 & ep_addr) != 0;
 1242              		.loc 1 775 0
 1243 0018 D20F     		lsrs	r2, r2, #31
 1244 001a 5A70     		strb	r2, [r3, #1]
 776:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 777:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_LOCK(hpcd); 
 1245              		.loc 1 777 0
 1246 001c F422     		movs	r2, #244
 773:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 1247              		.loc 1 773 0
 1248 001e 0140     		ands	r1, r0
 1249              	.LVL78:
 1250 0020 1970     		strb	r1, [r3]
 1251              		.loc 1 777 0
 1252 0022 5200     		lsls	r2, r2, #1
 1253 0024 A95C     		ldrb	r1, [r5, r2]
 1254 0026 7D38     		subs	r0, r0, #125
 1255 0028 0129     		cmp	r1, #1
 1256 002a 20D0     		beq	.L105
 1257              		.loc 1 777 0 is_stmt 0 discriminator 2
 1258 002c 0121     		movs	r1, #1
 1259 002e A954     		strb	r1, [r5, r2]
 778:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 779:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if (ep->doublebuffer == 0) 
 1260              		.loc 1 779 0 is_stmt 1 discriminator 2
 1261 0030 987A     		ldrb	r0, [r3, #10]
 1262 0032 5E78     		ldrb	r6, [r3, #1]
 1263 0034 2968     		ldr	r1, [r5]
 1264 0036 1A78     		ldrb	r2, [r3]
 1265 0038 3B4C     		ldr	r4, .L141
 1266 003a 0028     		cmp	r0, #0
 1267 003c 29D1     		bne	.L106
 780:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 781:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     if (ep->is_in)
 782:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
 783:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_TX_DTOG(hpcd->Instance, ep->num)
 1268              		.loc 1 783 0
 1269 003e 9200     		lsls	r2, r2, #2
 1270 0040 8A18     		adds	r2, r1, r2
 1271 0042 1088     		ldrh	r0, [r2]
 781:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
 1272              		.loc 1 781 0
 1273 0044 002E     		cmp	r6, #0
 1274 0046 17D0     		beq	.L107
 1275              		.loc 1 783 0
 1276 0048 4606     		lsls	r6, r0, #25
 1277 004a 04D5     		bpl	.L108
 1278              		.loc 1 783 0 is_stmt 0 discriminator 1
 1279 004c 374E     		ldr	r6, .L141+4
 1280 004e 3040     		ands	r0, r6
ARM GAS  /tmp/ccce1JxS.s 			page 38


 1281 0050 374E     		ldr	r6, .L141+8
 1282 0052 3043     		orrs	r0, r6
 1283              	.L140:
 1284 0054 1080     		strh	r0, [r2]
 1285              	.L108:
 1286              	.LBB24:
 784:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* Configure DISABLE status for the Endpoint*/
 785:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_TX_STATUS(hpcd->Instance, ep->num, USB_EP_TX_DIS)
 1287              		.loc 1 785 0 is_stmt 1
 1288 0056 1B78     		ldrb	r3, [r3]
 1289              	.LVL79:
 1290 0058 364A     		ldr	r2, .L141+12
 1291 005a 9B00     		lsls	r3, r3, #2
 1292 005c C918     		adds	r1, r1, r3
 1293              	.LVL80:
 1294 005e 0B88     		ldrh	r3, [r1]
 1295              	.LVL81:
 1296              	.L137:
 1297              	.LBE24:
 1298              	.LBB25:
 786:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 787:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     else
 788:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
 789:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_RX_DTOG(hpcd->Instance, ep->num)
 790:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* Configure DISABLE status for the Endpoint*/
 791:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_RX_STATUS(hpcd->Instance, ep->num, USB_EP_RX_DIS)
 792:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 793:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 794:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /*Double Buffer*/
 795:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   else
 796:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   { 
 797:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     if (ep->is_in==0)
 798:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
 799:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* Clear the data toggle bits for the endpoint IN/OUT*/
 800:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_RX_DTOG(hpcd->Instance, ep->num)
 801:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_TX_DTOG(hpcd->Instance, ep->num)
 802:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       
 803:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* Reset value of the data toggle bits for the endpoint out*/
 804:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_TX_DTOG(hpcd->Instance, ep->num);
 805:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       
 806:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_RX_STATUS(hpcd->Instance, ep->num, USB_EP_RX_DIS)
 807:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_TX_STATUS(hpcd->Instance, ep->num, USB_EP_TX_DIS)
 808:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 809:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     else
 810:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
 811:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* Clear the data toggle bits for the endpoint IN/OUT*/
 812:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_RX_DTOG(hpcd->Instance, ep->num)
 813:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_TX_DTOG(hpcd->Instance, ep->num)
 814:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_RX_DTOG(hpcd->Instance, ep->num);
 815:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* Configure DISABLE status for the Endpoint*/
 816:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_TX_STATUS(hpcd->Instance, ep->num, USB_EP_TX_DIS)
 817:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_RX_STATUS(hpcd->Instance, ep->num, USB_EP_RX_DIS)
 1299              		.loc 1 817 0
 1300 0060 1340     		ands	r3, r2
 1301 0062 1C43     		orrs	r4, r3
 1302              	.LBE25:
 818:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
ARM GAS  /tmp/ccce1JxS.s 			page 39


 819:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
 820:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 821:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd);   
 1303              		.loc 1 821 0
 1304 0064 F423     		movs	r3, #244
 1305 0066 0020     		movs	r0, #0
 1306 0068 5B00     		lsls	r3, r3, #1
 1307              	.LBB26:
 817:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 1308              		.loc 1 817 0
 1309 006a 0C80     		strh	r4, [r1]
 1310              	.LBE26:
 1311              		.loc 1 821 0
 1312 006c E854     		strb	r0, [r5, r3]
 1313              	.L105:
 822:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   return HAL_OK;
 823:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 1314              		.loc 1 823 0
 1315              		@ sp needed
 1316              	.LVL82:
 1317 006e F0BD     		pop	{r4, r5, r6, r7, pc}
 1318              	.LVL83:
 1319              	.L103:
 771:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 1320              		.loc 1 771 0
 1321 0070 4B43     		muls	r3, r1
 1322 0072 0933     		adds	r3, r3, #9
 1323 0074 FF33     		adds	r3, r3, #255
 1324 0076 CDE7     		b	.L136
 1325              	.LVL84:
 1326              	.L107:
 789:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* Configure DISABLE status for the Endpoint*/
 1327              		.loc 1 789 0
 1328 0078 4604     		lsls	r6, r0, #17
 1329 007a 04D5     		bpl	.L138
 789:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* Configure DISABLE status for the Endpoint*/
 1330              		.loc 1 789 0 is_stmt 0 discriminator 1
 1331 007c 2B4E     		ldr	r6, .L141+4
 1332 007e 3040     		ands	r0, r6
 1333 0080 2D4E     		ldr	r6, .L141+16
 1334 0082 3043     		orrs	r0, r6
 1335              	.L139:
 1336              	.LBB27:
 816:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_RX_STATUS(hpcd->Instance, ep->num, USB_EP_RX_DIS)
 1337              		.loc 1 816 0 is_stmt 1
 1338 0084 1080     		strh	r0, [r2]
 1339              	.L138:
 1340              	.LBE27:
 1341              	.LBB28:
 817:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 1342              		.loc 1 817 0
 1343 0086 1B78     		ldrb	r3, [r3]
 1344              	.LVL85:
 1345 0088 2C4A     		ldr	r2, .L141+20
 1346 008a 9B00     		lsls	r3, r3, #2
 1347 008c C918     		adds	r1, r1, r3
 1348              	.LVL86:
ARM GAS  /tmp/ccce1JxS.s 			page 40


 1349 008e 0B88     		ldrh	r3, [r1]
 1350 0090 E6E7     		b	.L137
 1351              	.LVL87:
 1352              	.L106:
 1353 0092 8027     		movs	r7, #128
 1354              	.LBE28:
 800:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_TX_DTOG(hpcd->Instance, ep->num)
 1355              		.loc 1 800 0
 1356 0094 9200     		lsls	r2, r2, #2
 1357 0096 2548     		ldr	r0, .L141+4
 1358 0098 FF01     		lsls	r7, r7, #7
 1359 009a 8A18     		adds	r2, r1, r2
 797:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
 1360              		.loc 1 797 0
 1361 009c 002E     		cmp	r6, #0
 1362 009e 22D1     		bne	.L111
 800:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_TX_DTOG(hpcd->Instance, ep->num)
 1363              		.loc 1 800 0
 1364 00a0 1688     		ldrh	r6, [r2]
 1365 00a2 3E42     		tst	r6, r7
 1366 00a4 03D0     		beq	.L112
 800:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_TX_DTOG(hpcd->Instance, ep->num)
 1367              		.loc 1 800 0 is_stmt 0 discriminator 1
 1368 00a6 244F     		ldr	r7, .L141+16
 1369 00a8 0640     		ands	r6, r0
 1370 00aa 3E43     		orrs	r6, r7
 1371 00ac 1680     		strh	r6, [r2]
 1372              	.L112:
 801:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       
 1373              		.loc 1 801 0 is_stmt 1
 1374 00ae 1A78     		ldrb	r2, [r3]
 1375 00b0 1F4E     		ldr	r6, .L141+8
 1376 00b2 9200     		lsls	r2, r2, #2
 1377 00b4 8A18     		adds	r2, r1, r2
 1378 00b6 1788     		ldrh	r7, [r2]
 1379 00b8 B446     		mov	ip, r6
 1380 00ba 7E06     		lsls	r6, r7, #25
 1381 00bc 03D5     		bpl	.L113
 801:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       
 1382              		.loc 1 801 0 is_stmt 0 discriminator 1
 1383 00be 6646     		mov	r6, ip
 1384 00c0 0740     		ands	r7, r0
 1385 00c2 3743     		orrs	r7, r6
 1386 00c4 1780     		strh	r7, [r2]
 1387              	.L113:
 804:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       
 1388              		.loc 1 804 0 is_stmt 1
 1389 00c6 6646     		mov	r6, ip
 1390 00c8 1A78     		ldrb	r2, [r3]
 1391 00ca 9200     		lsls	r2, r2, #2
 1392 00cc 8A18     		adds	r2, r1, r2
 1393 00ce 1788     		ldrh	r7, [r2]
 1394 00d0 3840     		ands	r0, r7
 1395 00d2 0643     		orrs	r6, r0
 1396 00d4 1680     		strh	r6, [r2]
 1397              	.LBB29:
 806:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_TX_STATUS(hpcd->Instance, ep->num, USB_EP_TX_DIS)
ARM GAS  /tmp/ccce1JxS.s 			page 41


 1398              		.loc 1 806 0
 1399 00d6 1A78     		ldrb	r2, [r3]
 1400 00d8 184E     		ldr	r6, .L141+20
 1401 00da 9200     		lsls	r2, r2, #2
 1402 00dc 8A18     		adds	r2, r1, r2
 1403              	.LVL88:
 1404 00de 1088     		ldrh	r0, [r2]
 1405 00e0 3040     		ands	r0, r6
 1406 00e2 2043     		orrs	r0, r4
 1407 00e4 B6E7     		b	.L140
 1408              	.LVL89:
 1409              	.L111:
 1410              	.LBE29:
 812:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_TX_DTOG(hpcd->Instance, ep->num)
 1411              		.loc 1 812 0
 1412 00e6 1688     		ldrh	r6, [r2]
 1413 00e8 3E42     		tst	r6, r7
 1414 00ea 03D0     		beq	.L114
 812:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_CLEAR_TX_DTOG(hpcd->Instance, ep->num)
 1415              		.loc 1 812 0 is_stmt 0 discriminator 1
 1416 00ec 124F     		ldr	r7, .L141+16
 1417 00ee 0640     		ands	r6, r0
 1418 00f0 3E43     		orrs	r6, r7
 1419 00f2 1680     		strh	r6, [r2]
 1420              	.L114:
 813:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_RX_DTOG(hpcd->Instance, ep->num);
 1421              		.loc 1 813 0 is_stmt 1
 1422 00f4 1A78     		ldrb	r2, [r3]
 1423 00f6 9200     		lsls	r2, r2, #2
 1424 00f8 8A18     		adds	r2, r1, r2
 1425 00fa 1688     		ldrh	r6, [r2]
 1426 00fc 7706     		lsls	r7, r6, #25
 1427 00fe 03D5     		bpl	.L115
 813:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_RX_DTOG(hpcd->Instance, ep->num);
 1428              		.loc 1 813 0 is_stmt 0 discriminator 1
 1429 0100 0B4F     		ldr	r7, .L141+8
 1430 0102 0640     		ands	r6, r0
 1431 0104 3E43     		orrs	r6, r7
 1432 0106 1680     		strh	r6, [r2]
 1433              	.L115:
 814:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* Configure DISABLE status for the Endpoint*/
 1434              		.loc 1 814 0 is_stmt 1
 1435 0108 1A78     		ldrb	r2, [r3]
 1436 010a 0B4F     		ldr	r7, .L141+16
 1437 010c 9200     		lsls	r2, r2, #2
 1438 010e 8A18     		adds	r2, r1, r2
 1439 0110 1688     		ldrh	r6, [r2]
 1440 0112 3040     		ands	r0, r6
 1441 0114 0743     		orrs	r7, r0
 1442 0116 1780     		strh	r7, [r2]
 1443              	.LBB30:
 816:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_RX_STATUS(hpcd->Instance, ep->num, USB_EP_RX_DIS)
 1444              		.loc 1 816 0
 1445 0118 1A78     		ldrb	r2, [r3]
 1446 011a 064E     		ldr	r6, .L141+12
 1447 011c 9200     		lsls	r2, r2, #2
 1448 011e 8A18     		adds	r2, r1, r2
ARM GAS  /tmp/ccce1JxS.s 			page 42


 1449              	.LVL90:
 1450 0120 1088     		ldrh	r0, [r2]
 1451 0122 3040     		ands	r0, r6
 1452 0124 2043     		orrs	r0, r4
 1453 0126 ADE7     		b	.L139
 1454              	.L142:
 1455              		.align	2
 1456              	.L141:
 1457 0128 8080FFFF 		.word	-32640
 1458 012c 0F0F0000 		.word	3855
 1459 0130 C080FFFF 		.word	-32576
 1460 0134 BF8FFFFF 		.word	-28737
 1461 0138 80C0FFFF 		.word	-16256
 1462 013c 8FBFFFFF 		.word	-16497
 1463              	.LBE30:
 1464              		.cfi_endproc
 1465              	.LFE57:
 1467              		.section	.text.HAL_PCD_EP_Receive,"ax",%progbits
 1468              		.align	1
 1469              		.global	HAL_PCD_EP_Receive
 1470              		.syntax unified
 1471              		.code	16
 1472              		.thumb_func
 1473              		.fpu softvfp
 1475              	HAL_PCD_EP_Receive:
 1476              	.LFB58:
 824:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 825:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 826:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 827:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Receive an amount of data  
 828:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 829:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
 830:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  pBuf: pointer to the reception buffer   
 831:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  len: amount of data to be received
 832:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval HAL status
 833:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 834:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_EP_Receive(PCD_HandleTypeDef *hpcd, uint8_t ep_addr, uint8_t *pBuf, uint3
 835:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 1477              		.loc 1 835 0
 1478              		.cfi_startproc
 1479              	.LVL91:
 1480 0000 70B5     		push	{r4, r5, r6, lr}
 1481              	.LCFI8:
 1482              		.cfi_def_cfa_offset 16
 1483              		.cfi_offset 4, -16
 1484              		.cfi_offset 5, -12
 1485              		.cfi_offset 6, -8
 1486              		.cfi_offset 14, -4
 1487              		.loc 1 835 0
 1488 0002 0500     		movs	r5, r0
 1489 0004 7F20     		movs	r0, #127
 1490              	.LVL92:
 1491 0006 0140     		ands	r1, r0
 1492              	.LVL93:
 836:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 837:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  PCD_EPTypeDef *ep;
 838:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
ARM GAS  /tmp/ccce1JxS.s 			page 43


 839:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep = &hpcd->OUT_ep[ep_addr & 0x7F];
 840:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 841:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /*setup and start the Xfer */
 842:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->xfer_buff = pBuf;  
 1493              		.loc 1 842 0
 1494 0008 6338     		subs	r0, r0, #99
 1495 000a 4843     		muls	r0, r1
 1496 000c 2818     		adds	r0, r5, r0
 1497 000e 0400     		movs	r4, r0
 1498 0010 FC34     		adds	r4, r4, #252
 843:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->xfer_len = len;
 1499              		.loc 1 843 0
 1500 0012 2362     		str	r3, [r4, #32]
 844:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->xfer_count = 0;
 1501              		.loc 1 844 0
 1502 0014 0026     		movs	r6, #0
 845:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->is_in = 0;
 846:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->num = ep_addr & 0x7F;
 847:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    
 848:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_LOCK(hpcd); 
 1503              		.loc 1 848 0
 1504 0016 F423     		movs	r3, #244
 1505              	.LVL94:
 845:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->is_in = 0;
 1506              		.loc 1 845 0
 1507 0018 FF30     		adds	r0, r0, #255
 842:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->xfer_len = len;
 1508              		.loc 1 842 0
 1509 001a E261     		str	r2, [r4, #28]
 844:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->xfer_count = 0;
 1510              		.loc 1 844 0
 1511 001c 6662     		str	r6, [r4, #36]
 1512              		.loc 1 848 0
 1513 001e 5B00     		lsls	r3, r3, #1
 845:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->is_in = 0;
 1514              		.loc 1 845 0
 1515 0020 8672     		strb	r6, [r0, #10]
 846:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    
 1516              		.loc 1 846 0
 1517 0022 4172     		strb	r1, [r0, #9]
 1518              		.loc 1 848 0
 1519 0024 EA5C     		ldrb	r2, [r5, r3]
 1520              	.LVL95:
 1521 0026 0220     		movs	r0, #2
 1522 0028 012A     		cmp	r2, #1
 1523 002a 38D0     		beq	.L144
 1524              		.loc 1 848 0 is_stmt 0 discriminator 2
 1525 002c 0122     		movs	r2, #1
 1526 002e EA54     		strb	r2, [r5, r3]
 849:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    
 850:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* Multi packet transfer*/
 851:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if (ep->xfer_len > ep->maxpacket)
 1527              		.loc 1 851 0 is_stmt 1 discriminator 2
 1528 0030 226A     		ldr	r2, [r4, #32]
 1529 0032 A369     		ldr	r3, [r4, #24]
 1530 0034 9A42     		cmp	r2, r3
 1531 0036 33D9     		bls	.L145
ARM GAS  /tmp/ccce1JxS.s 			page 44


 1532              	.LVL96:
 852:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 853:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     len=ep->maxpacket;
 854:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     ep->xfer_len-=len; 
 1533              		.loc 1 854 0
 1534 0038 D21A     		subs	r2, r2, r3
 1535 003a 2262     		str	r2, [r4, #32]
 1536              	.L146:
 855:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 856:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   else
 857:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 858:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     len=ep->xfer_len;
 859:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     ep->xfer_len =0;
 860:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 861:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 862:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* configure and validate Rx endpoint */
 863:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if (ep->doublebuffer == 0) 
 1537              		.loc 1 863 0
 1538 003c 1C24     		movs	r4, #28
 1539              	.LVL97:
 1540 003e 4C43     		muls	r4, r1
 1541 0040 2C19     		adds	r4, r5, r4
 1542 0042 FF34     		adds	r4, r4, #255
 1543 0044 E07C     		ldrb	r0, [r4, #19]
 1544 0046 2A68     		ldr	r2, [r5]
 1545 0048 0028     		cmp	r0, #0
 1546 004a 2CD1     		bne	.L147
 1547              	.LBB31:
 864:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 865:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     /*Set RX buffer count*/
 866:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_SET_EP_RX_CNT(hpcd->Instance, ep->num, len)
 1548              		.loc 1 866 0
 1549 004c 1000     		movs	r0, r2
 1550 004e 647A     		ldrb	r4, [r4, #9]
 1551 0050 5030     		adds	r0, r0, #80
 1552 0052 0088     		ldrh	r0, [r0]
 1553 0054 E400     		lsls	r4, r4, #3
 1554 0056 2418     		adds	r4, r4, r0
 1555              	.LVL98:
 1556              	.L180:
 1557              	.LBE31:
 1558              	.LBB32:
 867:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 868:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   else
 869:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 870:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     /*Set the Double buffer counter*/
 871:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_SET_EP_DBUF_CNT(hpcd->Instance, ep->num, ep->is_in, len)
 1559              		.loc 1 871 0 discriminator 14
 1560 0058 3B48     		ldr	r0, .L181
 1561 005a 1018     		adds	r0, r2, r0
 1562 005c 2418     		adds	r4, r4, r0
 1563              	.LVL99:
 1564              	.LBB33:
 1565 005e 3E2B     		cmp	r3, #62
 1566 0060 5CD9     		bls	.L158
 1567              		.loc 1 871 0 is_stmt 0 discriminator 16
 1568 0062 5809     		lsrs	r0, r3, #5
ARM GAS  /tmp/ccce1JxS.s 			page 45


 1569 0064 80B2     		uxth	r0, r0
 1570              	.LVL100:
 1571 0066 DB06     		lsls	r3, r3, #27
 1572 0068 01D1     		bne	.L159
 1573              	.LVL101:
 1574              		.loc 1 871 0 discriminator 18
 1575 006a 0138     		subs	r0, r0, #1
 1576              	.LVL102:
 1577 006c 80B2     		uxth	r0, r0
 1578              	.LVL103:
 1579              	.L159:
 1580              		.loc 1 871 0 discriminator 20
 1581 006e 374B     		ldr	r3, .L181+4
 1582 0070 8002     		lsls	r0, r0, #10
 1583              	.LVL104:
 1584 0072 1843     		orrs	r0, r3
 1585              	.L173:
 1586              		.loc 1 871 0 discriminator 23
 1587 0074 2080     		strh	r0, [r4]
 1588              	.LVL105:
 1589              	.L150:
 1590              	.LBE33:
 1591              	.LBE32:
 1592              	.LBB35:
 872:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
 873:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 874:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   PCD_SET_EP_RX_STATUS(hpcd->Instance, ep->num, USB_EP_RX_VALID)
 1593              		.loc 1 874 0 is_stmt 1
 1594 0076 1C23     		movs	r3, #28
 1595 0078 5943     		muls	r1, r3
 1596              	.LVL106:
 1597 007a 6918     		adds	r1, r5, r1
 1598 007c FF31     		adds	r1, r1, #255
 1599 007e 4B7A     		ldrb	r3, [r1, #9]
 1600              	.LBE35:
 875:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 876:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd); 
 1601              		.loc 1 876 0
 1602 0080 0020     		movs	r0, #0
 1603              	.LBB36:
 874:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 1604              		.loc 1 874 0
 1605 0082 9B00     		lsls	r3, r3, #2
 1606 0084 D218     		adds	r2, r2, r3
 1607 0086 1188     		ldrh	r1, [r2]
 1608 0088 314B     		ldr	r3, .L181+8
 1609 008a 1940     		ands	r1, r3
 1610              	.LVL107:
 1611 008c C023     		movs	r3, #192
 1612 008e 9B01     		lsls	r3, r3, #6
 1613 0090 5940     		eors	r1, r3
 1614              	.LVL108:
 1615 0092 304B     		ldr	r3, .L181+12
 1616 0094 0B43     		orrs	r3, r1
 1617 0096 1380     		strh	r3, [r2]
 1618              	.LBE36:
 1619              		.loc 1 876 0
ARM GAS  /tmp/ccce1JxS.s 			page 46


 1620 0098 F423     		movs	r3, #244
 1621 009a 5B00     		lsls	r3, r3, #1
 1622 009c E854     		strb	r0, [r5, r3]
 1623              	.LVL109:
 1624              	.L144:
 877:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 878:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   return HAL_OK;
 879:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 1625              		.loc 1 879 0
 1626              		@ sp needed
 1627              	.LVL110:
 1628 009e 70BD     		pop	{r4, r5, r6, pc}
 1629              	.LVL111:
 1630              	.L145:
 859:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 1631              		.loc 1 859 0
 1632 00a0 2662     		str	r6, [r4, #32]
 1633 00a2 1300     		movs	r3, r2
 1634 00a4 CAE7     		b	.L146
 1635              	.LVL112:
 1636              	.L147:
 871:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
 1637              		.loc 1 871 0
 1638 00a6 A07A     		ldrb	r0, [r4, #10]
 1639 00a8 0028     		cmp	r0, #0
 1640 00aa 2AD1     		bne	.L152
 1641              	.LBB37:
 871:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
 1642              		.loc 1 871 0 is_stmt 0 discriminator 1
 1643 00ac 1000     		movs	r0, r2
 1644 00ae 647A     		ldrb	r4, [r4, #9]
 1645 00b0 5030     		adds	r0, r0, #80
 1646 00b2 0088     		ldrh	r0, [r0]
 1647 00b4 E400     		lsls	r4, r4, #3
 1648 00b6 2418     		adds	r4, r4, r0
 1649 00b8 2748     		ldr	r0, .L181+16
 1650 00ba 1018     		adds	r0, r2, r0
 1651 00bc 2418     		adds	r4, r4, r0
 1652              	.LVL113:
 1653              	.LBB38:
 1654 00be 3E2B     		cmp	r3, #62
 1655 00c0 17D9     		bls	.L153
 871:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
 1656              		.loc 1 871 0 discriminator 3
 1657 00c2 5809     		lsrs	r0, r3, #5
 1658 00c4 80B2     		uxth	r0, r0
 1659              	.LVL114:
 1660 00c6 DE06     		lsls	r6, r3, #27
 1661 00c8 01D1     		bne	.L154
 871:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
 1662              		.loc 1 871 0 discriminator 5
 1663 00ca 0138     		subs	r0, r0, #1
 1664              	.LVL115:
 1665 00cc 80B2     		uxth	r0, r0
 1666              	.LVL116:
 1667              	.L154:
 871:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
ARM GAS  /tmp/ccce1JxS.s 			page 47


 1668              		.loc 1 871 0 discriminator 7
 1669 00ce 1F4E     		ldr	r6, .L181+4
 1670 00d0 8002     		lsls	r0, r0, #10
 1671              	.LVL117:
 1672 00d2 3043     		orrs	r0, r6
 1673              	.L172:
 871:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
 1674              		.loc 1 871 0 discriminator 10
 1675 00d4 2080     		strh	r0, [r4]
 1676              	.LVL118:
 1677              	.L155:
 1678              	.LBE38:
 1679              	.LBE37:
 871:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
 1680              		.loc 1 871 0 discriminator 13
 1681 00d6 1C20     		movs	r0, #28
 1682 00d8 4843     		muls	r0, r1
 1683 00da 2818     		adds	r0, r5, r0
 1684 00dc FF30     		adds	r0, r0, #255
 1685 00de 847A     		ldrb	r4, [r0, #10]
 1686 00e0 002C     		cmp	r4, #0
 1687 00e2 23D1     		bne	.L157
 1688              	.LBB40:
 871:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
 1689              		.loc 1 871 0 discriminator 14
 1690 00e4 1400     		movs	r4, r2
 1691 00e6 5034     		adds	r4, r4, #80
 1692 00e8 2688     		ldrh	r6, [r4]
 1693 00ea 447A     		ldrb	r4, [r0, #9]
 1694 00ec E400     		lsls	r4, r4, #3
 1695 00ee A419     		adds	r4, r4, r6
 1696 00f0 B2E7     		b	.L180
 1697              	.LVL119:
 1698              	.L153:
 1699              	.LBE40:
 1700              	.LBB41:
 1701              	.LBB39:
 871:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
 1702              		.loc 1 871 0 discriminator 4
 1703 00f2 5808     		lsrs	r0, r3, #1
 1704 00f4 80B2     		uxth	r0, r0
 1705              	.LVL120:
 1706 00f6 DE07     		lsls	r6, r3, #31
 1707 00f8 01D5     		bpl	.L156
 871:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
 1708              		.loc 1 871 0 discriminator 8
 1709 00fa 0130     		adds	r0, r0, #1
 1710              	.LVL121:
 1711 00fc 80B2     		uxth	r0, r0
 1712              	.LVL122:
 1713              	.L156:
 871:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
 1714              		.loc 1 871 0 discriminator 10
 1715 00fe 8002     		lsls	r0, r0, #10
 1716              	.LVL123:
 1717 0100 E8E7     		b	.L172
 1718              	.LVL124:
ARM GAS  /tmp/ccce1JxS.s 			page 48


 1719              	.L152:
 1720              	.LBE39:
 1721              	.LBE41:
 871:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
 1722              		.loc 1 871 0 discriminator 2
 1723 0102 0128     		cmp	r0, #1
 1724 0104 E7D1     		bne	.L155
 871:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
 1725              		.loc 1 871 0 discriminator 11
 1726 0106 1000     		movs	r0, r2
 1727 0108 5030     		adds	r0, r0, #80
 1728 010a 0688     		ldrh	r6, [r0]
 1729 010c 607A     		ldrb	r0, [r4, #9]
 1730 010e 124C     		ldr	r4, .L181+16
 1731 0110 C000     		lsls	r0, r0, #3
 1732 0112 1018     		adds	r0, r2, r0
 1733 0114 8019     		adds	r0, r0, r6
 1734 0116 0019     		adds	r0, r0, r4
 1735 0118 0380     		strh	r3, [r0]
 1736              	.LVL125:
 1737 011a DCE7     		b	.L155
 1738              	.LVL126:
 1739              	.L158:
 1740              	.LBB42:
 1741              	.LBB34:
 871:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
 1742              		.loc 1 871 0 discriminator 17
 1743 011c 5808     		lsrs	r0, r3, #1
 1744 011e 80B2     		uxth	r0, r0
 1745              	.LVL127:
 1746 0120 DB07     		lsls	r3, r3, #31
 1747 0122 01D5     		bpl	.L160
 1748              	.LVL128:
 871:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
 1749              		.loc 1 871 0 discriminator 21
 1750 0124 0130     		adds	r0, r0, #1
 1751              	.LVL129:
 1752 0126 80B2     		uxth	r0, r0
 1753              	.LVL130:
 1754              	.L160:
 871:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
 1755              		.loc 1 871 0 discriminator 23
 1756 0128 8002     		lsls	r0, r0, #10
 1757              	.LVL131:
 1758 012a A3E7     		b	.L173
 1759              	.LVL132:
 1760              	.L157:
 1761              	.LBE34:
 1762              	.LBE42:
 871:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
 1763              		.loc 1 871 0 discriminator 15
 1764 012c 012C     		cmp	r4, #1
 1765 012e A2D1     		bne	.L150
 871:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   } 
 1766              		.loc 1 871 0 discriminator 24
 1767 0130 1400     		movs	r4, r2
 1768 0132 5034     		adds	r4, r4, #80
ARM GAS  /tmp/ccce1JxS.s 			page 49


 1769 0134 2688     		ldrh	r6, [r4]
 1770 0136 447A     		ldrb	r4, [r0, #9]
 1771 0138 0748     		ldr	r0, .L181+16
 1772 013a E400     		lsls	r4, r4, #3
 1773 013c 1419     		adds	r4, r2, r4
 1774 013e A419     		adds	r4, r4, r6
 1775 0140 2418     		adds	r4, r4, r0
 1776 0142 2380     		strh	r3, [r4]
 1777 0144 97E7     		b	.L150
 1778              	.L182:
 1779 0146 C046     		.align	2
 1780              	.L181:
 1781 0148 06040000 		.word	1030
 1782 014c 0080FFFF 		.word	-32768
 1783 0150 8FBFFFFF 		.word	-16497
 1784 0154 8080FFFF 		.word	-32640
 1785 0158 02040000 		.word	1026
 1786              		.cfi_endproc
 1787              	.LFE58:
 1789              		.section	.text.HAL_PCD_EP_GetRxCount,"ax",%progbits
 1790              		.align	1
 1791              		.global	HAL_PCD_EP_GetRxCount
 1792              		.syntax unified
 1793              		.code	16
 1794              		.thumb_func
 1795              		.fpu softvfp
 1797              	HAL_PCD_EP_GetRxCount:
 1798              	.LFB59:
 880:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 881:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 882:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Get Received Data Size
 883:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 884:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
 885:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval Data Size
 886:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 887:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** uint16_t HAL_PCD_EP_GetRxCount(PCD_HandleTypeDef *hpcd, uint8_t ep_addr)
 888:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 1799              		.loc 1 888 0 is_stmt 1
 1800              		.cfi_startproc
 1801              	.LVL133:
 889:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   return hpcd->OUT_ep[ep_addr & 0x7F].xfer_count;
 1802              		.loc 1 889 0
 1803 0000 7F23     		movs	r3, #127
 1804 0002 0B40     		ands	r3, r1
 1805 0004 1C21     		movs	r1, #28
 1806              	.LVL134:
 1807 0006 5943     		muls	r1, r3
 1808 0008 4018     		adds	r0, r0, r1
 1809              	.LVL135:
 1810 000a FC30     		adds	r0, r0, #252
 1811 000c 406A     		ldr	r0, [r0, #36]
 890:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 1812              		.loc 1 890 0
 1813              		@ sp needed
 889:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   return hpcd->OUT_ep[ep_addr & 0x7F].xfer_count;
 1814              		.loc 1 889 0
 1815 000e 80B2     		uxth	r0, r0
ARM GAS  /tmp/ccce1JxS.s 			page 50


 1816              		.loc 1 890 0
 1817 0010 7047     		bx	lr
 1818              		.cfi_endproc
 1819              	.LFE59:
 1821              		.section	.text.HAL_PCD_EP_SetStall,"ax",%progbits
 1822              		.align	1
 1823              		.global	HAL_PCD_EP_SetStall
 1824              		.syntax unified
 1825              		.code	16
 1826              		.thumb_func
 1827              		.fpu softvfp
 1829              	HAL_PCD_EP_SetStall:
 1830              	.LFB61:
 891:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 892:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Send an amount of data  
 893:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 894:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
 895:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  pBuf: pointer to the transmission buffer   
 896:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  len: amount of data to be sent
 897:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval HAL status
 898:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 899:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_EP_Transmit(PCD_HandleTypeDef *hpcd, uint8_t ep_addr, uint8_t *pBuf, uint
 900:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 901:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   PCD_EPTypeDef *ep;
 902:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   uint16_t pmabuffer = 0;
 903:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     
 904:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep = &hpcd->IN_ep[ep_addr & 0x7F];
 905:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 906:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /*setup and start the Xfer */
 907:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->xfer_buff = pBuf;  
 908:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->xfer_len = len;
 909:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->xfer_count = 0;
 910:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->is_in = 1;
 911:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->num = ep_addr & 0x7F;
 912:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 913:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_LOCK(hpcd); 
 914:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 915:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /*Multi packet transfer*/
 916:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if (ep->xfer_len > ep->maxpacket)
 917:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 918:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     len=ep->maxpacket;
 919:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     ep->xfer_len-=len; 
 920:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 921:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   else
 922:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {  
 923:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     len=ep->xfer_len;
 924:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     ep->xfer_len =0;
 925:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 926:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 927:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* configure and validate Tx endpoint */
 928:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if (ep->doublebuffer == 0) 
 929:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 930:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_WritePMA(hpcd->Instance, ep->xfer_buff, ep->pmaadress, len);
 931:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_SET_EP_TX_CNT(hpcd->Instance, ep->num, len);
 932:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 933:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   else
 934:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
ARM GAS  /tmp/ccce1JxS.s 			page 51


 935:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     /*Write the data to the USB endpoint*/
 936:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     if ((PCD_GET_ENDPOINT(hpcd->Instance, ep->num)& USB_EP_DTOG_TX) == USB_EP_DTOG_TX)
 937:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
 938:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /*Set the Double buffer counter for pmabuffer1*/
 939:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_DBUF1_CNT(hpcd->Instance, ep->num, ep->is_in, len)
 940:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr1;
 941:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 942:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     else
 943:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
 944:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /*Set the Double buffer counter for pmabuffer0*/
 945:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_DBUF0_CNT(hpcd->Instance, ep->num, ep->is_in, len)
 946:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr0;
 947:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 948:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 949:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_WritePMA(hpcd->Instance, ep->xfer_buff, pmabuffer, len);
 950:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_FreeUserBuffer(hpcd->Instance, ep->num, ep->is_in)
 951:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 952:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 953:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   PCD_SET_EP_TX_STATUS(hpcd->Instance, ep->num, USB_EP_TX_VALID)
 954:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 955:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd);
 956:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****      
 957:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   return HAL_OK;
 958:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 959:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 960:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
 961:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Set a STALL condition over an endpoint
 962:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
 963:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
 964:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval HAL status
 965:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
 966:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_EP_SetStall(PCD_HandleTypeDef *hpcd, uint8_t ep_addr)
 967:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 1831              		.loc 1 967 0
 1832              		.cfi_startproc
 1833              	.LVL136:
 968:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   PCD_EPTypeDef *ep;
 969:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    
 970:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_LOCK(hpcd); 
 1834              		.loc 1 970 0
 1835 0000 F423     		movs	r3, #244
 967:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   PCD_EPTypeDef *ep;
 1836              		.loc 1 967 0
 1837 0002 10B5     		push	{r4, lr}
 1838              	.LCFI9:
 1839              		.cfi_def_cfa_offset 8
 1840              		.cfi_offset 4, -8
 1841              		.cfi_offset 14, -4
 1842              		.loc 1 970 0
 1843 0004 5B00     		lsls	r3, r3, #1
 1844 0006 C45C     		ldrb	r4, [r0, r3]
 967:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   PCD_EPTypeDef *ep;
 1845              		.loc 1 967 0
 1846 0008 0200     		movs	r2, r0
 1847              		.loc 1 970 0
 1848 000a 0220     		movs	r0, #2
 1849              	.LVL137:
ARM GAS  /tmp/ccce1JxS.s 			page 52


 1850 000c 012C     		cmp	r4, #1
 1851 000e 21D0     		beq	.L185
 1852              		.loc 1 970 0 is_stmt 0 discriminator 2
 1853 0010 0138     		subs	r0, r0, #1
 1854 0012 D054     		strb	r0, [r2, r3]
 1855 0014 CD3B     		subs	r3, r3, #205
 971:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****    
 972:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if ((0x80 & ep_addr) == 0x80)
 1856              		.loc 1 972 0 is_stmt 1 discriminator 2
 1857 0016 48B2     		sxtb	r0, r1
 1858 0018 FF3B     		subs	r3, r3, #255
 1859 001a 0028     		cmp	r0, #0
 1860 001c 1BDA     		bge	.L186
 973:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 974:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     ep = &hpcd->IN_ep[ep_addr & 0x7F];
 1861              		.loc 1 974 0
 1862 001e 7F24     		movs	r4, #127
 1863 0020 0C40     		ands	r4, r1
 1864 0022 6343     		muls	r3, r4
 1865 0024 2833     		adds	r3, r3, #40
 1866              	.L193:
 975:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 976:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   else
 977:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 978:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     ep = &hpcd->OUT_ep[ep_addr];
 979:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 980:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 981:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->is_stall = 1;
 1867              		.loc 1 981 0
 1868 0026 0124     		movs	r4, #1
 978:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 1869              		.loc 1 978 0
 1870 0028 D318     		adds	r3, r2, r3
 1871              	.LVL138:
 1872              		.loc 1 981 0
 1873 002a 9C70     		strb	r4, [r3, #2]
 982:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->num   = ep_addr & 0x7F;
 1874              		.loc 1 982 0
 1875 002c 7E34     		adds	r4, r4, #126
 1876 002e 2140     		ands	r1, r4
 1877              	.LVL139:
 983:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->is_in = ((ep_addr & 0x80) == 0x80);
 1878              		.loc 1 983 0
 1879 0030 C40F     		lsrs	r4, r0, #31
 1880 0032 5C70     		strb	r4, [r3, #1]
 982:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->num   = ep_addr & 0x7F;
 1881              		.loc 1 982 0
 1882 0034 1970     		strb	r1, [r3]
 1883 0036 1368     		ldr	r3, [r2]
 1884              	.LVL140:
 1885 0038 114C     		ldr	r4, .L195
 984:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 985:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if (ep->num == 0)
 1886              		.loc 1 985 0
 1887 003a 0029     		cmp	r1, #0
 1888 003c 0FD1     		bne	.L188
 1889              	.LVL141:
ARM GAS  /tmp/ccce1JxS.s 			page 53


 1890              	.LBB43:
 986:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 987:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     /* This macro sets STALL status for RX & TX*/ 
 988:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_SET_EP_TXRX_STATUS(hpcd->Instance, ep->num, USB_EP_RX_STALL, USB_EP_TX_STALL)
 1891              		.loc 1 988 0
 1892 003e 1988     		ldrh	r1, [r3]
 1893 0040 1048     		ldr	r0, .L195+4
 1894              	.LVL142:
 1895 0042 0840     		ands	r0, r1
 1896 0044 1049     		ldr	r1, .L195+8
 1897 0046 4140     		eors	r1, r0
 1898 0048 0C43     		orrs	r4, r1
 1899 004a 1C80     		strh	r4, [r3]
 1900              	.LVL143:
 1901              	.L189:
 1902              	.LBE43:
 989:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 990:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   else
 991:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 992:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     if (ep->is_in)
 993:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
 994:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_TX_STATUS(hpcd->Instance, ep->num , USB_EP_TX_STALL)
 995:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 996:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     else
 997:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
 998:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       PCD_SET_EP_RX_STATUS(hpcd->Instance, ep->num , USB_EP_RX_STALL)
 999:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
1000:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
1001:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd); 
 1903              		.loc 1 1001 0
 1904 004c F423     		movs	r3, #244
 1905 004e 0020     		movs	r0, #0
 1906 0050 5B00     		lsls	r3, r3, #1
 1907 0052 D054     		strb	r0, [r2, r3]
 1908              	.L185:
1002:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
1003:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   return HAL_OK;
1004:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 1909              		.loc 1 1004 0
 1910              		@ sp needed
 1911 0054 10BD     		pop	{r4, pc}
 1912              	.LVL144:
 1913              	.L186:
 978:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 1914              		.loc 1 978 0
 1915 0056 4B43     		muls	r3, r1
 1916 0058 0933     		adds	r3, r3, #9
 1917 005a FF33     		adds	r3, r3, #255
 1918 005c E3E7     		b	.L193
 1919              	.LVL145:
 1920              	.L188:
 1921 005e 8900     		lsls	r1, r1, #2
 1922              	.LBB44:
 994:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 1923              		.loc 1 994 0
 1924 0060 5918     		adds	r1, r3, r1
 1925 0062 0B88     		ldrh	r3, [r1]
ARM GAS  /tmp/ccce1JxS.s 			page 54


 1926              	.LBE44:
 992:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
 1927              		.loc 1 992 0
 1928 0064 0028     		cmp	r0, #0
 1929 0066 06DA     		bge	.L190
 1930              	.LBB45:
 994:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 1931              		.loc 1 994 0
 1932 0068 0848     		ldr	r0, .L195+12
 1933              	.LVL146:
 1934 006a 1840     		ands	r0, r3
 1935              	.LVL147:
 1936 006c 1023     		movs	r3, #16
 1937              	.LVL148:
 1938              	.L194:
 1939              	.LBE45:
 1940              	.LBB46:
 998:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 1941              		.loc 1 998 0
 1942 006e 4340     		eors	r3, r0
 1943 0070 1C43     		orrs	r4, r3
 1944 0072 0C80     		strh	r4, [r1]
 1945 0074 EAE7     		b	.L189
 1946              	.L190:
 1947 0076 0648     		ldr	r0, .L195+16
 1948 0078 1840     		ands	r0, r3
 1949              	.LVL149:
 1950 007a 8023     		movs	r3, #128
 1951 007c 5B01     		lsls	r3, r3, #5
 1952 007e F6E7     		b	.L194
 1953              	.L196:
 1954              		.align	2
 1955              	.L195:
 1956 0080 8080FFFF 		.word	-32640
 1957 0084 BFBFFFFF 		.word	-16449
 1958 0088 10100000 		.word	4112
 1959 008c BF8FFFFF 		.word	-28737
 1960 0090 8FBFFFFF 		.word	-16497
 1961              	.LBE46:
 1962              		.cfi_endproc
 1963              	.LFE61:
 1965              		.section	.text.HAL_PCD_EP_ClrStall,"ax",%progbits
 1966              		.align	1
 1967              		.global	HAL_PCD_EP_ClrStall
 1968              		.syntax unified
 1969              		.code	16
 1970              		.thumb_func
 1971              		.fpu softvfp
 1973              	HAL_PCD_EP_ClrStall:
 1974              	.LFB62:
1005:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
1006:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
1007:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Clear a STALL condition over in an endpoint
1008:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
1009:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
1010:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval HAL status
1011:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
ARM GAS  /tmp/ccce1JxS.s 			page 55


1012:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_EP_ClrStall(PCD_HandleTypeDef *hpcd, uint8_t ep_addr)
1013:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 1975              		.loc 1 1013 0
 1976              		.cfi_startproc
 1977              	.LVL150:
1014:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   PCD_EPTypeDef *ep;
1015:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
1016:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if ((0x80 & ep_addr) == 0x80)
 1978              		.loc 1 1016 0
 1979 0000 4AB2     		sxtb	r2, r1
1013:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   PCD_EPTypeDef *ep;
 1980              		.loc 1 1013 0
 1981 0002 70B5     		push	{r4, r5, r6, lr}
 1982              	.LCFI10:
 1983              		.cfi_def_cfa_offset 16
 1984              		.cfi_offset 4, -16
 1985              		.cfi_offset 5, -12
 1986              		.cfi_offset 6, -8
 1987              		.cfi_offset 14, -4
 1988 0004 1C23     		movs	r3, #28
1013:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   PCD_EPTypeDef *ep;
 1989              		.loc 1 1013 0
 1990 0006 0400     		movs	r4, r0
 1991              		.loc 1 1016 0
 1992 0008 002A     		cmp	r2, #0
 1993 000a 32DA     		bge	.L198
1017:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
1018:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     ep = &hpcd->IN_ep[ep_addr & 0x7F];
 1994              		.loc 1 1018 0
 1995 000c 7F20     		movs	r0, #127
 1996              	.LVL151:
 1997 000e 0840     		ands	r0, r1
 1998 0010 4343     		muls	r3, r0
 1999 0012 2833     		adds	r3, r3, #40
 2000              	.L213:
1019:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
1020:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   else
1021:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
1022:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     ep = &hpcd->OUT_ep[ep_addr];
1023:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
1024:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
1025:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->is_stall = 0;
 2001              		.loc 1 1025 0
 2002 0014 0020     		movs	r0, #0
1022:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 2003              		.loc 1 1022 0
 2004 0016 E318     		adds	r3, r4, r3
 2005              	.LVL152:
1026:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->num   = ep_addr & 0x7F;
1027:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->is_in = ((ep_addr & 0x80) == 0x80);
 2006              		.loc 1 1027 0
 2007 0018 D20F     		lsrs	r2, r2, #31
 2008 001a 5A70     		strb	r2, [r3, #1]
1028:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
1029:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_LOCK(hpcd); 
 2009              		.loc 1 1029 0
 2010 001c F422     		movs	r2, #244
ARM GAS  /tmp/ccce1JxS.s 			page 56


1025:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->num   = ep_addr & 0x7F;
 2011              		.loc 1 1025 0
 2012 001e 9870     		strb	r0, [r3, #2]
1026:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->num   = ep_addr & 0x7F;
 2013              		.loc 1 1026 0
 2014 0020 7F30     		adds	r0, r0, #127
 2015 0022 0140     		ands	r1, r0
 2016              	.LVL153:
 2017 0024 1970     		strb	r1, [r3]
 2018              		.loc 1 1029 0
 2019 0026 5200     		lsls	r2, r2, #1
 2020 0028 A15C     		ldrb	r1, [r4, r2]
 2021 002a 7D38     		subs	r0, r0, #125
 2022 002c 0129     		cmp	r1, #1
 2023 002e 1FD0     		beq	.L200
 2024              		.loc 1 1029 0 is_stmt 0 discriminator 2
 2025 0030 0121     		movs	r1, #1
 2026 0032 A154     		strb	r1, [r4, r2]
 2027 0034 1A78     		ldrb	r2, [r3]
 2028 0036 2068     		ldr	r0, [r4]
1030:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
1031:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   if (ep->is_in)
 2029              		.loc 1 1031 0 is_stmt 1 discriminator 2
 2030 0038 5D78     		ldrb	r5, [r3, #1]
1032:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
1033:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_CLEAR_TX_DTOG(hpcd->Instance, ep->num)
 2031              		.loc 1 1033 0 discriminator 2
 2032 003a 9200     		lsls	r2, r2, #2
 2033 003c 1749     		ldr	r1, .L215
 2034 003e 8218     		adds	r2, r0, r2
1031:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 2035              		.loc 1 1031 0 discriminator 2
 2036 0040 002D     		cmp	r5, #0
 2037 0042 1AD0     		beq	.L201
 2038              		.loc 1 1033 0
 2039 0044 1588     		ldrh	r5, [r2]
 2040 0046 6E06     		lsls	r6, r5, #25
 2041 0048 04D5     		bpl	.L202
 2042              		.loc 1 1033 0 is_stmt 0 discriminator 1
 2043 004a 154E     		ldr	r6, .L215+4
 2044 004c 3540     		ands	r5, r6
 2045 004e 154E     		ldr	r6, .L215+8
 2046 0050 3543     		orrs	r5, r6
 2047 0052 1580     		strh	r5, [r2]
 2048              	.L202:
 2049              	.LBB47:
1034:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_SET_EP_TX_STATUS(hpcd->Instance, ep->num, USB_EP_TX_VALID)
 2050              		.loc 1 1034 0 is_stmt 1
 2051 0054 1B78     		ldrb	r3, [r3]
 2052              	.LVL154:
 2053 0056 9B00     		lsls	r3, r3, #2
 2054 0058 C318     		adds	r3, r0, r3
 2055 005a 1A88     		ldrh	r2, [r3]
 2056 005c 1248     		ldr	r0, .L215+12
 2057 005e 1040     		ands	r0, r2
 2058              	.LVL155:
 2059 0060 3022     		movs	r2, #48
ARM GAS  /tmp/ccce1JxS.s 			page 57


 2060              	.LVL156:
 2061              	.L214:
 2062              	.LBE47:
 2063              	.LBB48:
1035:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
1036:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   else
1037:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
1038:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_CLEAR_RX_DTOG(hpcd->Instance, ep->num)
1039:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_SET_EP_RX_STATUS(hpcd->Instance, ep->num, USB_EP_RX_VALID)
 2064              		.loc 1 1039 0
 2065 0062 4240     		eors	r2, r0
 2066 0064 1143     		orrs	r1, r2
 2067 0066 1980     		strh	r1, [r3]
 2068              	.LBE48:
1040:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
1041:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __HAL_UNLOCK(hpcd); 
 2069              		.loc 1 1041 0
 2070 0068 F423     		movs	r3, #244
 2071 006a 0020     		movs	r0, #0
 2072 006c 5B00     		lsls	r3, r3, #1
 2073 006e E054     		strb	r0, [r4, r3]
 2074              	.L200:
1042:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     
1043:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   return HAL_OK;
1044:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 2075              		.loc 1 1044 0
 2076              		@ sp needed
 2077              	.LVL157:
 2078 0070 70BD     		pop	{r4, r5, r6, pc}
 2079              	.LVL158:
 2080              	.L198:
1022:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 2081              		.loc 1 1022 0
 2082 0072 4B43     		muls	r3, r1
 2083 0074 0933     		adds	r3, r3, #9
 2084 0076 FF33     		adds	r3, r3, #255
 2085 0078 CCE7     		b	.L213
 2086              	.LVL159:
 2087              	.L201:
1038:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_SET_EP_RX_STATUS(hpcd->Instance, ep->num, USB_EP_RX_VALID)
 2088              		.loc 1 1038 0
 2089 007a 1588     		ldrh	r5, [r2]
 2090 007c 6E04     		lsls	r6, r5, #17
 2091 007e 04D5     		bpl	.L204
1038:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_SET_EP_RX_STATUS(hpcd->Instance, ep->num, USB_EP_RX_VALID)
 2092              		.loc 1 1038 0 is_stmt 0 discriminator 1
 2093 0080 074E     		ldr	r6, .L215+4
 2094 0082 3540     		ands	r5, r6
 2095 0084 094E     		ldr	r6, .L215+16
 2096 0086 3543     		orrs	r5, r6
 2097 0088 1580     		strh	r5, [r2]
 2098              	.L204:
 2099              	.LBB49:
1039:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 2100              		.loc 1 1039 0 is_stmt 1
 2101 008a 1B78     		ldrb	r3, [r3]
 2102              	.LVL160:
ARM GAS  /tmp/ccce1JxS.s 			page 58


 2103 008c 9B00     		lsls	r3, r3, #2
 2104 008e C318     		adds	r3, r0, r3
 2105 0090 1A88     		ldrh	r2, [r3]
 2106 0092 0748     		ldr	r0, .L215+20
 2107 0094 1040     		ands	r0, r2
 2108              	.LVL161:
 2109 0096 C022     		movs	r2, #192
 2110 0098 9201     		lsls	r2, r2, #6
 2111 009a E2E7     		b	.L214
 2112              	.L216:
 2113              		.align	2
 2114              	.L215:
 2115 009c 8080FFFF 		.word	-32640
 2116 00a0 0F0F0000 		.word	3855
 2117 00a4 C080FFFF 		.word	-32576
 2118 00a8 BF8FFFFF 		.word	-28737
 2119 00ac 80C0FFFF 		.word	-16256
 2120 00b0 8FBFFFFF 		.word	-16497
 2121              	.LBE49:
 2122              		.cfi_endproc
 2123              	.LFE62:
 2125              		.section	.text.HAL_PCD_EP_Flush,"ax",%progbits
 2126              		.align	1
 2127              		.global	HAL_PCD_EP_Flush
 2128              		.syntax unified
 2129              		.code	16
 2130              		.thumb_func
 2131              		.fpu softvfp
 2133              	HAL_PCD_EP_Flush:
 2134              	.LFB63:
1045:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
1046:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
1047:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Flush an endpoint
1048:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
1049:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  ep_addr: endpoint address
1050:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval HAL status
1051:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
1052:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_EP_Flush(PCD_HandleTypeDef *hpcd, uint8_t ep_addr)
1053:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** { 
 2135              		.loc 1 1053 0
 2136              		.cfi_startproc
 2137              	.LVL162:
1054:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   return HAL_OK;
1055:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 2138              		.loc 1 1055 0
 2139 0000 0020     		movs	r0, #0
 2140              	.LVL163:
 2141              		@ sp needed
 2142 0002 7047     		bx	lr
 2143              		.cfi_endproc
 2144              	.LFE63:
 2146              		.section	.text.HAL_PCD_ActivateRemoteWakeup,"ax",%progbits
 2147              		.align	1
 2148              		.global	HAL_PCD_ActivateRemoteWakeup
 2149              		.syntax unified
 2150              		.code	16
 2151              		.thumb_func
ARM GAS  /tmp/ccce1JxS.s 			page 59


 2152              		.fpu softvfp
 2154              	HAL_PCD_ActivateRemoteWakeup:
 2155              	.LFB64:
1056:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
1057:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
1058:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  HAL_PCD_ActivateRemoteWakeup : active remote wakeup signalling
1059:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
1060:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval HAL status
1061:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
1062:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_ActivateRemoteWakeup(PCD_HandleTypeDef *hpcd)
1063:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 2156              		.loc 1 1063 0
 2157              		.cfi_startproc
 2158              	.LVL164:
1064:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   hpcd->Instance->CNTR |= USB_CNTR_RESUME;
 2159              		.loc 1 1064 0
 2160 0000 1022     		movs	r2, #16
 2161 0002 0368     		ldr	r3, [r0]
1065:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   return HAL_OK;  
1066:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 2162              		.loc 1 1066 0
 2163              		@ sp needed
1064:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   hpcd->Instance->CNTR |= USB_CNTR_RESUME;
 2164              		.loc 1 1064 0
 2165 0004 0233     		adds	r3, r3, #2
 2166 0006 D98F     		ldrh	r1, [r3, #62]
 2167              		.loc 1 1066 0
 2168 0008 0020     		movs	r0, #0
 2169              	.LVL165:
1064:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   hpcd->Instance->CNTR |= USB_CNTR_RESUME;
 2170              		.loc 1 1064 0
 2171 000a 0A43     		orrs	r2, r1
 2172 000c DA87     		strh	r2, [r3, #62]
 2173              		.loc 1 1066 0
 2174 000e 7047     		bx	lr
 2175              		.cfi_endproc
 2176              	.LFE64:
 2178              		.section	.text.HAL_PCD_DeActivateRemoteWakeup,"ax",%progbits
 2179              		.align	1
 2180              		.global	HAL_PCD_DeActivateRemoteWakeup
 2181              		.syntax unified
 2182              		.code	16
 2183              		.thumb_func
 2184              		.fpu softvfp
 2186              	HAL_PCD_DeActivateRemoteWakeup:
 2187              	.LFB65:
1067:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
1068:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
1069:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  HAL_PCD_DeActivateRemoteWakeup : de-active remote wakeup signalling
1070:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
1071:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval HAL status
1072:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
1073:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** HAL_StatusTypeDef HAL_PCD_DeActivateRemoteWakeup(PCD_HandleTypeDef *hpcd)
1074:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 2188              		.loc 1 1074 0
 2189              		.cfi_startproc
 2190              	.LVL166:
ARM GAS  /tmp/ccce1JxS.s 			page 60


1075:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   hpcd->Instance->CNTR &= (uint16_t)(~(USB_CNTR_RESUME));
 2191              		.loc 1 1075 0
 2192 0000 1021     		movs	r1, #16
 2193 0002 0368     		ldr	r3, [r0]
1076:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   return HAL_OK;  
1077:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 2194              		.loc 1 1077 0
 2195              		@ sp needed
1075:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   hpcd->Instance->CNTR &= (uint16_t)(~(USB_CNTR_RESUME));
 2196              		.loc 1 1075 0
 2197 0004 0233     		adds	r3, r3, #2
 2198 0006 DA8F     		ldrh	r2, [r3, #62]
 2199              		.loc 1 1077 0
 2200 0008 0020     		movs	r0, #0
 2201              	.LVL167:
1075:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   hpcd->Instance->CNTR &= (uint16_t)(~(USB_CNTR_RESUME));
 2202              		.loc 1 1075 0
 2203 000a 8A43     		bics	r2, r1
 2204 000c DA87     		strh	r2, [r3, #62]
 2205              		.loc 1 1077 0
 2206 000e 7047     		bx	lr
 2207              		.cfi_endproc
 2208              	.LFE65:
 2210              		.section	.text.HAL_PCD_GetState,"ax",%progbits
 2211              		.align	1
 2212              		.global	HAL_PCD_GetState
 2213              		.syntax unified
 2214              		.code	16
 2215              		.thumb_func
 2216              		.fpu softvfp
 2218              	HAL_PCD_GetState:
 2219              	.LFB66:
1078:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
1079:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @}
1080:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
1081:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
1082:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /** @defgroup PCD_Exported_Functions_Group4 Peripheral State functions 
1083:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  *  @brief   Peripheral State functions 
1084:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  *
1085:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** @verbatim   
1086:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  ===============================================================================
1087:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****                       ##### Peripheral State functions #####
1088:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  ===============================================================================  
1089:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     [..]
1090:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     This subsection permits to get in run-time the status of the peripheral 
1091:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     and the data flow.
1092:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
1093:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** @endverbatim
1094:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @{
1095:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
1096:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
1097:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
1098:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  Return the PCD state
1099:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd : PCD handle
1100:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval HAL state
1101:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
1102:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** PCD_StateTypeDef HAL_PCD_GetState(PCD_HandleTypeDef *hpcd)
ARM GAS  /tmp/ccce1JxS.s 			page 61


1103:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 2220              		.loc 1 1103 0
 2221              		.cfi_startproc
 2222              	.LVL168:
1104:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   return hpcd->State;
 2223              		.loc 1 1104 0
 2224 0000 EA23     		movs	r3, #234
 2225 0002 FF33     		adds	r3, r3, #255
 2226 0004 C05C     		ldrb	r0, [r0, r3]
 2227              	.LVL169:
1105:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 2228              		.loc 1 1105 0
 2229              		@ sp needed
1104:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   return hpcd->State;
 2230              		.loc 1 1104 0
 2231 0006 C0B2     		uxtb	r0, r0
 2232              		.loc 1 1105 0
 2233 0008 7047     		bx	lr
 2234              		.cfi_endproc
 2235              	.LFE66:
 2237              		.section	.text.PCD_WritePMA,"ax",%progbits
 2238              		.align	1
 2239              		.global	PCD_WritePMA
 2240              		.syntax unified
 2241              		.code	16
 2242              		.thumb_func
 2243              		.fpu softvfp
 2245              	PCD_WritePMA:
 2246              	.LFB67:
1106:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
1107:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @}
1108:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
1109:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
1110:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
1111:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @}
1112:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
1113:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
1114:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /** @addtogroup PCD_Private_Functions
1115:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @{
1116:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
1117:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
1118:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief Copy a buffer from user memory area to packet memory area (PMA)
1119:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param   USBx: USB peripheral instance register address.
1120:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param   pbUsrBuf: pointer to user memory area.
1121:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param   wPMABufAddr: address into PMA.
1122:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param   wNBytes: no. of bytes to be copied.
1123:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval None
1124:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
1125:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** void PCD_WritePMA(USB_TypeDef  *USBx, uint8_t *pbUsrBuf, uint16_t wPMABufAddr, uint16_t wNBytes)
1126:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 2247              		.loc 1 1126 0
 2248              		.cfi_startproc
 2249              	.LVL170:
 2250 0000 30B5     		push	{r4, r5, lr}
 2251              	.LCFI11:
 2252              		.cfi_def_cfa_offset 12
 2253              		.cfi_offset 4, -12
ARM GAS  /tmp/ccce1JxS.s 			page 62


 2254              		.cfi_offset 5, -8
 2255              		.cfi_offset 14, -4
1127:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   uint32_t n =  ((uint32_t)((uint32_t)wNBytes + 1)) >> 1;
1128:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   uint32_t i;
1129:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   uint16_t temp1, temp2;
1130:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   uint16_t *pdwVal;
1131:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   pdwVal = (uint16_t *)((uint32_t)(wPMABufAddr + (uint32_t)USBx + 0x400));
 2256              		.loc 1 1131 0
 2257 0002 8024     		movs	r4, #128
 2258 0004 E400     		lsls	r4, r4, #3
 2259 0006 0019     		adds	r0, r0, r4
 2260              	.LVL171:
 2261 0008 8218     		adds	r2, r0, r2
 2262              	.LVL172:
1132:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
1133:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   for (i = n; i != 0; i--)
 2263              		.loc 1 1133 0
 2264 000a 0800     		movs	r0, r1
 2265              	.LVL173:
1127:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   uint32_t n =  ((uint32_t)((uint32_t)wNBytes + 1)) >> 1;
 2266              		.loc 1 1127 0
 2267 000c 0133     		adds	r3, r3, #1
 2268              	.LVL174:
 2269 000e 5B08     		lsrs	r3, r3, #1
 2270              	.LVL175:
 2271              	.L222:
 2272              		.loc 1 1133 0 discriminator 1
 2273 0010 002B     		cmp	r3, #0
 2274 0012 00D1     		bne	.L223
1134:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
1135:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     temp1 = (uint16_t) * pbUsrBuf;
1136:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     pbUsrBuf++;
1137:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     temp2 = temp1 | ((uint16_t)((uint16_t)  * pbUsrBuf << 8)) ;
1138:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     *pdwVal++ = temp2;
1139:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     pbUsrBuf++;
1140:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
1141:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 2275              		.loc 1 1141 0
 2276              		@ sp needed
 2277 0014 30BD     		pop	{r4, r5, pc}
 2278              	.L223:
1137:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     *pdwVal++ = temp2;
 2279              		.loc 1 1137 0 discriminator 3
 2280 0016 4478     		ldrb	r4, [r0, #1]
 2281 0018 0578     		ldrb	r5, [r0]
 2282 001a 2402     		lsls	r4, r4, #8
 2283 001c 2C43     		orrs	r4, r5
 2284              	.LVL176:
1138:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     pbUsrBuf++;
 2285              		.loc 1 1138 0 discriminator 3
 2286 001e 451A     		subs	r5, r0, r1
 2287 0020 AC52     		strh	r4, [r5, r2]
 2288              	.LVL177:
 2289 0022 0230     		adds	r0, r0, #2
 2290              	.LVL178:
1133:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 2291              		.loc 1 1133 0 discriminator 3
ARM GAS  /tmp/ccce1JxS.s 			page 63


 2292 0024 013B     		subs	r3, r3, #1
 2293              	.LVL179:
 2294 0026 F3E7     		b	.L222
 2295              		.cfi_endproc
 2296              	.LFE67:
 2298              		.section	.text.HAL_PCD_EP_Transmit,"ax",%progbits
 2299              		.align	1
 2300              		.global	HAL_PCD_EP_Transmit
 2301              		.syntax unified
 2302              		.code	16
 2303              		.thumb_func
 2304              		.fpu softvfp
 2306              	HAL_PCD_EP_Transmit:
 2307              	.LFB60:
 900:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   PCD_EPTypeDef *ep;
 2308              		.loc 1 900 0
 2309              		.cfi_startproc
 2310              	.LVL180:
 2311 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2312              	.LCFI12:
 2313              		.cfi_def_cfa_offset 24
 2314              		.cfi_offset 3, -24
 2315              		.cfi_offset 4, -20
 2316              		.cfi_offset 5, -16
 2317              		.cfi_offset 6, -12
 2318              		.cfi_offset 7, -8
 2319              		.cfi_offset 14, -4
 2320 0002 7F25     		movs	r5, #127
 2321 0004 0D40     		ands	r5, r1
 2322              	.LVL181:
 907:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->xfer_len = len;
 2323              		.loc 1 907 0
 2324 0006 1C21     		movs	r1, #28
 2325              	.LVL182:
 2326 0008 6943     		muls	r1, r5
 2327 000a 4118     		adds	r1, r0, r1
 908:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->xfer_count = 0;
 2328              		.loc 1 908 0
 2329 000c CB63     		str	r3, [r1, #60]
 910:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->num = ep_addr & 0x7F;
 2330              		.loc 1 910 0
 2331 000e 0B00     		movs	r3, r1
 2332              	.LVL183:
 907:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->xfer_len = len;
 2333              		.loc 1 907 0
 2334 0010 8A63     		str	r2, [r1, #56]
 909:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->is_in = 1;
 2335              		.loc 1 909 0
 2336 0012 0026     		movs	r6, #0
 910:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->num = ep_addr & 0x7F;
 2337              		.loc 1 910 0
 2338 0014 0122     		movs	r2, #1
 2339              	.LVL184:
 2340 0016 2933     		adds	r3, r3, #41
 909:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->is_in = 1;
 2341              		.loc 1 909 0
 2342 0018 0E64     		str	r6, [r1, #64]
ARM GAS  /tmp/ccce1JxS.s 			page 64


 911:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 2343              		.loc 1 911 0
 2344 001a 013B     		subs	r3, r3, #1
 910:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   ep->num = ep_addr & 0x7F;
 2345              		.loc 1 910 0
 2346 001c 5A70     		strb	r2, [r3, #1]
 911:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 2347              		.loc 1 911 0
 2348 001e 1D70     		strb	r5, [r3]
 913:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 2349              		.loc 1 913 0
 2350 0020 F423     		movs	r3, #244
 2351 0022 5B00     		lsls	r3, r3, #1
 2352 0024 C75C     		ldrb	r7, [r0, r3]
 900:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   PCD_EPTypeDef *ep;
 2353              		.loc 1 900 0
 2354 0026 0400     		movs	r4, r0
 913:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 2355              		.loc 1 913 0
 2356 0028 0220     		movs	r0, #2
 2357              	.LVL185:
 2358 002a 9742     		cmp	r7, r2
 2359 002c 36D0     		beq	.L225
 913:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 2360              		.loc 1 913 0 is_stmt 0 discriminator 2
 2361 002e E254     		strb	r2, [r4, r3]
 916:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 2362              		.loc 1 916 0 is_stmt 1 discriminator 2
 2363 0030 CB6B     		ldr	r3, [r1, #60]
 2364 0032 4A6B     		ldr	r2, [r1, #52]
 2365 0034 9342     		cmp	r3, r2
 2366 0036 32D9     		bls	.L226
 2367              	.LVL186:
 919:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 2368              		.loc 1 919 0
 2369 0038 9B1A     		subs	r3, r3, r2
 2370 003a CB63     		str	r3, [r1, #60]
 2371              	.L227:
 928:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 2372              		.loc 1 928 0
 2373 003c 1C21     		movs	r1, #28
 2374              	.LVL187:
 2375 003e 6943     		muls	r1, r5
 2376              	.LVL188:
 2377 0040 6118     		adds	r1, r4, r1
 2378 0042 0B00     		movs	r3, r1
 2379 0044 0F00     		movs	r7, r1
 2380 0046 3233     		adds	r3, r3, #50
 2381 0048 1B78     		ldrb	r3, [r3]
 2382 004a 96B2     		uxth	r6, r2
 2383 004c 2837     		adds	r7, r7, #40
 2384 004e 002B     		cmp	r3, #0
 2385 0050 28D1     		bne	.L228
 930:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_SET_EP_TX_CNT(hpcd->Instance, ep->num, len);
 2386              		.loc 1 930 0
 2387 0052 8A8D     		ldrh	r2, [r1, #44]
 2388              	.LVL189:
ARM GAS  /tmp/ccce1JxS.s 			page 65


 2389 0054 3300     		movs	r3, r6
 2390 0056 896B     		ldr	r1, [r1, #56]
 2391 0058 2068     		ldr	r0, [r4]
 2392 005a FFF7FEFF 		bl	PCD_WritePMA
 2393              	.LVL190:
 931:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 2394              		.loc 1 931 0
 2395 005e 2368     		ldr	r3, [r4]
 2396 0060 1A00     		movs	r2, r3
 2397 0062 5032     		adds	r2, r2, #80
 2398 0064 1188     		ldrh	r1, [r2]
 2399 0066 3A78     		ldrb	r2, [r7]
 2400 0068 D200     		lsls	r2, r2, #3
 2401 006a 9B18     		adds	r3, r3, r2
 2402 006c 524A     		ldr	r2, .L254
 2403 006e 5B18     		adds	r3, r3, r1
 2404 0070 9B18     		adds	r3, r3, r2
 2405 0072 1E80     		strh	r6, [r3]
 2406              	.LVL191:
 2407              	.L229:
 2408              	.LBB50:
 953:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 2409              		.loc 1 953 0
 2410 0074 1C21     		movs	r1, #28
 2411 0076 4D43     		muls	r5, r1
 2412              	.LVL192:
 2413 0078 6519     		adds	r5, r4, r5
 2414 007a 2835     		adds	r5, r5, #40
 2415 007c 2B78     		ldrb	r3, [r5]
 2416 007e 2268     		ldr	r2, [r4]
 2417 0080 9B00     		lsls	r3, r3, #2
 2418 0082 D318     		adds	r3, r2, r3
 2419 0084 1988     		ldrh	r1, [r3]
 2420 0086 4D4A     		ldr	r2, .L254+4
 2421              	.LBE50:
 955:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****      
 2422              		.loc 1 955 0
 2423 0088 0020     		movs	r0, #0
 2424              	.LBB51:
 953:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
 2425              		.loc 1 953 0
 2426 008a 1140     		ands	r1, r2
 2427              	.LVL193:
 2428 008c 3022     		movs	r2, #48
 2429 008e 5140     		eors	r1, r2
 2430              	.LVL194:
 2431 0090 4B4A     		ldr	r2, .L254+8
 2432 0092 0A43     		orrs	r2, r1
 2433 0094 1A80     		strh	r2, [r3]
 2434              	.LBE51:
 955:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****      
 2435              		.loc 1 955 0
 2436 0096 F423     		movs	r3, #244
 2437 0098 5B00     		lsls	r3, r3, #1
 2438 009a E054     		strb	r0, [r4, r3]
 2439              	.LVL195:
 2440              	.L225:
ARM GAS  /tmp/ccce1JxS.s 			page 66


 958:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 2441              		.loc 1 958 0
 2442              		@ sp needed
 2443              	.LVL196:
 2444 009c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2445              	.LVL197:
 2446              	.L226:
 924:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 2447              		.loc 1 924 0
 2448 009e CE63     		str	r6, [r1, #60]
 2449 00a0 1A00     		movs	r2, r3
 2450 00a2 CBE7     		b	.L227
 2451              	.LVL198:
 2452              	.L228:
 936:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
 2453              		.loc 1 936 0
 2454 00a4 3B78     		ldrb	r3, [r7]
 2455 00a6 2068     		ldr	r0, [r4]
 2456 00a8 9F00     		lsls	r7, r3, #2
 2457 00aa 3F5A     		ldrh	r7, [r7, r0]
 2458 00ac 2931     		adds	r1, r1, #41
 939:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr1;
 2459              		.loc 1 939 0
 2460 00ae 0978     		ldrb	r1, [r1]
 936:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
 2461              		.loc 1 936 0
 2462 00b0 7F06     		lsls	r7, r7, #25
 2463 00b2 45D5     		bpl	.L230
 939:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr1;
 2464              		.loc 1 939 0
 2465 00b4 0029     		cmp	r1, #0
 2466 00b6 37D1     		bne	.L231
 2467              	.LBB52:
 939:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr1;
 2468              		.loc 1 939 0 is_stmt 0 discriminator 1
 2469 00b8 0100     		movs	r1, r0
 2470 00ba 5031     		adds	r1, r1, #80
 2471 00bc 0988     		ldrh	r1, [r1]
 2472 00be DB00     		lsls	r3, r3, #3
 2473 00c0 5B18     		adds	r3, r3, r1
 2474 00c2 4049     		ldr	r1, .L254+12
 2475 00c4 4118     		adds	r1, r0, r1
 2476 00c6 5B18     		adds	r3, r3, r1
 2477              	.LVL199:
 2478              	.LBB53:
 2479 00c8 3E2A     		cmp	r2, #62
 2480 00ca 25D9     		bls	.L232
 939:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr1;
 2481              		.loc 1 939 0 discriminator 3
 2482 00cc 5109     		lsrs	r1, r2, #5
 2483 00ce 89B2     		uxth	r1, r1
 2484              	.LVL200:
 2485 00d0 D206     		lsls	r2, r2, #27
 2486 00d2 01D1     		bne	.L233
 2487              	.LVL201:
 939:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr1;
 2488              		.loc 1 939 0 discriminator 5
ARM GAS  /tmp/ccce1JxS.s 			page 67


 2489 00d4 0139     		subs	r1, r1, #1
 2490              	.LVL202:
 2491 00d6 89B2     		uxth	r1, r1
 2492              	.LVL203:
 2493              	.L233:
 939:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr1;
 2494              		.loc 1 939 0 discriminator 7
 2495 00d8 3B4A     		ldr	r2, .L254+16
 2496 00da 8902     		lsls	r1, r1, #10
 2497              	.LVL204:
 2498 00dc 1143     		orrs	r1, r2
 2499              	.L251:
 939:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr1;
 2500              		.loc 1 939 0 discriminator 10
 2501 00de 1980     		strh	r1, [r3]
 2502              	.LVL205:
 2503              	.L234:
 2504              	.LBE53:
 2505              	.LBE52:
 940:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 2506              		.loc 1 940 0 is_stmt 1
 2507 00e0 1C23     		movs	r3, #28
 2508 00e2 6B43     		muls	r3, r5
 2509 00e4 E318     		adds	r3, r4, r3
 2510 00e6 1A8E     		ldrh	r2, [r3, #48]
 2511              	.LVL206:
 2512              	.L236:
 949:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     PCD_FreeUserBuffer(hpcd->Instance, ep->num, ep->is_in)
 2513              		.loc 1 949 0
 2514 00e8 1C27     		movs	r7, #28
 2515 00ea 6F43     		muls	r7, r5
 2516 00ec E719     		adds	r7, r4, r7
 2517 00ee 3300     		movs	r3, r6
 2518 00f0 B96B     		ldr	r1, [r7, #56]
 2519 00f2 FFF7FEFF 		bl	PCD_WritePMA
 2520              	.LVL207:
 950:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 2521              		.loc 1 950 0
 2522 00f6 3B00     		movs	r3, r7
 2523 00f8 2933     		adds	r3, r3, #41
 2524 00fa 1B78     		ldrb	r3, [r3]
 2525 00fc 2168     		ldr	r1, [r4]
 2526 00fe 002B     		cmp	r3, #0
 2527 0100 4DD1     		bne	.L242
 950:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 2528              		.loc 1 950 0 is_stmt 0 discriminator 1
 2529 0102 2837     		adds	r7, r7, #40
 2530 0104 3B78     		ldrb	r3, [r7]
 2531 0106 9B00     		lsls	r3, r3, #2
 2532 0108 CB18     		adds	r3, r1, r3
 2533 010a 1A88     		ldrh	r2, [r3]
 2534 010c 2F49     		ldr	r1, .L254+20
 2535 010e 1140     		ands	r1, r2
 2536 0110 2F4A     		ldr	r2, .L254+24
 2537              	.L253:
 950:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 2538              		.loc 1 950 0 discriminator 3
ARM GAS  /tmp/ccce1JxS.s 			page 68


 2539 0112 0A43     		orrs	r2, r1
 2540 0114 1A80     		strh	r2, [r3]
 2541 0116 ADE7     		b	.L229
 2542              	.LVL208:
 2543              	.L232:
 2544              	.LBB55:
 2545              	.LBB54:
 939:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr1;
 2546              		.loc 1 939 0 is_stmt 1 discriminator 4
 2547 0118 5108     		lsrs	r1, r2, #1
 2548 011a 89B2     		uxth	r1, r1
 2549              	.LVL209:
 2550 011c D207     		lsls	r2, r2, #31
 2551 011e 01D5     		bpl	.L235
 2552              	.LVL210:
 939:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr1;
 2553              		.loc 1 939 0 is_stmt 0 discriminator 8
 2554 0120 0131     		adds	r1, r1, #1
 2555              	.LVL211:
 2556 0122 89B2     		uxth	r1, r1
 2557              	.LVL212:
 2558              	.L235:
 939:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr1;
 2559              		.loc 1 939 0 discriminator 10
 2560 0124 8902     		lsls	r1, r1, #10
 2561              	.LVL213:
 2562 0126 DAE7     		b	.L251
 2563              	.LVL214:
 2564              	.L231:
 2565              	.LBE54:
 2566              	.LBE55:
 939:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr1;
 2567              		.loc 1 939 0 discriminator 2
 2568 0128 0129     		cmp	r1, #1
 2569 012a D9D1     		bne	.L234
 939:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr1;
 2570              		.loc 1 939 0 discriminator 11
 2571 012c 0100     		movs	r1, r0
 2572 012e 5031     		adds	r1, r1, #80
 2573 0130 0988     		ldrh	r1, [r1]
 2574 0132 DB00     		lsls	r3, r3, #3
 2575 0134 C318     		adds	r3, r0, r3
 2576 0136 5B18     		adds	r3, r3, r1
 2577 0138 1F49     		ldr	r1, .L254
 2578 013a 5B18     		adds	r3, r3, r1
 2579 013c 1A80     		strh	r2, [r3]
 2580              	.LVL215:
 2581 013e CFE7     		b	.L234
 2582              	.LVL216:
 2583              	.L230:
 945:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr0;
 2584              		.loc 1 945 0 is_stmt 1
 2585 0140 0029     		cmp	r1, #0
 2586 0142 20D1     		bne	.L237
 2587              	.LBB56:
 945:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr0;
 2588              		.loc 1 945 0 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccce1JxS.s 			page 69


 2589 0144 0100     		movs	r1, r0
 2590 0146 5031     		adds	r1, r1, #80
 2591 0148 0988     		ldrh	r1, [r1]
 2592 014a DB00     		lsls	r3, r3, #3
 2593 014c 5B18     		adds	r3, r3, r1
 2594 014e 1A49     		ldr	r1, .L254
 2595 0150 4118     		adds	r1, r0, r1
 2596 0152 5B18     		adds	r3, r3, r1
 2597              	.LVL217:
 2598              	.LBB57:
 2599 0154 3E2A     		cmp	r2, #62
 2600 0156 0ED9     		bls	.L238
 945:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr0;
 2601              		.loc 1 945 0 discriminator 3
 2602 0158 5109     		lsrs	r1, r2, #5
 2603 015a 89B2     		uxth	r1, r1
 2604              	.LVL218:
 2605 015c D206     		lsls	r2, r2, #27
 2606 015e 01D1     		bne	.L239
 2607              	.LVL219:
 945:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr0;
 2608              		.loc 1 945 0 discriminator 5
 2609 0160 0139     		subs	r1, r1, #1
 2610              	.LVL220:
 2611 0162 89B2     		uxth	r1, r1
 2612              	.LVL221:
 2613              	.L239:
 945:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr0;
 2614              		.loc 1 945 0 discriminator 7
 2615 0164 184A     		ldr	r2, .L254+16
 2616 0166 8902     		lsls	r1, r1, #10
 2617              	.LVL222:
 2618 0168 1143     		orrs	r1, r2
 2619              	.L252:
 945:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr0;
 2620              		.loc 1 945 0 discriminator 10
 2621 016a 1980     		strh	r1, [r3]
 2622              	.LVL223:
 2623              	.L240:
 2624              	.LBE57:
 2625              	.LBE56:
 946:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 2626              		.loc 1 946 0 is_stmt 1
 2627 016c 1C23     		movs	r3, #28
 2628 016e 6B43     		muls	r3, r5
 2629 0170 E318     		adds	r3, r4, r3
 2630 0172 DA8D     		ldrh	r2, [r3, #46]
 2631              	.LVL224:
 2632 0174 B8E7     		b	.L236
 2633              	.LVL225:
 2634              	.L238:
 2635              	.LBB59:
 2636              	.LBB58:
 945:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr0;
 2637              		.loc 1 945 0 discriminator 4
 2638 0176 5108     		lsrs	r1, r2, #1
 2639 0178 89B2     		uxth	r1, r1
ARM GAS  /tmp/ccce1JxS.s 			page 70


 2640              	.LVL226:
 2641 017a D207     		lsls	r2, r2, #31
 2642 017c 01D5     		bpl	.L241
 2643              	.LVL227:
 945:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr0;
 2644              		.loc 1 945 0 is_stmt 0 discriminator 8
 2645 017e 0131     		adds	r1, r1, #1
 2646              	.LVL228:
 2647 0180 89B2     		uxth	r1, r1
 2648              	.LVL229:
 2649              	.L241:
 945:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr0;
 2650              		.loc 1 945 0 discriminator 10
 2651 0182 8902     		lsls	r1, r1, #10
 2652              	.LVL230:
 2653 0184 F1E7     		b	.L252
 2654              	.LVL231:
 2655              	.L237:
 2656              	.LBE58:
 2657              	.LBE59:
 945:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr0;
 2658              		.loc 1 945 0 discriminator 2
 2659 0186 0129     		cmp	r1, #1
 2660 0188 F0D1     		bne	.L240
 945:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       pmabuffer = ep->pmaaddr0;
 2661              		.loc 1 945 0 discriminator 11
 2662 018a 0100     		movs	r1, r0
 2663 018c 5031     		adds	r1, r1, #80
 2664 018e 0988     		ldrh	r1, [r1]
 2665 0190 DB00     		lsls	r3, r3, #3
 2666 0192 C318     		adds	r3, r0, r3
 2667 0194 5B18     		adds	r3, r3, r1
 2668 0196 0849     		ldr	r1, .L254
 2669 0198 5B18     		adds	r3, r3, r1
 2670 019a 1A80     		strh	r2, [r3]
 2671              	.LVL232:
 2672 019c E6E7     		b	.L240
 2673              	.LVL233:
 2674              	.L242:
 950:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 2675              		.loc 1 950 0 is_stmt 1 discriminator 2
 2676 019e 012B     		cmp	r3, #1
 2677 01a0 00D0     		beq	.LCB2614
 2678 01a2 67E7     		b	.L229	@long jump
 2679              	.LCB2614:
 950:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 2680              		.loc 1 950 0 is_stmt 0 discriminator 3
 2681 01a4 2837     		adds	r7, r7, #40
 2682 01a6 3A78     		ldrb	r2, [r7]
 2683 01a8 9200     		lsls	r2, r2, #2
 2684 01aa 8B18     		adds	r3, r1, r2
 2685 01ac 1A88     		ldrh	r2, [r3]
 2686 01ae 0749     		ldr	r1, .L254+20
 2687 01b0 1140     		ands	r1, r2
 2688 01b2 084A     		ldr	r2, .L254+28
 2689 01b4 ADE7     		b	.L253
 2690              	.L255:
ARM GAS  /tmp/ccce1JxS.s 			page 71


 2691 01b6 C046     		.align	2
 2692              	.L254:
 2693 01b8 02040000 		.word	1026
 2694 01bc BF8FFFFF 		.word	-28737
 2695 01c0 8080FFFF 		.word	-32640
 2696 01c4 06040000 		.word	1030
 2697 01c8 0080FFFF 		.word	-32768
 2698 01cc 0F0F0000 		.word	3855
 2699 01d0 C080FFFF 		.word	-32576
 2700 01d4 80C0FFFF 		.word	-16256
 2701              		.cfi_endproc
 2702              	.LFE60:
 2704              		.section	.text.PCD_ReadPMA,"ax",%progbits
 2705              		.align	1
 2706              		.global	PCD_ReadPMA
 2707              		.syntax unified
 2708              		.code	16
 2709              		.thumb_func
 2710              		.fpu softvfp
 2712              	PCD_ReadPMA:
 2713              	.LFB68:
1142:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
1143:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
1144:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief Copy a buffer from user memory area to packet memory area (PMA)
1145:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param   USBx: USB peripheral instance register address.
1146:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param   pbUsrBuf    = pointer to user memory area.
1147:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param   wPMABufAddr: address into PMA.
1148:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param   wNBytes: no. of bytes to be copied.
1149:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval None
1150:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
1151:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** void PCD_ReadPMA(USB_TypeDef  *USBx, uint8_t *pbUsrBuf, uint16_t wPMABufAddr, uint16_t wNBytes)
1152:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
 2714              		.loc 1 1152 0 is_stmt 1
 2715              		.cfi_startproc
 2716              	.LVL234:
 2717 0000 10B5     		push	{r4, lr}
 2718              	.LCFI13:
 2719              		.cfi_def_cfa_offset 8
 2720              		.cfi_offset 4, -8
 2721              		.cfi_offset 14, -4
1153:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   uint32_t n =  ((uint32_t)((uint32_t)wNBytes + 1)) >> 1;
1154:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   uint32_t i;
1155:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   uint16_t *pdwVal;
1156:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   pdwVal = (uint16_t *)((uint32_t)(wPMABufAddr + (uint32_t)USBx + 0x400));
 2722              		.loc 1 1156 0
 2723 0002 8024     		movs	r4, #128
 2724 0004 E400     		lsls	r4, r4, #3
 2725 0006 0019     		adds	r0, r0, r4
 2726              	.LVL235:
 2727 0008 8218     		adds	r2, r0, r2
 2728              	.LVL236:
1157:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   for (i = n; i != 0; i--)
 2729              		.loc 1 1157 0
 2730 000a 0800     		movs	r0, r1
 2731              	.LVL237:
1153:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   uint32_t n =  ((uint32_t)((uint32_t)wNBytes + 1)) >> 1;
 2732              		.loc 1 1153 0
ARM GAS  /tmp/ccce1JxS.s 			page 72


 2733 000c 0133     		adds	r3, r3, #1
 2734              	.LVL238:
 2735 000e 5B08     		lsrs	r3, r3, #1
 2736              	.LVL239:
 2737              	.L257:
 2738              		.loc 1 1157 0 discriminator 1
 2739 0010 002B     		cmp	r3, #0
 2740 0012 00D1     		bne	.L258
1158:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
1159:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     *(uint16_t*)((uint32_t)pbUsrBuf++) = *pdwVal++;
1160:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     pbUsrBuf++;
1161:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
1162:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** }
 2741              		.loc 1 1162 0
 2742              		@ sp needed
 2743 0014 10BD     		pop	{r4, pc}
 2744              	.L258:
 2745              	.LVL240:
1159:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     pbUsrBuf++;
 2746              		.loc 1 1159 0 discriminator 3
 2747 0016 441A     		subs	r4, r0, r1
 2748 0018 A45A     		ldrh	r4, [r4, r2]
1157:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   for (i = n; i != 0; i--)
 2749              		.loc 1 1157 0 discriminator 3
 2750 001a 013B     		subs	r3, r3, #1
 2751              	.LVL241:
1159:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     pbUsrBuf++;
 2752              		.loc 1 1159 0 discriminator 3
 2753 001c 0480     		strh	r4, [r0]
 2754 001e 0230     		adds	r0, r0, #2
 2755              	.LVL242:
 2756 0020 F6E7     		b	.L257
 2757              		.cfi_endproc
 2758              	.LFE68:
 2760              		.section	.text.HAL_PCD_IRQHandler,"ax",%progbits
 2761              		.align	1
 2762              		.global	HAL_PCD_IRQHandler
 2763              		.syntax unified
 2764              		.code	16
 2765              		.thumb_func
 2766              		.fpu softvfp
 2768              	HAL_PCD_IRQHandler:
 2769              	.LFB41:
 330:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   uint32_t wInterrupt_Mask = 0;
 2770              		.loc 1 330 0
 2771              		.cfi_startproc
 2772              	.LVL243:
 2773 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2774              	.LCFI14:
 2775              		.cfi_def_cfa_offset 20
 2776              		.cfi_offset 4, -20
 2777              		.cfi_offset 5, -16
 2778              		.cfi_offset 6, -12
 2779              		.cfi_offset 7, -8
 2780              		.cfi_offset 14, -4
 333:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 2781              		.loc 1 333 0
ARM GAS  /tmp/ccce1JxS.s 			page 73


 2782 0002 0368     		ldr	r3, [r0]
 330:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   uint32_t wInterrupt_Mask = 0;
 2783              		.loc 1 330 0
 2784 0004 85B0     		sub	sp, sp, #20
 2785              	.LCFI15:
 2786              		.cfi_def_cfa_offset 40
 333:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 2787              		.loc 1 333 0
 2788 0006 0633     		adds	r3, r3, #6
 2789 0008 DB8F     		ldrh	r3, [r3, #62]
 330:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   uint32_t wInterrupt_Mask = 0;
 2790              		.loc 1 330 0
 2791 000a 0400     		movs	r4, r0
 333:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 2792              		.loc 1 333 0
 2793 000c 1BB2     		sxth	r3, r3
 2794 000e 002B     		cmp	r3, #0
 2795 0010 00DA     		bge	.LCB2728
 2796 0012 61E0     		b	.L260	@long jump
 2797              	.LCB2728:
 2798              	.LVL244:
 2799              	.L290:
 340:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 2800              		.loc 1 340 0
 2801 0014 2368     		ldr	r3, [r4]
 2802 0016 0633     		adds	r3, r3, #6
 2803 0018 DA8F     		ldrh	r2, [r3, #62]
 2804 001a 5205     		lsls	r2, r2, #21
 2805 001c 0AD5     		bpl	.L262
 342:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     HAL_PCD_ResetCallback(hpcd);
 2806              		.loc 1 342 0
 2807 001e DA8F     		ldrh	r2, [r3, #62]
 2808 0020 8649     		ldr	r1, .L344
 343:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     HAL_PCD_SetAddress(hpcd, 0);
 2809              		.loc 1 343 0
 2810 0022 2000     		movs	r0, r4
 342:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     HAL_PCD_ResetCallback(hpcd);
 2811              		.loc 1 342 0
 2812 0024 0A40     		ands	r2, r1
 2813 0026 DA87     		strh	r2, [r3, #62]
 343:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     HAL_PCD_SetAddress(hpcd, 0);
 2814              		.loc 1 343 0
 2815 0028 FFF7FEFF 		bl	HAL_PCD_ResetCallback
 2816              	.LVL245:
 344:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 2817              		.loc 1 344 0
 2818 002c 0021     		movs	r1, #0
 2819 002e 2000     		movs	r0, r4
 2820 0030 FFF7FEFF 		bl	HAL_PCD_SetAddress
 2821              	.LVL246:
 2822              	.L262:
 347:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 2823              		.loc 1 347 0
 2824 0034 2368     		ldr	r3, [r4]
 2825 0036 991D     		adds	r1, r3, #6
 2826 0038 CA8F     		ldrh	r2, [r1, #62]
 2827 003a 5204     		lsls	r2, r2, #17
ARM GAS  /tmp/ccce1JxS.s 			page 74


 2828 003c 03D5     		bpl	.L291
 349:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 2829              		.loc 1 349 0
 2830 003e CA8F     		ldrh	r2, [r1, #62]
 2831 0040 7F48     		ldr	r0, .L344+4
 2832 0042 0240     		ands	r2, r0
 2833 0044 CA87     		strh	r2, [r1, #62]
 2834              	.L291:
 352:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 2835              		.loc 1 352 0
 2836 0046 CA8F     		ldrh	r2, [r1, #62]
 2837 0048 9204     		lsls	r2, r2, #18
 2838 004a 03D5     		bpl	.L292
 354:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 2839              		.loc 1 354 0
 2840 004c CA8F     		ldrh	r2, [r1, #62]
 2841 004e 7D48     		ldr	r0, .L344+8
 2842 0050 0240     		ands	r2, r0
 2843 0052 CA87     		strh	r2, [r1, #62]
 2844              	.L292:
 357:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 2845              		.loc 1 357 0
 2846 0054 CA8F     		ldrh	r2, [r1, #62]
 2847 0056 D204     		lsls	r2, r2, #19
 2848 0058 0FD5     		bpl	.L293
 360:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 2849              		.loc 1 360 0
 2850 005a 0421     		movs	r1, #4
 2851 005c 0233     		adds	r3, r3, #2
 2852 005e DA8F     		ldrh	r2, [r3, #62]
 369:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     
 2853              		.loc 1 369 0
 2854 0060 2000     		movs	r0, r4
 360:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 2855              		.loc 1 360 0
 2856 0062 8A43     		bics	r2, r1
 2857 0064 DA87     		strh	r2, [r3, #62]
 2858              	.LVL247:
 367:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     
 2859              		.loc 1 367 0
 2860 0066 784A     		ldr	r2, .L344+12
 2861 0068 DA87     		strh	r2, [r3, #62]
 369:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     
 2862              		.loc 1 369 0
 2863 006a FFF7FEFF 		bl	HAL_PCD_ResumeCallback
 2864              	.LVL248:
 371:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 2865              		.loc 1 371 0
 2866 006e 2368     		ldr	r3, [r4]
 2867 0070 7649     		ldr	r1, .L344+16
 2868 0072 0633     		adds	r3, r3, #6
 2869 0074 DA8F     		ldrh	r2, [r3, #62]
 2870 0076 0A40     		ands	r2, r1
 2871 0078 DA87     		strh	r2, [r3, #62]
 2872              	.LVL249:
 2873              	.L293:
 374:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {    
ARM GAS  /tmp/ccce1JxS.s 			page 75


 2874              		.loc 1 374 0
 2875 007a 2368     		ldr	r3, [r4]
 2876 007c 9A1D     		adds	r2, r3, #6
 2877 007e D18F     		ldrh	r1, [r2, #62]
 2878 0080 0905     		lsls	r1, r1, #20
 2879 0082 12D5     		bpl	.L295
 377:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     
 2880              		.loc 1 377 0
 2881 0084 D18F     		ldrh	r1, [r2, #62]
 2882 0086 7248     		ldr	r0, .L344+20
 380:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     hpcd->Instance->CNTR |= USB_CNTR_LPMODE;
 2883              		.loc 1 380 0
 2884 0088 0233     		adds	r3, r3, #2
 377:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     
 2885              		.loc 1 377 0
 2886 008a 0140     		ands	r1, r0
 2887 008c D187     		strh	r1, [r2, #62]
 380:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     hpcd->Instance->CNTR |= USB_CNTR_LPMODE;
 2888              		.loc 1 380 0
 2889 008e 0821     		movs	r1, #8
 2890 0090 D88F     		ldrh	r0, [r3, #62]
 2891 0092 0143     		orrs	r1, r0
 2892 0094 D987     		strh	r1, [r3, #62]
 381:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 2893              		.loc 1 381 0
 2894 0096 0421     		movs	r1, #4
 2895 0098 D88F     		ldrh	r0, [r3, #62]
 2896 009a 0143     		orrs	r1, r0
 2897 009c D987     		strh	r1, [r3, #62]
 383:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
 2898              		.loc 1 383 0
 2899 009e D38F     		ldrh	r3, [r2, #62]
 2900 00a0 DB04     		lsls	r3, r3, #19
 2901 00a2 02D4     		bmi	.L295
 385:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
 2902              		.loc 1 385 0
 2903 00a4 2000     		movs	r0, r4
 2904 00a6 FFF7FEFF 		bl	HAL_PCD_SuspendCallback
 2905              	.LVL250:
 2906              	.L295:
 389:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 2907              		.loc 1 389 0
 2908 00aa 2368     		ldr	r3, [r4]
 2909 00ac 0633     		adds	r3, r3, #6
 2910 00ae DA8F     		ldrh	r2, [r3, #62]
 2911 00b0 9205     		lsls	r2, r2, #22
 2912 00b2 06D5     		bpl	.L297
 391:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     HAL_PCD_SOFCallback(hpcd);
 2913              		.loc 1 391 0
 2914 00b4 DA8F     		ldrh	r2, [r3, #62]
 2915 00b6 6749     		ldr	r1, .L344+24
 392:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 2916              		.loc 1 392 0
 2917 00b8 2000     		movs	r0, r4
 391:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     HAL_PCD_SOFCallback(hpcd);
 2918              		.loc 1 391 0
 2919 00ba 0A40     		ands	r2, r1
ARM GAS  /tmp/ccce1JxS.s 			page 76


 2920 00bc DA87     		strh	r2, [r3, #62]
 392:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 2921              		.loc 1 392 0
 2922 00be FFF7FEFF 		bl	HAL_PCD_SOFCallback
 2923              	.LVL251:
 2924              	.L297:
 395:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
 2925              		.loc 1 395 0
 2926 00c2 2368     		ldr	r3, [r4]
 2927 00c4 0633     		adds	r3, r3, #6
 2928 00c6 DA8F     		ldrh	r2, [r3, #62]
 2929 00c8 D205     		lsls	r2, r2, #23
 2930 00ca 03D5     		bpl	.L259
 398:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   }
 2931              		.loc 1 398 0
 2932 00cc DA8F     		ldrh	r2, [r3, #62]
 2933 00ce 6249     		ldr	r1, .L344+28
 2934 00d0 0A40     		ands	r2, r1
 2935 00d2 DA87     		strh	r2, [r3, #62]
 2936              	.L259:
 400:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
 2937              		.loc 1 400 0
 2938 00d4 05B0     		add	sp, sp, #20
 2939              		@ sp needed
 2940              	.LVL252:
 2941 00d6 F0BD     		pop	{r4, r5, r6, r7, pc}
 2942              	.LVL253:
 2943              	.L260:
 2944              	.LBB65:
 2945              	.LBB66:
1163:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** 
1164:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** /**
1165:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @brief  This function handles PCD Endpoint interrupt request.
1166:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @param  hpcd: PCD handle
1167:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   * @retval HAL status
1168:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   */
1169:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** static HAL_StatusTypeDef PCD_EP_ISR_Handler(PCD_HandleTypeDef *hpcd)
1170:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c **** {
1171:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   PCD_EPTypeDef *ep;
1172:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   uint16_t count=0;
1173:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   uint8_t EPindex;
1174:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __IO uint16_t wIstr;  
1175:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   __IO uint16_t wEPVal = 0;
 2946              		.loc 1 1175 0
 2947 00d8 02AB     		add	r3, sp, #8
 2948 00da 9F1D     		adds	r7, r3, #6
 2949 00dc 0023     		movs	r3, #0
 2950 00de 3B80     		strh	r3, [r7]
 2951              	.LVL254:
 2952              	.L263:
1176:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   
1177:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   /* stay in loop while pending interrupts */
1178:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   while (((wIstr = hpcd->Instance->ISTR) & USB_ISTR_CTR) != 0)
 2953              		.loc 1 1178 0
 2954 00e0 2068     		ldr	r0, [r4]
 2955 00e2 03AA     		add	r2, sp, #12
 2956 00e4 831D     		adds	r3, r0, #6
ARM GAS  /tmp/ccce1JxS.s 			page 77


 2957 00e6 DB8F     		ldrh	r3, [r3, #62]
 2958 00e8 9BB2     		uxth	r3, r3
 2959 00ea 1380     		strh	r3, [r2]
 2960 00ec 1BB2     		sxth	r3, r3
 2961 00ee 002B     		cmp	r3, #0
 2962 00f0 00DB     		blt	.LCB2937
 2963 00f2 8FE7     		b	.L290	@long jump
 2964              	.LCB2937:
1179:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****   {
1180:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     /* extract highest priority endpoint number */
1181:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     EPindex = (uint8_t)(wIstr & USB_ISTR_EP_ID);
 2965              		.loc 1 1181 0
 2966 00f4 0F23     		movs	r3, #15
 2967 00f6 1688     		ldrh	r6, [r2]
 2968 00f8 1E40     		ands	r6, r3
 2969              	.LVL255:
1182:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     
1183:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     if (EPindex == 0)
 2970              		.loc 1 1183 0
 2971 00fa 00D0     		beq	.LCB2945
 2972 00fc BCE0     		b	.L264	@long jump
 2973              	.LCB2945:
1184:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
1185:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* Decode and service control endpoint interrupt */
1186:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       
1187:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* DIR bit = origin of the interrupt */   
1188:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       if ((wIstr & USB_ISTR_DIR) == 0)
 2974              		.loc 1 1188 0
 2975 00fe 1021     		movs	r1, #16
 2976 0100 1388     		ldrh	r3, [r2]
 2977 0102 1940     		ands	r1, r3
1189:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       {
1190:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         /* DIR = 0 */
1191:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         
1192:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         /* DIR = 0      => IN  int */
1193:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         /* DIR = 0 implies that (EP_CTR_TX = 1) always  */
1194:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         PCD_CLEAR_TX_EP_CTR(hpcd->Instance, PCD_ENDP0);
 2978              		.loc 1 1194 0
 2979 0104 0388     		ldrh	r3, [r0]
1188:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       {
 2980              		.loc 1 1188 0
 2981 0106 0029     		cmp	r1, #0
 2982 0108 26D1     		bne	.L265
 2983              		.loc 1 1194 0
 2984 010a 544A     		ldr	r2, .L344+32
 2985 010c 1340     		ands	r3, r2
 2986 010e 0380     		strh	r3, [r0]
 2987              	.LVL256:
1195:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         ep = &hpcd->IN_ep[0];
1196:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         
1197:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         ep->xfer_count = PCD_GET_EP_TX_CNT(hpcd->Instance, ep->num);
 2988              		.loc 1 1197 0
 2989 0110 0300     		movs	r3, r0
 2990 0112 5033     		adds	r3, r3, #80
 2991 0114 1A88     		ldrh	r2, [r3]
 2992 0116 2300     		movs	r3, r4
 2993 0118 2833     		adds	r3, r3, #40
ARM GAS  /tmp/ccce1JxS.s 			page 78


 2994              	.LVL257:
 2995 011a 1B78     		ldrb	r3, [r3]
 2996              	.LVL258:
 2997 011c DB00     		lsls	r3, r3, #3
 2998 011e C018     		adds	r0, r0, r3
 2999 0120 4F4B     		ldr	r3, .L344+36
 3000 0122 8018     		adds	r0, r0, r2
 3001 0124 C018     		adds	r0, r0, r3
 3002 0126 0388     		ldrh	r3, [r0]
1198:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         ep->xfer_buff += ep->xfer_count;
 3003              		.loc 1 1198 0
 3004 0128 A26B     		ldr	r2, [r4, #56]
1197:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         ep->xfer_buff += ep->xfer_count;
 3005              		.loc 1 1197 0
 3006 012a 9B05     		lsls	r3, r3, #22
 3007 012c 9B0D     		lsrs	r3, r3, #22
 3008 012e 2364     		str	r3, [r4, #64]
 3009              		.loc 1 1198 0
 3010 0130 D318     		adds	r3, r2, r3
 3011 0132 A363     		str	r3, [r4, #56]
1199:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****  
1200:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         /* TX COMPLETE */
1201:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         HAL_PCD_DataInStageCallback(hpcd, 0);
 3012              		.loc 1 1201 0
 3013 0134 2000     		movs	r0, r4
 3014 0136 FFF7FEFF 		bl	HAL_PCD_DataInStageCallback
 3015              	.LVL259:
1202:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         
1203:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         
1204:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         if((hpcd->USB_Address > 0)&& ( ep->xfer_len == 0))
 3016              		.loc 1 1204 0
 3017 013a 631D     		adds	r3, r4, #5
 3018 013c DA7F     		ldrb	r2, [r3, #31]
 3019 013e 002A     		cmp	r2, #0
 3020 0140 CED0     		beq	.L263
 3021 0142 E06B     		ldr	r0, [r4, #60]
 3022 0144 0028     		cmp	r0, #0
 3023 0146 CBD1     		bne	.L263
1205:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         {
1206:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           hpcd->Instance->DADDR = (hpcd->USB_Address | USB_DADDR_EF);
 3024              		.loc 1 1206 0
 3025 0148 8022     		movs	r2, #128
 3026 014a D97F     		ldrb	r1, [r3, #31]
 3027 014c 1143     		orrs	r1, r2
 3028 014e 2268     		ldr	r2, [r4]
 3029 0150 4C32     		adds	r2, r2, #76
 3030 0152 1180     		strh	r1, [r2]
1207:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           hpcd->USB_Address = 0;
 3031              		.loc 1 1207 0
 3032 0154 D877     		strb	r0, [r3, #31]
 3033 0156 C3E7     		b	.L263
 3034              	.LVL260:
 3035              	.L265:
1208:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         }
1209:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         
1210:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       }
1211:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       else
ARM GAS  /tmp/ccce1JxS.s 			page 79


1212:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       {
1213:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         /* DIR = 1 */
1214:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         
1215:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         /* DIR = 1 & CTR_RX       => SETUP or OUT int */
1216:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         /* DIR = 1 & (CTR_TX | CTR_RX) => 2 int pending */
1217:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         ep = &hpcd->OUT_ep[0];
1218:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         wEPVal = PCD_GET_ENDPOINT(hpcd->Instance, PCD_ENDP0);
 3036              		.loc 1 1218 0
 3037 0158 3B80     		strh	r3, [r7]
1219:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         
1220:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         if ((wEPVal & USB_EP_SETUP) != 0)
 3038              		.loc 1 1220 0
 3039 015a 3A88     		ldrh	r2, [r7]
 3040 015c 1205     		lsls	r2, r2, #20
 3041 015e 20D5     		bpl	.L269
1221:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         {
1222:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           /* Get SETUP Packet*/
1223:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           ep->xfer_count = PCD_GET_EP_RX_CNT(hpcd->Instance, ep->num);
 3042              		.loc 1 1223 0
 3043 0160 0300     		movs	r3, r0
 3044 0162 5033     		adds	r3, r3, #80
 3045 0164 1A88     		ldrh	r2, [r3]
 3046 0166 8423     		movs	r3, #132
 3047 0168 5B00     		lsls	r3, r3, #1
 3048 016a E35C     		ldrb	r3, [r4, r3]
1224:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           PCD_ReadPMA(hpcd->Instance, (uint8_t*)hpcd->Setup ,ep->pmaadress , ep->xfer_count);      
 3049              		.loc 1 1224 0
 3050 016c 2100     		movs	r1, r4
1223:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           PCD_ReadPMA(hpcd->Instance, (uint8_t*)hpcd->Setup ,ep->pmaadress , ep->xfer_count);      
 3051              		.loc 1 1223 0
 3052 016e DB00     		lsls	r3, r3, #3
 3053 0170 C318     		adds	r3, r0, r3
 3054 0172 9B18     		adds	r3, r3, r2
 3055 0174 3B4A     		ldr	r2, .L344+40
 3056              		.loc 1 1224 0
 3057 0176 ED31     		adds	r1, r1, #237
1223:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           PCD_ReadPMA(hpcd->Instance, (uint8_t*)hpcd->Setup ,ep->pmaadress , ep->xfer_count);      
 3058              		.loc 1 1223 0
 3059 0178 9B18     		adds	r3, r3, r2
 3060 017a 2200     		movs	r2, r4
 3061 017c 1B88     		ldrh	r3, [r3]
 3062 017e 0932     		adds	r2, r2, #9
 3063 0180 9B05     		lsls	r3, r3, #22
 3064 0182 9B0D     		lsrs	r3, r3, #22
 3065 0184 FF32     		adds	r2, r2, #255
 3066 0186 9361     		str	r3, [r2, #24]
 3067              		.loc 1 1224 0
 3068 0188 FF31     		adds	r1, r1, #255
 3069 018a 9288     		ldrh	r2, [r2, #4]
 3070 018c FFF7FEFF 		bl	PCD_ReadPMA
 3071              	.LVL261:
1225:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           /* SETUP bit kept frozen while CTR_RX = 1*/ 
1226:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           PCD_CLEAR_RX_EP_CTR(hpcd->Instance, PCD_ENDP0); 
 3072              		.loc 1 1226 0
 3073 0190 2268     		ldr	r2, [r4]
 3074 0192 3549     		ldr	r1, .L344+44
 3075 0194 1388     		ldrh	r3, [r2]
ARM GAS  /tmp/ccce1JxS.s 			page 80


1227:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           
1228:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           /* Process SETUP Packet*/
1229:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           HAL_PCD_SetupStageCallback(hpcd);
 3076              		.loc 1 1229 0
 3077 0196 2000     		movs	r0, r4
1226:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           
 3078              		.loc 1 1226 0
 3079 0198 0B40     		ands	r3, r1
 3080 019a 1380     		strh	r3, [r2]
 3081              		.loc 1 1229 0
 3082 019c FFF7FEFF 		bl	HAL_PCD_SetupStageCallback
 3083              	.LVL262:
 3084 01a0 9EE7     		b	.L263
 3085              	.L269:
1230:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         }
1231:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         
1232:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         else if ((wEPVal & USB_EP_CTR_RX) != 0)
 3086              		.loc 1 1232 0
 3087 01a2 3A88     		ldrh	r2, [r7]
 3088 01a4 12B2     		sxth	r2, r2
 3089 01a6 002A     		cmp	r2, #0
 3090 01a8 9ADA     		bge	.L263
1233:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         {
1234:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           PCD_CLEAR_RX_EP_CTR(hpcd->Instance, PCD_ENDP0);
 3091              		.loc 1 1234 0
 3092 01aa 2F4A     		ldr	r2, .L344+44
1235:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           /* Get Control Data OUT Packet*/
1236:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           ep->xfer_count = PCD_GET_EP_RX_CNT(hpcd->Instance, ep->num);
 3093              		.loc 1 1236 0
 3094 01ac 2500     		movs	r5, r4
1234:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           /* Get Control Data OUT Packet*/
 3095              		.loc 1 1234 0
 3096 01ae 1340     		ands	r3, r2
 3097 01b0 0380     		strh	r3, [r0]
 3098              		.loc 1 1236 0
 3099 01b2 0300     		movs	r3, r0
 3100 01b4 5033     		adds	r3, r3, #80
 3101 01b6 1A88     		ldrh	r2, [r3]
 3102 01b8 8423     		movs	r3, #132
 3103 01ba 5B00     		lsls	r3, r3, #1
 3104 01bc E35C     		ldrb	r3, [r4, r3]
 3105 01be 0935     		adds	r5, r5, #9
 3106 01c0 DB00     		lsls	r3, r3, #3
 3107 01c2 C318     		adds	r3, r0, r3
 3108 01c4 9B18     		adds	r3, r3, r2
 3109 01c6 274A     		ldr	r2, .L344+40
 3110 01c8 FF35     		adds	r5, r5, #255
 3111 01ca 9B18     		adds	r3, r3, r2
 3112 01cc 1B88     		ldrh	r3, [r3]
 3113 01ce 9B05     		lsls	r3, r3, #22
 3114 01d0 9B0D     		lsrs	r3, r3, #22
 3115 01d2 AB61     		str	r3, [r5, #24]
1237:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           
1238:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           if (ep->xfer_count != 0)
 3116              		.loc 1 1238 0
 3117 01d4 07D0     		beq	.L270
1239:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           {
ARM GAS  /tmp/ccce1JxS.s 			page 81


1240:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             PCD_ReadPMA(hpcd->Instance, ep->xfer_buff, ep->pmaadress, ep->xfer_count);
 3118              		.loc 1 1240 0
 3119 01d6 AA88     		ldrh	r2, [r5, #4]
 3120 01d8 2969     		ldr	r1, [r5, #16]
 3121 01da FFF7FEFF 		bl	PCD_ReadPMA
 3122              	.LVL263:
1241:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             ep->xfer_buff+=ep->xfer_count;
 3123              		.loc 1 1241 0
 3124 01de 2B69     		ldr	r3, [r5, #16]
 3125 01e0 AA69     		ldr	r2, [r5, #24]
 3126 01e2 9B18     		adds	r3, r3, r2
 3127 01e4 2B61     		str	r3, [r5, #16]
 3128              	.L270:
1242:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           }
1243:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           
1244:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           /* Process Control Data OUT Packet*/
1245:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****            HAL_PCD_DataOutStageCallback(hpcd, 0);
 3129              		.loc 1 1245 0
 3130 01e6 0021     		movs	r1, #0
 3131 01e8 2000     		movs	r0, r4
 3132 01ea FFF7FEFF 		bl	HAL_PCD_DataOutStageCallback
 3133              	.LVL264:
 3134              	.LBB67:
1246:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           
1247:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           PCD_SET_EP_RX_CNT(hpcd->Instance, PCD_ENDP0, ep->maxpacket)
 3135              		.loc 1 1247 0
 3136 01ee 2268     		ldr	r2, [r4]
 3137 01f0 1C49     		ldr	r1, .L344+40
 3138 01f2 1300     		movs	r3, r2
 3139 01f4 5033     		adds	r3, r3, #80
 3140 01f6 1B88     		ldrh	r3, [r3]
 3141              	.LBB68:
 3142 01f8 E868     		ldr	r0, [r5, #12]
 3143              	.LBE68:
 3144 01fa 5118     		adds	r1, r2, r1
 3145 01fc C918     		adds	r1, r1, r3
 3146              	.LVL265:
 3147              	.LBB69:
 3148 01fe 3E28     		cmp	r0, #62
 3149 0200 13D9     		bls	.L271
 3150 0202 4309     		lsrs	r3, r0, #5
 3151 0204 9BB2     		uxth	r3, r3
 3152              	.LVL266:
 3153 0206 C006     		lsls	r0, r0, #27
 3154 0208 01D1     		bne	.L272
 3155 020a 013B     		subs	r3, r3, #1
 3156              	.LVL267:
 3157 020c 9BB2     		uxth	r3, r3
 3158              	.LVL268:
 3159              	.L272:
 3160 020e 1748     		ldr	r0, .L344+48
 3161 0210 9B02     		lsls	r3, r3, #10
 3162              	.LVL269:
 3163 0212 0343     		orrs	r3, r0
 3164              	.L341:
 3165 0214 0B80     		strh	r3, [r1]
 3166              	.LBE69:
ARM GAS  /tmp/ccce1JxS.s 			page 82


 3167              	.LBE67:
 3168              	.LBB71:
1248:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           PCD_SET_EP_RX_STATUS(hpcd->Instance, PCD_ENDP0, USB_EP_RX_VALID)
 3169              		.loc 1 1248 0
 3170 0216 1188     		ldrh	r1, [r2]
 3171              	.LVL270:
 3172 0218 154B     		ldr	r3, .L344+52
 3173 021a 1940     		ands	r1, r3
 3174              	.LVL271:
 3175 021c C023     		movs	r3, #192
 3176 021e 9B01     		lsls	r3, r3, #6
 3177 0220 5940     		eors	r1, r3
 3178              	.LVL272:
 3179 0222 144B     		ldr	r3, .L344+56
 3180 0224 0B43     		orrs	r3, r1
 3181 0226 1380     		strh	r3, [r2]
 3182 0228 5AE7     		b	.L263
 3183              	.LVL273:
 3184              	.L271:
 3185              	.LBE71:
 3186              	.LBB72:
 3187              	.LBB70:
1247:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           PCD_SET_EP_RX_STATUS(hpcd->Instance, PCD_ENDP0, USB_EP_RX_VALID)
 3188              		.loc 1 1247 0
 3189 022a 4308     		lsrs	r3, r0, #1
 3190 022c 9BB2     		uxth	r3, r3
 3191              	.LVL274:
 3192 022e C007     		lsls	r0, r0, #31
 3193 0230 01D5     		bpl	.L274
 3194 0232 0133     		adds	r3, r3, #1
 3195              	.LVL275:
 3196 0234 9BB2     		uxth	r3, r3
 3197              	.LVL276:
 3198              	.L274:
 3199 0236 9B02     		lsls	r3, r3, #10
 3200              	.LVL277:
 3201 0238 ECE7     		b	.L341
 3202              	.L345:
 3203 023a C046     		.align	2
 3204              	.L344:
 3205 023c FFFBFFFF 		.word	-1025
 3206 0240 FFBFFFFF 		.word	-16385
 3207 0244 FFDFFFFF 		.word	-8193
 3208 0248 00BDFFFF 		.word	-17152
 3209 024c FFEFFFFF 		.word	-4097
 3210 0250 FFF7FFFF 		.word	-2049
 3211 0254 FFFDFFFF 		.word	-513
 3212 0258 FFFEFFFF 		.word	-257
 3213 025c 0F8FFFFF 		.word	-28913
 3214 0260 02040000 		.word	1026
 3215 0264 06040000 		.word	1030
 3216 0268 8F0F0000 		.word	3983
 3217 026c 0080FFFF 		.word	-32768
 3218 0270 8FBFFFFF 		.word	-16497
 3219 0274 8080FFFF 		.word	-32640
 3220              	.LVL278:
 3221              	.L264:
ARM GAS  /tmp/ccce1JxS.s 			page 83


 3222              	.LBE70:
 3223              	.LBE72:
1249:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         }
1250:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       }
1251:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     }
1252:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     else
1253:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****     {
1254:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       
1255:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* Decode and service non control endpoints interrupt  */
1256:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       
1257:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       /* process related endpoint register */
1258:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       wEPVal = PCD_GET_ENDPOINT(hpcd->Instance, EPindex);
 3224              		.loc 1 1258 0
 3225 0278 B300     		lsls	r3, r6, #2
 3226 027a C118     		adds	r1, r0, r3
 3227 027c 0193     		str	r3, [sp, #4]
 3228 027e 0B88     		ldrh	r3, [r1]
 3229 0280 3B80     		strh	r3, [r7]
1259:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       if ((wEPVal & USB_EP_CTR_RX) != 0)
 3230              		.loc 1 1259 0
 3231 0282 3A88     		ldrh	r2, [r7]
 3232 0284 12B2     		sxth	r2, r2
 3233 0286 002A     		cmp	r2, #0
 3234 0288 3CDA     		bge	.L275
1260:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       {  
1261:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         /* clear int flag */
1262:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         PCD_CLEAR_RX_EP_CTR(hpcd->Instance, EPindex);
 3235              		.loc 1 1262 0
 3236 028a 734A     		ldr	r2, .L346
 3237 028c 1340     		ands	r3, r2
 3238 028e 0B80     		strh	r3, [r1]
 3239              	.LVL279:
1263:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         ep = &hpcd->OUT_ep[EPindex];
1264:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         
1265:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         /* OUT double Buffering*/
1266:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         if (ep->doublebuffer == 0)
 3240              		.loc 1 1266 0
 3241 0290 1C21     		movs	r1, #28
 3242 0292 7143     		muls	r1, r6
 3243 0294 6118     		adds	r1, r4, r1
 3244 0296 0B00     		movs	r3, r1
 3245 0298 0200     		movs	r2, r0
 3246 029a FF33     		adds	r3, r3, #255
 3247 029c DD7C     		ldrb	r5, [r3, #19]
 3248 029e 5032     		adds	r2, r2, #80
 3249 02a0 5B7A     		ldrb	r3, [r3, #9]
 3250 02a2 002D     		cmp	r5, #0
 3251 02a4 73D1     		bne	.L276
1267:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         {
1268:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           count = PCD_GET_EP_RX_CNT(hpcd->Instance, ep->num);
 3252              		.loc 1 1268 0
 3253 02a6 1288     		ldrh	r2, [r2]
 3254 02a8 DB00     		lsls	r3, r3, #3
 3255 02aa C318     		adds	r3, r0, r3
 3256 02ac 9B18     		adds	r3, r3, r2
 3257 02ae 6B4A     		ldr	r2, .L346+4
 3258 02b0 9B18     		adds	r3, r3, r2
ARM GAS  /tmp/ccce1JxS.s 			page 84


 3259 02b2 1D88     		ldrh	r5, [r3]
 3260 02b4 AD05     		lsls	r5, r5, #22
 3261 02b6 AD0D     		lsrs	r5, r5, #22
 3262              	.LVL280:
1269:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           if (count != 0)
 3263              		.loc 1 1269 0
 3264 02b8 07D0     		beq	.L277
1270:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           {
1271:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             PCD_ReadPMA(hpcd->Instance, ep->xfer_buff, ep->pmaadress, count);
 3265              		.loc 1 1271 0
 3266 02ba 0B00     		movs	r3, r1
 3267 02bc FC31     		adds	r1, r1, #252
 3268 02be FE33     		adds	r3, r3, #254
 3269 02c0 DA89     		ldrh	r2, [r3, #14]
 3270 02c2 C969     		ldr	r1, [r1, #28]
 3271 02c4 2B00     		movs	r3, r5
 3272 02c6 FFF7FEFF 		bl	PCD_ReadPMA
 3273              	.LVL281:
 3274              	.L277:
1272:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           }
1273:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         }
1274:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         else
1275:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         {
1276:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           
1277:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           if ((PCD_GET_ENDPOINT(hpcd->Instance, ep->num)& USB_EP_DTOG_RX) == USB_EP_DTOG_RX)
1278:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           {
1279:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             /*read from endpoint BUF0Addr buffer*/
1280:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             count = PCD_GET_EP_DBUF0_CNT(hpcd->Instance, ep->num);
1281:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             if (count != 0)
1282:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             {
1283:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****               PCD_ReadPMA(hpcd->Instance, ep->xfer_buff, ep->pmaaddr0, count);
1284:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             }
1285:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           }
1286:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           else
1287:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           {
1288:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             /*read from endpoint BUF1Addr buffer*/
1289:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             count = PCD_GET_EP_DBUF1_CNT(hpcd->Instance, ep->num);
1290:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             if (count != 0)
1291:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             {
1292:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****               PCD_ReadPMA(hpcd->Instance, ep->xfer_buff, ep->pmaaddr1, count);
1293:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             }
1294:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           }
1295:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           PCD_FreeUserBuffer(hpcd->Instance, ep->num, PCD_EP_DBUF_OUT)  
1296:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         }
1297:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         /*multi-packet on the NON control OUT endpoint*/
1298:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         ep->xfer_count+=count;
 3275              		.loc 1 1298 0
 3276 02ca 1C21     		movs	r1, #28
 3277 02cc 0800     		movs	r0, r1
 3278 02ce 7043     		muls	r0, r6
 3279 02d0 2018     		adds	r0, r4, r0
 3280 02d2 0200     		movs	r2, r0
 3281 02d4 FC32     		adds	r2, r2, #252
 3282 02d6 536A     		ldr	r3, [r2, #36]
 3283 02d8 5B19     		adds	r3, r3, r5
 3284 02da 5362     		str	r3, [r2, #36]
1299:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         ep->xfer_buff+=count;
ARM GAS  /tmp/ccce1JxS.s 			page 85


 3285              		.loc 1 1299 0
 3286 02dc D369     		ldr	r3, [r2, #28]
 3287 02de 9C46     		mov	ip, r3
 3288 02e0 AC44     		add	ip, ip, r5
 3289 02e2 6346     		mov	r3, ip
 3290 02e4 D361     		str	r3, [r2, #28]
1300:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****        
1301:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         if ((ep->xfer_len == 0) || (count < ep->maxpacket))
 3291              		.loc 1 1301 0
 3292 02e6 136A     		ldr	r3, [r2, #32]
 3293 02e8 002B     		cmp	r3, #0
 3294 02ea 03D0     		beq	.L280
 3295 02ec 9269     		ldr	r2, [r2, #24]
 3296 02ee 9542     		cmp	r5, r2
 3297 02f0 00D3     		bcc	.LCB3289
 3298 02f2 7BE0     		b	.L281	@long jump
 3299              	.LCB3289:
 3300              	.L280:
1302:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         {
1303:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           /* RX COMPLETE */
1304:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           HAL_PCD_DataOutStageCallback(hpcd, ep->num);
 3301              		.loc 1 1304 0
 3302 02f4 0B00     		movs	r3, r1
 3303 02f6 7343     		muls	r3, r6
 3304 02f8 E318     		adds	r3, r4, r3
 3305 02fa FF33     		adds	r3, r3, #255
 3306 02fc 597A     		ldrb	r1, [r3, #9]
 3307 02fe 2000     		movs	r0, r4
 3308 0300 FFF7FEFF 		bl	HAL_PCD_DataOutStageCallback
 3309              	.LVL282:
 3310              	.L275:
1305:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         }
1306:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         else
1307:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         {
1308:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           HAL_PCD_EP_Receive(hpcd, ep->num, ep->xfer_buff, ep->xfer_len);
1309:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         }
1310:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         
1311:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       } /* if((wEPVal & EP_CTR_RX) */
1312:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       
1313:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       if ((wEPVal & USB_EP_CTR_TX) != 0)
 3311              		.loc 1 1313 0
 3312 0304 8022     		movs	r2, #128
 3313 0306 3B88     		ldrh	r3, [r7]
 3314 0308 1342     		tst	r3, r2
 3315 030a 00D1     		bne	.LCB3311
 3316 030c E8E6     		b	.L263	@long jump
 3317              	.LCB3311:
 3318              	.LVL283:
1314:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****       {
1315:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         ep = &hpcd->IN_ep[EPindex];
1316:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         
1317:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         /* clear int flag */
1318:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         PCD_CLEAR_TX_EP_CTR(hpcd->Instance, EPindex);
 3319              		.loc 1 1318 0
 3320 030e 2068     		ldr	r0, [r4]
 3321 0310 B300     		lsls	r3, r6, #2
 3322 0312 C318     		adds	r3, r0, r3
ARM GAS  /tmp/ccce1JxS.s 			page 86


 3323 0314 1A88     		ldrh	r2, [r3]
 3324 0316 5249     		ldr	r1, .L346+8
 3325 0318 0A40     		ands	r2, r1
1319:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         
1320:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         /* IN double Buffering*/
1321:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         if (ep->doublebuffer == 0)
 3326              		.loc 1 1321 0
 3327 031a 1C21     		movs	r1, #28
 3328 031c 7143     		muls	r1, r6
 3329 031e 6118     		adds	r1, r4, r1
1318:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         
 3330              		.loc 1 1318 0
 3331 0320 1A80     		strh	r2, [r3]
 3332              		.loc 1 1321 0
 3333 0322 0B00     		movs	r3, r1
 3334 0324 0200     		movs	r2, r0
 3335 0326 3233     		adds	r3, r3, #50
 3336 0328 1D78     		ldrb	r5, [r3]
 3337 032a 5032     		adds	r2, r2, #80
 3338 032c 0A3B     		subs	r3, r3, #10
 3339 032e 002D     		cmp	r5, #0
 3340 0330 63D1     		bne	.L282
1322:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         {
1323:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           ep->xfer_count = PCD_GET_EP_TX_CNT(hpcd->Instance, ep->num);
 3341              		.loc 1 1323 0
 3342 0332 1B78     		ldrb	r3, [r3]
 3343 0334 1288     		ldrh	r2, [r2]
 3344 0336 DB00     		lsls	r3, r3, #3
 3345 0338 C318     		adds	r3, r0, r3
 3346 033a 9B18     		adds	r3, r3, r2
 3347 033c 494A     		ldr	r2, .L346+12
 3348 033e 9B18     		adds	r3, r3, r2
 3349 0340 1B88     		ldrh	r3, [r3]
 3350 0342 9B05     		lsls	r3, r3, #22
 3351 0344 9B0D     		lsrs	r3, r3, #22
 3352 0346 0B64     		str	r3, [r1, #64]
1324:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           if (ep->xfer_count != 0)
 3353              		.loc 1 1324 0
 3354 0348 03D0     		beq	.L283
1325:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           {
1326:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             PCD_WritePMA(hpcd->Instance, ep->xfer_buff, ep->pmaadress, ep->xfer_count);
 3355              		.loc 1 1326 0
 3356 034a 8A8D     		ldrh	r2, [r1, #44]
 3357 034c 896B     		ldr	r1, [r1, #56]
 3358 034e FFF7FEFF 		bl	PCD_WritePMA
 3359              	.LVL284:
 3360              	.L283:
1327:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           }
1328:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         }
1329:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         else
1330:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         {
1331:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           if ((PCD_GET_ENDPOINT(hpcd->Instance, ep->num)& USB_EP_DTOG_TX) == USB_EP_DTOG_TX)
1332:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           {
1333:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             /*read from endpoint BUF0Addr buffer*/
1334:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             ep->xfer_count = PCD_GET_EP_DBUF0_CNT(hpcd->Instance, ep->num);
1335:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             if (ep->xfer_count != 0)
1336:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             {
ARM GAS  /tmp/ccce1JxS.s 			page 87


1337:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****               PCD_WritePMA(hpcd->Instance, ep->xfer_buff, ep->pmaaddr0, ep->xfer_count);
1338:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             }
1339:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           }
1340:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           else
1341:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           {
1342:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             /*read from endpoint BUF1Addr buffer*/
1343:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             ep->xfer_count = PCD_GET_EP_DBUF1_CNT(hpcd->Instance, ep->num);
1344:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             if (ep->xfer_count != 0)
1345:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             {
1346:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****               PCD_WritePMA(hpcd->Instance, ep->xfer_buff, ep->pmaaddr1, ep->xfer_count);
1347:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             }
1348:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           }
1349:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           PCD_FreeUserBuffer(hpcd->Instance, ep->num, PCD_EP_DBUF_IN) 
1350:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         }
1351:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         /*multi-packet on the NON control IN endpoint*/
1352:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         ep->xfer_count = PCD_GET_EP_TX_CNT(hpcd->Instance, ep->num);
 3361              		.loc 1 1352 0
 3362 0352 2268     		ldr	r2, [r4]
 3363 0354 1300     		movs	r3, r2
 3364 0356 5033     		adds	r3, r3, #80
 3365 0358 1888     		ldrh	r0, [r3]
 3366 035a 1C23     		movs	r3, #28
 3367 035c 5E43     		muls	r6, r3
 3368              	.LVL285:
 3369 035e A619     		adds	r6, r4, r6
 3370 0360 3100     		movs	r1, r6
 3371 0362 2831     		adds	r1, r1, #40
 3372 0364 0B78     		ldrb	r3, [r1]
 3373 0366 DB00     		lsls	r3, r3, #3
 3374 0368 D318     		adds	r3, r2, r3
 3375 036a 3E4A     		ldr	r2, .L346+12
 3376 036c 1B18     		adds	r3, r3, r0
 3377 036e 9B18     		adds	r3, r3, r2
 3378 0370 1A88     		ldrh	r2, [r3]
1353:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         ep->xfer_buff+=ep->xfer_count;
 3379              		.loc 1 1353 0
 3380 0372 B36B     		ldr	r3, [r6, #56]
1352:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         ep->xfer_buff+=ep->xfer_count;
 3381              		.loc 1 1352 0
 3382 0374 9205     		lsls	r2, r2, #22
 3383 0376 920D     		lsrs	r2, r2, #22
 3384 0378 3264     		str	r2, [r6, #64]
 3385              		.loc 1 1353 0
 3386 037a 9A18     		adds	r2, r3, r2
1354:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****        
1355:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         /* Zero Length Packet? */
1356:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         if (ep->xfer_len == 0)
 3387              		.loc 1 1356 0
 3388 037c F36B     		ldr	r3, [r6, #60]
1353:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****        
 3389              		.loc 1 1353 0
 3390 037e B263     		str	r2, [r6, #56]
 3391 0380 0978     		ldrb	r1, [r1]
1357:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         {
1358:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           /* TX COMPLETE */
1359:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           HAL_PCD_DataInStageCallback(hpcd, ep->num);
 3392              		.loc 1 1359 0
ARM GAS  /tmp/ccce1JxS.s 			page 88


 3393 0382 2000     		movs	r0, r4
1356:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         {
 3394              		.loc 1 1356 0
 3395 0384 002B     		cmp	r3, #0
 3396 0386 64D1     		bne	.L288
 3397              	.LVL286:
 3398              		.loc 1 1359 0
 3399 0388 FFF7FEFF 		bl	HAL_PCD_DataInStageCallback
 3400              	.LVL287:
 3401 038c A8E6     		b	.L263
 3402              	.LVL288:
 3403              	.L276:
1277:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           {
 3404              		.loc 1 1277 0
 3405 038e 9D00     		lsls	r5, r3, #2
1280:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             if (count != 0)
 3406              		.loc 1 1280 0
 3407 0390 1288     		ldrh	r2, [r2]
 3408 0392 DB00     		lsls	r3, r3, #3
1277:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           {
 3409              		.loc 1 1277 0
 3410 0394 2D5A     		ldrh	r5, [r5, r0]
1280:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             if (count != 0)
 3411              		.loc 1 1280 0
 3412 0396 C318     		adds	r3, r0, r3
 3413 0398 9B18     		adds	r3, r3, r2
1277:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           {
 3414              		.loc 1 1277 0
 3415 039a 6D04     		lsls	r5, r5, #17
 3416 039c 1CD5     		bpl	.L278
1280:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             if (count != 0)
 3417              		.loc 1 1280 0
 3418 039e 314A     		ldr	r2, .L346+12
 3419 03a0 9B18     		adds	r3, r3, r2
 3420 03a2 1D88     		ldrh	r5, [r3]
 3421 03a4 AD05     		lsls	r5, r5, #22
 3422 03a6 AD0D     		lsrs	r5, r5, #22
 3423              	.LVL289:
1281:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             {
 3424              		.loc 1 1281 0
 3425 03a8 07D0     		beq	.L279
1283:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             }
 3426              		.loc 1 1283 0
 3427 03aa 0B00     		movs	r3, r1
 3428 03ac FE33     		adds	r3, r3, #254
 3429 03ae 1A8A     		ldrh	r2, [r3, #16]
 3430              	.L342:
1292:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             }
 3431              		.loc 1 1292 0
 3432 03b0 FC31     		adds	r1, r1, #252
 3433 03b2 2B00     		movs	r3, r5
 3434 03b4 C969     		ldr	r1, [r1, #28]
 3435 03b6 FFF7FEFF 		bl	PCD_ReadPMA
 3436              	.LVL290:
 3437              	.L279:
1295:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         }
 3438              		.loc 1 1295 0
ARM GAS  /tmp/ccce1JxS.s 			page 89


 3439 03ba 1C23     		movs	r3, #28
 3440 03bc 7343     		muls	r3, r6
 3441 03be E318     		adds	r3, r4, r3
 3442 03c0 FF33     		adds	r3, r3, #255
 3443 03c2 5B7A     		ldrb	r3, [r3, #9]
 3444 03c4 2268     		ldr	r2, [r4]
 3445 03c6 9B00     		lsls	r3, r3, #2
 3446 03c8 D318     		adds	r3, r2, r3
 3447 03ca 1A88     		ldrh	r2, [r3]
 3448 03cc 2649     		ldr	r1, .L346+16
 3449 03ce 1140     		ands	r1, r2
 3450 03d0 264A     		ldr	r2, .L346+20
 3451 03d2 0A43     		orrs	r2, r1
 3452 03d4 1A80     		strh	r2, [r3]
 3453 03d6 78E7     		b	.L277
 3454              	.LVL291:
 3455              	.L278:
1289:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             if (count != 0)
 3456              		.loc 1 1289 0
 3457 03d8 204A     		ldr	r2, .L346+4
 3458 03da 9B18     		adds	r3, r3, r2
 3459 03dc 1D88     		ldrh	r5, [r3]
 3460 03de AD05     		lsls	r5, r5, #22
 3461 03e0 AD0D     		lsrs	r5, r5, #22
 3462              	.LVL292:
1290:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             {
 3463              		.loc 1 1290 0
 3464 03e2 EAD0     		beq	.L279
1292:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             }
 3465              		.loc 1 1292 0
 3466 03e4 0B00     		movs	r3, r1
 3467 03e6 FE33     		adds	r3, r3, #254
 3468 03e8 5A8A     		ldrh	r2, [r3, #18]
 3469 03ea E1E7     		b	.L342
 3470              	.L281:
1308:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         }
 3471              		.loc 1 1308 0
 3472 03ec FF30     		adds	r0, r0, #255
 3473 03ee 417A     		ldrb	r1, [r0, #9]
 3474 03f0 6246     		mov	r2, ip
 3475 03f2 2000     		movs	r0, r4
 3476 03f4 FFF7FEFF 		bl	HAL_PCD_EP_Receive
 3477              	.LVL293:
 3478 03f8 84E7     		b	.L275
 3479              	.LVL294:
 3480              	.L282:
1331:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           {
 3481              		.loc 1 1331 0
 3482 03fa 1B78     		ldrb	r3, [r3]
1334:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             if (ep->xfer_count != 0)
 3483              		.loc 1 1334 0
 3484 03fc 1288     		ldrh	r2, [r2]
1331:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           {
 3485              		.loc 1 1331 0
 3486 03fe 9D00     		lsls	r5, r3, #2
 3487 0400 2D5A     		ldrh	r5, [r5, r0]
 3488 0402 DB00     		lsls	r3, r3, #3
ARM GAS  /tmp/ccce1JxS.s 			page 90


1334:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             if (ep->xfer_count != 0)
 3489              		.loc 1 1334 0
 3490 0404 C318     		adds	r3, r0, r3
 3491 0406 9B18     		adds	r3, r3, r2
1331:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           {
 3492              		.loc 1 1331 0
 3493 0408 6D06     		lsls	r5, r5, #25
 3494 040a 19D5     		bpl	.L284
1334:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             if (ep->xfer_count != 0)
 3495              		.loc 1 1334 0
 3496 040c 154A     		ldr	r2, .L346+12
 3497 040e 9B18     		adds	r3, r3, r2
 3498 0410 1B88     		ldrh	r3, [r3]
 3499 0412 9B05     		lsls	r3, r3, #22
 3500 0414 9B0D     		lsrs	r3, r3, #22
 3501 0416 0B64     		str	r3, [r1, #64]
1335:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             {
 3502              		.loc 1 1335 0
 3503 0418 03D0     		beq	.L286
1337:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             }
 3504              		.loc 1 1337 0
 3505 041a CA8D     		ldrh	r2, [r1, #46]
 3506              	.L343:
1346:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             }
 3507              		.loc 1 1346 0
 3508 041c 896B     		ldr	r1, [r1, #56]
 3509 041e FFF7FEFF 		bl	PCD_WritePMA
 3510              	.LVL295:
 3511              	.L286:
1349:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         }
 3512              		.loc 1 1349 0
 3513 0422 1C23     		movs	r3, #28
 3514 0424 7343     		muls	r3, r6
 3515 0426 E318     		adds	r3, r4, r3
 3516 0428 2833     		adds	r3, r3, #40
 3517 042a 1B78     		ldrb	r3, [r3]
 3518 042c 2268     		ldr	r2, [r4]
 3519 042e 9B00     		lsls	r3, r3, #2
 3520 0430 D118     		adds	r1, r2, r3
 3521 0432 0B88     		ldrh	r3, [r1]
 3522 0434 0C4A     		ldr	r2, .L346+16
 3523 0436 1A40     		ands	r2, r3
 3524 0438 0D4B     		ldr	r3, .L346+24
 3525 043a 1343     		orrs	r3, r2
 3526 043c 0B80     		strh	r3, [r1]
 3527 043e 88E7     		b	.L283
 3528              	.L284:
1343:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             if (ep->xfer_count != 0)
 3529              		.loc 1 1343 0
 3530 0440 064A     		ldr	r2, .L346+4
 3531 0442 9B18     		adds	r3, r3, r2
 3532 0444 1B88     		ldrh	r3, [r3]
 3533 0446 9B05     		lsls	r3, r3, #22
 3534 0448 9B0D     		lsrs	r3, r3, #22
 3535 044a 0B64     		str	r3, [r1, #64]
1344:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             {
 3536              		.loc 1 1344 0
ARM GAS  /tmp/ccce1JxS.s 			page 91


 3537 044c E9D0     		beq	.L286
1346:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****             }
 3538              		.loc 1 1346 0
 3539 044e 0A8E     		ldrh	r2, [r1, #48]
 3540 0450 E4E7     		b	.L343
 3541              	.LVL296:
 3542              	.L288:
1360:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         }
1361:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         else
1362:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****         {
1363:Drivers/STM32F0xx_HAL_Driver/Src/stm32f0xx_hal_pcd.c ****           HAL_PCD_EP_Transmit(hpcd, ep->num, ep->xfer_buff, ep->xfer_len);
 3543              		.loc 1 1363 0
 3544 0452 FFF7FEFF 		bl	HAL_PCD_EP_Transmit
 3545              	.LVL297:
 3546 0456 43E6     		b	.L263
 3547              	.L347:
 3548              		.align	2
 3549              	.L346:
 3550 0458 8F0F0000 		.word	3983
 3551 045c 06040000 		.word	1030
 3552 0460 0F8FFFFF 		.word	-28913
 3553 0464 02040000 		.word	1026
 3554 0468 0F0F0000 		.word	3855
 3555 046c C080FFFF 		.word	-32576
 3556 0470 80C0FFFF 		.word	-16256
 3557              	.LBE66:
 3558              	.LBE65:
 3559              		.cfi_endproc
 3560              	.LFE41:
 3562              		.text
 3563              	.Letext0:
 3564              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 3565              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 3566              		.file 4 "Drivers/CMSIS/Device/ST/STM32F0xx/Include/system_stm32f0xx.h"
 3567              		.file 5 "Drivers/CMSIS/Device/ST/STM32F0xx/Include/stm32f072xb.h"
 3568              		.file 6 "/usr/arm-none-eabi/include/sys/lock.h"
 3569              		.file 7 "/usr/arm-none-eabi/include/sys/_types.h"
 3570              		.file 8 "/usr/lib/gcc/arm-none-eabi/6.2.0/include/stddef.h"
 3571              		.file 9 "/usr/arm-none-eabi/include/sys/reent.h"
 3572              		.file 10 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_def.h"
 3573              		.file 11 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_pcd.h"
ARM GAS  /tmp/ccce1JxS.s 			page 92


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f0xx_hal_pcd.c
     /tmp/ccce1JxS.s:16     .text.HAL_PCD_MspInit:0000000000000000 $t
     /tmp/ccce1JxS.s:23     .text.HAL_PCD_MspInit:0000000000000000 HAL_PCD_MspInit
     /tmp/ccce1JxS.s:32     .text.HAL_PCD_Init:0000000000000000 $t
     /tmp/ccce1JxS.s:39     .text.HAL_PCD_Init:0000000000000000 HAL_PCD_Init
     /tmp/ccce1JxS.s:182    .text.HAL_PCD_Init:0000000000000088 $d
     /tmp/ccce1JxS.s:187    .text.HAL_PCD_MspDeInit:0000000000000000 $t
     /tmp/ccce1JxS.s:194    .text.HAL_PCD_MspDeInit:0000000000000000 HAL_PCD_MspDeInit
     /tmp/ccce1JxS.s:203    .text.HAL_PCD_Start:0000000000000000 $t
     /tmp/ccce1JxS.s:210    .text.HAL_PCD_Start:0000000000000000 HAL_PCD_Start
     /tmp/ccce1JxS.s:234    .text.HAL_PCD_Stop:0000000000000000 $t
     /tmp/ccce1JxS.s:241    .text.HAL_PCD_Stop:0000000000000000 HAL_PCD_Stop
     /tmp/ccce1JxS.s:290    .text.HAL_PCD_DeInit:0000000000000000 $t
     /tmp/ccce1JxS.s:297    .text.HAL_PCD_DeInit:0000000000000000 HAL_PCD_DeInit
     /tmp/ccce1JxS.s:342    .text.HAL_PCD_DataOutStageCallback:0000000000000000 $t
     /tmp/ccce1JxS.s:349    .text.HAL_PCD_DataOutStageCallback:0000000000000000 HAL_PCD_DataOutStageCallback
     /tmp/ccce1JxS.s:358    .text.HAL_PCD_DataInStageCallback:0000000000000000 $t
     /tmp/ccce1JxS.s:365    .text.HAL_PCD_DataInStageCallback:0000000000000000 HAL_PCD_DataInStageCallback
     /tmp/ccce1JxS.s:374    .text.HAL_PCD_SetupStageCallback:0000000000000000 $t
     /tmp/ccce1JxS.s:381    .text.HAL_PCD_SetupStageCallback:0000000000000000 HAL_PCD_SetupStageCallback
     /tmp/ccce1JxS.s:390    .text.HAL_PCD_SOFCallback:0000000000000000 $t
     /tmp/ccce1JxS.s:397    .text.HAL_PCD_SOFCallback:0000000000000000 HAL_PCD_SOFCallback
     /tmp/ccce1JxS.s:406    .text.HAL_PCD_ResetCallback:0000000000000000 $t
     /tmp/ccce1JxS.s:413    .text.HAL_PCD_ResetCallback:0000000000000000 HAL_PCD_ResetCallback
     /tmp/ccce1JxS.s:422    .text.HAL_PCD_SuspendCallback:0000000000000000 $t
     /tmp/ccce1JxS.s:429    .text.HAL_PCD_SuspendCallback:0000000000000000 HAL_PCD_SuspendCallback
     /tmp/ccce1JxS.s:438    .text.HAL_PCD_ResumeCallback:0000000000000000 $t
     /tmp/ccce1JxS.s:445    .text.HAL_PCD_ResumeCallback:0000000000000000 HAL_PCD_ResumeCallback
     /tmp/ccce1JxS.s:454    .text.HAL_PCD_ISOOUTIncompleteCallback:0000000000000000 $t
     /tmp/ccce1JxS.s:461    .text.HAL_PCD_ISOOUTIncompleteCallback:0000000000000000 HAL_PCD_ISOOUTIncompleteCallback
     /tmp/ccce1JxS.s:470    .text.HAL_PCD_ISOINIncompleteCallback:0000000000000000 $t
     /tmp/ccce1JxS.s:477    .text.HAL_PCD_ISOINIncompleteCallback:0000000000000000 HAL_PCD_ISOINIncompleteCallback
     /tmp/ccce1JxS.s:489    .text.HAL_PCD_ConnectCallback:0000000000000000 $t
     /tmp/ccce1JxS.s:496    .text.HAL_PCD_ConnectCallback:0000000000000000 HAL_PCD_ConnectCallback
     /tmp/ccce1JxS.s:505    .text.HAL_PCD_DisconnectCallback:0000000000000000 $t
     /tmp/ccce1JxS.s:512    .text.HAL_PCD_DisconnectCallback:0000000000000000 HAL_PCD_DisconnectCallback
     /tmp/ccce1JxS.s:524    .text.HAL_PCD_DevConnect:0000000000000000 $t
     /tmp/ccce1JxS.s:531    .text.HAL_PCD_DevConnect:0000000000000000 HAL_PCD_DevConnect
     /tmp/ccce1JxS.s:573    .text.HAL_PCD_DevDisconnect:0000000000000000 $t
     /tmp/ccce1JxS.s:580    .text.HAL_PCD_DevDisconnect:0000000000000000 HAL_PCD_DevDisconnect
     /tmp/ccce1JxS.s:620    .text.HAL_PCD_SetAddress:0000000000000000 $t
     /tmp/ccce1JxS.s:627    .text.HAL_PCD_SetAddress:0000000000000000 HAL_PCD_SetAddress
     /tmp/ccce1JxS.s:690    .text.HAL_PCD_EP_Open:0000000000000000 $t
     /tmp/ccce1JxS.s:697    .text.HAL_PCD_EP_Open:0000000000000000 HAL_PCD_EP_Open
     /tmp/ccce1JxS.s:773    .text.HAL_PCD_EP_Open:000000000000004a $d
     /tmp/ccce1JxS.s:778    .text.HAL_PCD_EP_Open:000000000000004e $t
     /tmp/ccce1JxS.s:1184   .text.HAL_PCD_EP_Open:000000000000026c $d
     /tmp/ccce1JxS.s:1201   .text.HAL_PCD_EP_Close:0000000000000000 $t
     /tmp/ccce1JxS.s:1208   .text.HAL_PCD_EP_Close:0000000000000000 HAL_PCD_EP_Close
     /tmp/ccce1JxS.s:1457   .text.HAL_PCD_EP_Close:0000000000000128 $d
     /tmp/ccce1JxS.s:1468   .text.HAL_PCD_EP_Receive:0000000000000000 $t
     /tmp/ccce1JxS.s:1475   .text.HAL_PCD_EP_Receive:0000000000000000 HAL_PCD_EP_Receive
     /tmp/ccce1JxS.s:1781   .text.HAL_PCD_EP_Receive:0000000000000148 $d
     /tmp/ccce1JxS.s:1790   .text.HAL_PCD_EP_GetRxCount:0000000000000000 $t
     /tmp/ccce1JxS.s:1797   .text.HAL_PCD_EP_GetRxCount:0000000000000000 HAL_PCD_EP_GetRxCount
     /tmp/ccce1JxS.s:1822   .text.HAL_PCD_EP_SetStall:0000000000000000 $t
ARM GAS  /tmp/ccce1JxS.s 			page 93


     /tmp/ccce1JxS.s:1829   .text.HAL_PCD_EP_SetStall:0000000000000000 HAL_PCD_EP_SetStall
     /tmp/ccce1JxS.s:1956   .text.HAL_PCD_EP_SetStall:0000000000000080 $d
     /tmp/ccce1JxS.s:1966   .text.HAL_PCD_EP_ClrStall:0000000000000000 $t
     /tmp/ccce1JxS.s:1973   .text.HAL_PCD_EP_ClrStall:0000000000000000 HAL_PCD_EP_ClrStall
     /tmp/ccce1JxS.s:2115   .text.HAL_PCD_EP_ClrStall:000000000000009c $d
     /tmp/ccce1JxS.s:2126   .text.HAL_PCD_EP_Flush:0000000000000000 $t
     /tmp/ccce1JxS.s:2133   .text.HAL_PCD_EP_Flush:0000000000000000 HAL_PCD_EP_Flush
     /tmp/ccce1JxS.s:2147   .text.HAL_PCD_ActivateRemoteWakeup:0000000000000000 $t
     /tmp/ccce1JxS.s:2154   .text.HAL_PCD_ActivateRemoteWakeup:0000000000000000 HAL_PCD_ActivateRemoteWakeup
     /tmp/ccce1JxS.s:2179   .text.HAL_PCD_DeActivateRemoteWakeup:0000000000000000 $t
     /tmp/ccce1JxS.s:2186   .text.HAL_PCD_DeActivateRemoteWakeup:0000000000000000 HAL_PCD_DeActivateRemoteWakeup
     /tmp/ccce1JxS.s:2211   .text.HAL_PCD_GetState:0000000000000000 $t
     /tmp/ccce1JxS.s:2218   .text.HAL_PCD_GetState:0000000000000000 HAL_PCD_GetState
     /tmp/ccce1JxS.s:2238   .text.PCD_WritePMA:0000000000000000 $t
     /tmp/ccce1JxS.s:2245   .text.PCD_WritePMA:0000000000000000 PCD_WritePMA
     /tmp/ccce1JxS.s:2299   .text.HAL_PCD_EP_Transmit:0000000000000000 $t
     /tmp/ccce1JxS.s:2306   .text.HAL_PCD_EP_Transmit:0000000000000000 HAL_PCD_EP_Transmit
     /tmp/ccce1JxS.s:2693   .text.HAL_PCD_EP_Transmit:00000000000001b8 $d
     /tmp/ccce1JxS.s:2705   .text.PCD_ReadPMA:0000000000000000 $t
     /tmp/ccce1JxS.s:2712   .text.PCD_ReadPMA:0000000000000000 PCD_ReadPMA
     /tmp/ccce1JxS.s:2761   .text.HAL_PCD_IRQHandler:0000000000000000 $t
     /tmp/ccce1JxS.s:2768   .text.HAL_PCD_IRQHandler:0000000000000000 HAL_PCD_IRQHandler
     /tmp/ccce1JxS.s:3205   .text.HAL_PCD_IRQHandler:000000000000023c $d
     /tmp/ccce1JxS.s:3225   .text.HAL_PCD_IRQHandler:0000000000000278 $t
     /tmp/ccce1JxS.s:3550   .text.HAL_PCD_IRQHandler:0000000000000458 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
__gnu_thumb1_case_uqi
